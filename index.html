<!doctype html><html lang="en">
 <head>
  <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
  <meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport">
  <title>Clipboard API and events</title>
  <meta content="w3c/ED" name="w3c-status">
  <link href="https://www.w3.org/StyleSheets/TR/2021/W3C-ED" rel="stylesheet">
  <meta content="Bikeshed version 82ce88815, updated Thu Sep 7 16:33:55 2023 -0700" name="generator">
  <link href="https://www.w3.org/TR/clipboard-apis/" rel="canonical">
  <meta content="eb4e99a40e2b82ec4a8265dab81b0cc442706a58" name="document-revision">
<style>/* Boilerplate: style-autolinks */
.css.css, .property.property, .descriptor.descriptor {
    color: var(--a-normal-text);
    font-size: inherit;
    font-family: inherit;
}
.css::before, .property::before, .descriptor::before {
    content: "‘";
}
.css::after, .property::after, .descriptor::after {
    content: "’";
}
.property, .descriptor {
    /* Don't wrap property and descriptor names */
    white-space: nowrap;
}
.type { /* CSS value <type> */
    font-style: italic;
}
pre .property::before, pre .property::after {
    content: "";
}
[data-link-type="property"]::before,
[data-link-type="propdesc"]::before,
[data-link-type="descriptor"]::before,
[data-link-type="value"]::before,
[data-link-type="function"]::before,
[data-link-type="at-rule"]::before,
[data-link-type="selector"]::before,
[data-link-type="maybe"]::before {
    content: "‘";
}
[data-link-type="property"]::after,
[data-link-type="propdesc"]::after,
[data-link-type="descriptor"]::after,
[data-link-type="value"]::after,
[data-link-type="function"]::after,
[data-link-type="at-rule"]::after,
[data-link-type="selector"]::after,
[data-link-type="maybe"]::after {
    content: "’";
}

[data-link-type].production::before,
[data-link-type].production::after,
.prod [data-link-type]::before,
.prod [data-link-type]::after {
    content: "";
}

[data-link-type=element],
[data-link-type=element-attr] {
    font-family: Menlo, Consolas, "DejaVu Sans Mono", monospace;
    font-size: .9em;
}
[data-link-type=element]::before { content: "<" }
[data-link-type=element]::after  { content: ">" }

[data-link-type=biblio] {
    white-space: pre;
}

@media (prefers-color-scheme: dark) {
    :root {
        --selflink-text: black;
        --selflink-bg: silver;
        --selflink-hover-text: white;
    }
}
</style>
<style>/* Boilerplate: style-colors */

/* Any --*-text not paired with a --*-bg is assumed to have a transparent bg */
:root {
    color-scheme: light dark;

    --text: black;
    --bg: white;

    --unofficial-watermark: url(https://www.w3.org/StyleSheets/TR/2016/logos/UD-watermark);

    --logo-bg: #1a5e9a;
    --logo-active-bg: #c00;
    --logo-text: white;

    --tocnav-normal-text: #707070;
    --tocnav-normal-bg: var(--bg);
    --tocnav-hover-text: var(--tocnav-normal-text);
    --tocnav-hover-bg: #f8f8f8;
    --tocnav-active-text: #c00;
    --tocnav-active-bg: var(--tocnav-normal-bg);

    --tocsidebar-text: var(--text);
    --tocsidebar-bg: #f7f8f9;
    --tocsidebar-shadow: rgba(0,0,0,.1);
    --tocsidebar-heading-text: hsla(203,20%,40%,.7);

    --toclink-text: var(--text);
    --toclink-underline: #3980b5;
    --toclink-visited-text: var(--toclink-text);
    --toclink-visited-underline: #054572;

    --heading-text: #005a9c;

    --hr-text: var(--text);

    --algo-border: #def;

    --del-text: red;
    --del-bg: transparent;
    --ins-text: #080;
    --ins-bg: transparent;

    --a-normal-text: #034575;
    --a-normal-underline: #bbb;
    --a-visited-text: var(--a-normal-text);
    --a-visited-underline: #707070;
    --a-hover-bg: rgba(75%, 75%, 75%, .25);
    --a-active-text: #c00;
    --a-active-underline: #c00;

    --blockquote-border: silver;
    --blockquote-bg: transparent;
    --blockquote-text: currentcolor;

    --issue-border: #e05252;
    --issue-bg: #fbe9e9;
    --issue-text: var(--text);
    --issueheading-text: #831616;

    --example-border: #e0cb52;
    --example-bg: #fcfaee;
    --example-text: var(--text);
    --exampleheading-text: #574b0f;

    --note-border: #52e052;
    --note-bg: #e9fbe9;
    --note-text: var(--text);
    --noteheading-text: hsl(120, 70%, 30%);
    --notesummary-underline: silver;

    --assertion-border: #aaa;
    --assertion-bg: #eee;
    --assertion-text: black;

    --advisement-border: orange;
    --advisement-bg: #fec;
    --advisement-text: var(--text);
    --advisementheading-text: #b35f00;

    --warning-border: red;
    --warning-bg: hsla(40,100%,50%,0.95);
    --warning-text: var(--text);

    --amendment-border: #330099;
    --amendment-bg: #F5F0FF;
    --amendment-text: var(--text);
    --amendmentheading-text: #220066;

    --def-border: #8ccbf2;
    --def-bg: #def;
    --def-text: var(--text);
    --defrow-border: #bbd7e9;

    --datacell-border: silver;

    --indexinfo-text: #707070;

    --indextable-hover-text: black;
    --indextable-hover-bg: #f7f8f9;

    --outdatedspec-bg: rgba(0, 0, 0, .5);
    --outdatedspec-text: black;
    --outdated-bg: maroon;
    --outdated-text: white;
    --outdated-shadow: red;

    --editedrec-bg: darkorange;
}

@media (prefers-color-scheme: dark) {
    :root {
        --text: #ddd;
        --bg: black;

        --unofficial-watermark: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='400' height='400'%3E%3Cg fill='%23100808' transform='translate(200 200) rotate(-45) translate(-200 -200)' stroke='%23100808' stroke-width='3'%3E%3Ctext x='50%25' y='220' style='font: bold 70px sans-serif; text-anchor: middle; letter-spacing: 6px;'%3EUNOFFICIAL%3C/text%3E%3Ctext x='50%25' y='305' style='font: bold 70px sans-serif; text-anchor: middle; letter-spacing: 6px;'%3EDRAFT%3C/text%3E%3C/g%3E%3C/svg%3E");

        --logo-bg: #1a5e9a;
        --logo-active-bg: #c00;
        --logo-text: white;

        --tocnav-normal-text: #999;
        --tocnav-normal-bg: var(--bg);
        --tocnav-hover-text: var(--tocnav-normal-text);
        --tocnav-hover-bg: #080808;
        --tocnav-active-text: #f44;
        --tocnav-active-bg: var(--tocnav-normal-bg);

        --tocsidebar-text: var(--text);
        --tocsidebar-bg: #080808;
        --tocsidebar-shadow: rgba(255,255,255,.1);
        --tocsidebar-heading-text: hsla(203,20%,40%,.7);

        --toclink-text: var(--text);
        --toclink-underline: #6af;
        --toclink-visited-text: var(--toclink-text);
        --toclink-visited-underline: #054572;

        --heading-text: #8af;

        --hr-text: var(--text);

        --algo-border: #456;

        --del-text: #f44;
        --del-bg: transparent;
        --ins-text: #4a4;
        --ins-bg: transparent;

        --a-normal-text: #6af;
        --a-normal-underline: #555;
        --a-visited-text: var(--a-normal-text);
        --a-visited-underline: var(--a-normal-underline);
        --a-hover-bg: rgba(25%, 25%, 25%, .2);
        --a-active-text: #f44;
        --a-active-underline: var(--a-active-text);

        --borderedblock-bg: rgba(255, 255, 255, .05);

        --blockquote-border: silver;
        --blockquote-bg: var(--borderedblock-bg);
        --blockquote-text: currentcolor;

        --issue-border: #e05252;
        --issue-bg: var(--borderedblock-bg);
        --issue-text: var(--text);
        --issueheading-text: hsl(0deg, 70%, 70%);

        --example-border: hsl(50deg, 90%, 60%);
        --example-bg: var(--borderedblock-bg);
        --example-text: var(--text);
        --exampleheading-text: hsl(50deg, 70%, 70%);

        --note-border: hsl(120deg, 100%, 35%);
        --note-bg: var(--borderedblock-bg);
        --note-text: var(--text);
        --noteheading-text: hsl(120, 70%, 70%);
        --notesummary-underline: silver;

        --assertion-border: #444;
        --assertion-bg: var(--borderedblock-bg);
        --assertion-text: var(--text);

        --advisement-border: orange;
        --advisement-bg: #222218;
        --advisement-text: var(--text);
        --advisementheading-text: #f84;

        --warning-border: red;
        --warning-bg: hsla(40,100%,20%,0.95);
        --warning-text: var(--text);

        --amendment-border: #330099;
        --amendment-bg: #080010;
        --amendment-text: var(--text);
        --amendmentheading-text: #cc00ff;

        --def-border: #8ccbf2;
        --def-bg: #080818;
        --def-text: var(--text);
        --defrow-border: #136;

        --datacell-border: silver;

        --indexinfo-text: #aaa;

        --indextable-hover-text: var(--text);
        --indextable-hover-bg: #181818;

        --outdatedspec-bg: rgba(255, 255, 255, .5);
        --outdatedspec-text: black;
        --outdated-bg: maroon;
        --outdated-text: white;
        --outdated-shadow: red;

        --editedrec-bg: darkorange;
    }
    /* In case a transparent-bg image doesn't expect to be on a dark bg,
       which is quite common in practice... */
    img { background: white; }
}
</style>
<style>/* Boilerplate: style-counters */
body {
    counter-reset: example figure issue;
}
.issue {
    counter-increment: issue;
}
.issue:not(.no-marker)::before {
    content: "Issue " counter(issue);
}

.example {
    counter-increment: example;
}
.example:not(.no-marker)::before {
    content: "Example " counter(example);
}
.invalid.example:not(.no-marker)::before,
.illegal.example:not(.no-marker)::before {
    content: "Invalid Example" counter(example);
}

figcaption {
    counter-increment: figure;
}
figcaption:not(.no-marker)::before {
    content: "Figure " counter(figure) " ";
}
</style>
<style>/* Boilerplate: style-dfn-panel */
:root {
    --dfnpanel-bg: #ddd;
    --dfnpanel-text: var(--text);
}
@media (prefers-color-scheme: dark) {
    :root {
        --dfnpanel-bg: #222;
        --dfnpanel-text: var(--text);
    }
}
.dfn-panel {
    position: absolute;
    z-index: 35;
    width: 20em;
    width: 300px;
    height: auto;
    max-height: 500px;
    overflow: auto;
    padding: 0.5em 0.75em;
    font: small Helvetica Neue, sans-serif, Droid Sans Fallback;
    background: var(--dfnpanel-bg);
    color: var(--dfnpanel-text);
    border: outset 0.2em;
    white-space: normal; /* in case it's moved into a pre */
}
.dfn-panel:not(.on) { display: none; }
.dfn-panel * { margin: 0; padding: 0; text-indent: 0; }
.dfn-panel > b { display: block; }
.dfn-panel a { color: var(--dfnpanel-text); }
.dfn-panel a:not(:hover) { text-decoration: none !important; border-bottom: none !important; }
.dfn-panel > b + b { margin-top: 0.25em; }
.dfn-panel ul { padding: 0 0 0 1em; list-style: none; }
.dfn-panel li a {
    white-space: pre;
    display: inline-block;
    max-width: calc(300px - 1.5em - 1em);
    overflow: hidden;
    text-overflow: ellipsis;
}

.dfn-panel.activated {
    display: inline-block;
    position: fixed;
    left: .5em;
    bottom: 2em;
    margin: 0 auto;
    max-width: calc(100vw - 1.5em - .4em - .5em);
    max-height: 30vh;
}

.dfn-paneled[role="button"] { cursor: pointer; }
</style>
<style>/* Boilerplate: style-dfn-panel */
:root {
    --dfnpanel-bg: #ddd;
    --dfnpanel-text: var(--text);
}
@media (prefers-color-scheme: dark) {
    :root {
        --dfnpanel-bg: #222;
        --dfnpanel-text: var(--text);
    }
}
.dfn-panel {
    position: absolute;
    z-index: 35;
    width: 20em;
    width: 300px;
    height: auto;
    max-height: 500px;
    overflow: auto;
    padding: 0.5em 0.75em;
    font: small Helvetica Neue, sans-serif, Droid Sans Fallback;
    background: var(--dfnpanel-bg);
    color: var(--dfnpanel-text);
    border: outset 0.2em;
    white-space: normal; /* in case it's moved into a pre */
}
.dfn-panel:not(.on) { display: none; }
.dfn-panel * { margin: 0; padding: 0; text-indent: 0; }
.dfn-panel > b { display: block; }
.dfn-panel a { color: var(--dfnpanel-text); }
.dfn-panel a:not(:hover) { text-decoration: none !important; border-bottom: none !important; }
.dfn-panel > b + b { margin-top: 0.25em; }
.dfn-panel ul { padding: 0 0 0 1em; list-style: none; }
.dfn-panel li a {
    white-space: pre;
    display: inline-block;
    max-width: calc(300px - 1.5em - 1em);
    overflow: hidden;
    text-overflow: ellipsis;
}

.dfn-panel.activated {
    display: inline-block;
    position: fixed;
    left: .5em;
    bottom: 2em;
    margin: 0 auto;
    max-width: calc(100vw - 1.5em - .4em - .5em);
    max-height: 30vh;
}

.dfn-paneled[role="button"] { cursor: pointer; }
</style>
<style>/* Boilerplate: style-issues */
a[href].issue-return {
    float: right;
    float: inline-end;
    color: var(--issueheading-text);
    font-weight: bold;
    text-decoration: none;
}
</style>
<style>/* Boilerplate: style-md-lists */
/* This is a weird hack for me not yet following the commonmark spec
   regarding paragraph and lists. */
[data-md] > :first-child {
    margin-top: 0;
}
[data-md] > :last-child {
    margin-bottom: 0;
}
</style>
<style>/* Boilerplate: style-mdn-anno */
:root {
	--mdn-bg: #EEE;
	--mdn-shadow: #999;
	--mdn-nosupport-text: #ccc;
}
@media (prefers-color-scheme: dark) {
	:root {
		--mdn-bg: #222;
		--mdn-shadow: #444;
		--mdn-nosupport-text: #666;
	}
}
.mdn-anno {
	background: var(--mdn-bg, #EEE);
	border-radius: .25em;
	box-shadow: 0 0 3px var(--mdn-shadow, #999);
	color: var(--text, black);
	font: 1em sans-serif;
	hyphens: none;
	max-width: min-content;
	overflow: hidden;
	padding: 0.2em;
	position: absolute;
	right: 0.3em;
	top: auto;
	white-space: nowrap;
	word-wrap: normal;
	z-index: 8;
}
.mdn-anno.unpositioned {
	display: none;
}
.mdn-anno.overlapping-main {
	opacity: .2;
	transition: opacity .1s;
}
.mdn-anno[open] {
	opacity: 1;
	z-index: 9;
	min-width: 9em;
}
.mdn-anno:hover {
	opacity: 1;
	outline: var(--text, black) 1px solid;
}
.mdn-anno > summary {
	font-weight: normal;
	text-align: right;
	cursor: pointer;
	display: block;
}
.mdn-anno > summary > .less-than-two-engines-flag {
	color: red;
	padding-right: 2px;
}
.mdn-anno > summary > .all-engines-flag {
	color: green;
	padding-right: 2px;
}
.mdn-anno > summary > span {
	color: #fff;
	background-color: #000;
	font-weight: normal;
	font-family: zillaslab, Palatino, "Palatino Linotype", serif;
	padding: 2px 3px 0px 3px;
	line-height: 1.3em;
	vertical-align: top;
}
.mdn-anno > .feature {
	margin-top: 20px;
}
.mdn-anno > .feature:not(:first-of-type) {
	border-top: 1px solid #999;
	margin-top: 6px;
	padding-top: 2px;
}
.mdn-anno > .feature > .less-than-two-engines-text {
	color: red;
}
.mdn-anno > .feature > .all-engines-text {
	color: green;
}
.mdn-anno > .feature > p {
	font-size: .75em;
	margin-top: 6px;
	margin-bottom: 0;
}
.mdn-anno > .feature > p + p {
	margin-top: 3px;
}
.mdn-anno > .feature > .support {
	display: block;
	font-size: 0.6em;
	margin: 0;
	padding: 0;
	margin-top: 2px;
}
.mdn-anno > .feature > .support + div {
	padding-top: 0.5em;
}
.mdn-anno > .feature > .support > hr {
	display: block;
	border: none;
	border-top: 1px dotted #999;
	padding: 3px 0px 0px 0px;
	margin: 2px 3px 0px 3px;
}
.mdn-anno > .feature > .support > hr::before {
	content: "";
}
.mdn-anno > .feature > .support > span {
	padding: 0.2em 0;
	display: block;
	display: table;
}
.mdn-anno > .feature > .support > span.no {
	color: var(--mdn-nosupport-text);
	filter: grayscale(100%);
}
.mdn-anno > .feature > .support > span.no::before {
	opacity: 0.5;
}
.mdn-anno > .feature > .support > span:first-of-type {
	padding-top: 0.5em;
}
.mdn-anno > .feature > .support > span > span {
	padding: 0 0.5em;
	display: table-cell;
}
.mdn-anno > .feature > .support > span > span:first-child {
	width: 100%;
}
.mdn-anno > .feature > .support > span > span:last-child {
	width: 100%;
	white-space: pre;
	padding: 0;
}
.mdn-anno > .feature > .support > span::before {
	content: ' ';
	display: table-cell;
	min-width: 1.5em;
	height: 1.5em;
	background: no-repeat center center;
	background-size: contain;
	text-align: right;
	font-size: 0.75em;
	font-weight: bold;
}
.mdn-anno > .feature > .support > .chrome_android::before {
	background-image: url(https://resources.whatwg.org/browser-logos/chrome.svg);
}
.mdn-anno > .feature > .support > .firefox_android::before {
	background-image: url(https://resources.whatwg.org/browser-logos/firefox.png);
}
.mdn-anno > .feature > .support > .chrome::before {
	background-image: url(https://resources.whatwg.org/browser-logos/chrome.svg);
}
.mdn-anno > .feature > .support > .edge_blink::before {
	background-image: url(https://resources.whatwg.org/browser-logos/edge.svg);
}
.mdn-anno > .feature > .support > .edge::before {
	background-image: url(https://resources.whatwg.org/browser-logos/edge_legacy.svg);
}
.mdn-anno > .feature > .support > .firefox::before {
	background-image: url(https://resources.whatwg.org/browser-logos/firefox.png);
}
.mdn-anno > .feature > .support > .ie::before {
	background-image: url(https://resources.whatwg.org/browser-logos/ie.png);
}
.mdn-anno > .feature > .support > .safari_ios::before {
	background-image: url(https://resources.whatwg.org/browser-logos/safari-ios.svg);
}
.mdn-anno > .feature > .support > .nodejs::before {
	background-image: url(https://nodejs.org/static/images/favicons/favicon.ico);
}
.mdn-anno > .feature > .support > .opera_android::before {
	background-image: url(https://resources.whatwg.org/browser-logos/opera.svg);
}
.mdn-anno > .feature > .support > .opera::before {
	background-image: url(https://resources.whatwg.org/browser-logos/opera.svg);
}
.mdn-anno > .feature > .support > .safari::before {
	background-image: url(https://resources.whatwg.org/browser-logos/safari.png);
}
.mdn-anno > .feature > .support > .samsunginternet_android::before {
	background-image: url(https://resources.whatwg.org/browser-logos/samsung.svg);
}
.mdn-anno > .feature > .support > .webview_android::before {
	background-image: url(https://resources.whatwg.org/browser-logos/android-webview.png);
}
.name-slug-mismatch {
	color: red;
}
.caniuse-status:hover {
	z-index: 9;
}
/* dt, li, .issue, .note, and .example are "position: relative", so to put annotation at right margin, must move to right of containing block */;
.h-entry:not(.status-LS) dt > .mdn-anno, .h-entry:not(.status-LS) li > .mdn-anno, .h-entry:not(.status-LS) .issue > .mdn-anno, .h-entry:not(.status-LS) .note > .mdn-anno, .h-entry:not(.status-LS) .example > .mdn-anno {
	right: -6.7em;
}
.h-entry p + .mdn-anno {
	margin-top: 0;
}
 h2 + .mdn-anno.after {
	margin: -48px 0 0 0;
}
 h3 + .mdn-anno.after {
	margin: -46px 0 0 0;
}
 h4 + .mdn-anno.after {
	margin: -42px 0 0 0;
}
 h5 + .mdn-anno.after {
	margin: -40px 0 0 0;
}
 h6 + .mdn-anno.after {
	margin: -40px 0 0 0;
}
</style>
<style>/* Boilerplate: style-selflinks */

:root {
    --selflink-text: white;
    --selflink-bg: gray;
    --selflink-hover-text: black;
}
.heading, .issue, .note, .example, li, dt {
    position: relative;
}
a.self-link {
    position: absolute;
    top: 0;
    left: calc(-1 * (3.5rem - 26px));
    width: calc(3.5rem - 26px);
    height: 2em;
    text-align: center;
    border: none;
    transition: opacity .2s;
    opacity: .5;
}
a.self-link:hover {
    opacity: 1;
}
.heading > a.self-link {
    font-size: 83%;
}
.example > a.self-link,
.note > a.self-link,
.issue > a.self-link {
    /* These blocks are overflow:auto, so positioning outside
       doesn't work. */
    left: auto;
    right: 0;
}
li > a.self-link {
    left: calc(-1 * (3.5rem - 26px) - 2em);
}
dfn > a.self-link {
    top: auto;
    left: auto;
    opacity: 0;
    width: 1.5em;
    height: 1.5em;
    background: var(--selflink-bg);
    color: var(--selflink-text);
    font-style: normal;
    transition: opacity .2s, background-color .2s, color .2s;
}
dfn:hover > a.self-link {
    opacity: 1;
}
dfn > a.self-link:hover {
    color: var(--selflink-hover-text);
}

a.self-link::before            { content: "¶"; }
.heading > a.self-link::before { content: "§"; }
dfn > a.self-link::before      { content: "#"; }
</style>
<style>/* Boilerplate: style-syntax-highlighting */

            pre.idl.highlight {
                background: var(--borderedblock-bg, var(--def-bg));
            }
            
</style>
<style>/* Boilerplate: style-syntax-highlighting */

code.highlight { padding: .1em; border-radius: .3em; }
pre.highlight, pre > code.highlight { display: block; padding: 1em; margin: .5em 0; overflow: auto; border-radius: 0; }

.highlight:not(.idl) { background: rgba(0, 0, 0, .03); }
c-[a] { color: #990055 } /* Keyword.Declaration */
c-[b] { color: #990055 } /* Keyword.Type */
c-[c] { color: #708090 } /* Comment */
c-[d] { color: #708090 } /* Comment.Multiline */
c-[e] { color: #0077aa } /* Name.Attribute */
c-[f] { color: #669900 } /* Name.Tag */
c-[g] { color: #222222 } /* Name.Variable */
c-[k] { color: #990055 } /* Keyword */
c-[l] { color: #000000 } /* Literal */
c-[m] { color: #000000 } /* Literal.Number */
c-[n] { color: #0077aa } /* Name */
c-[o] { color: #999999 } /* Operator */
c-[p] { color: #999999 } /* Punctuation */
c-[s] { color: #a67f59 } /* Literal.String */
c-[t] { color: #a67f59 } /* Literal.String.Single */
c-[u] { color: #a67f59 } /* Literal.String.Double */
c-[cp] { color: #708090 } /* Comment.Preproc */
c-[c1] { color: #708090 } /* Comment.Single */
c-[cs] { color: #708090 } /* Comment.Special */
c-[kc] { color: #990055 } /* Keyword.Constant */
c-[kn] { color: #990055 } /* Keyword.Namespace */
c-[kp] { color: #990055 } /* Keyword.Pseudo */
c-[kr] { color: #990055 } /* Keyword.Reserved */
c-[ld] { color: #000000 } /* Literal.Date */
c-[nc] { color: #0077aa } /* Name.Class */
c-[no] { color: #0077aa } /* Name.Constant */
c-[nd] { color: #0077aa } /* Name.Decorator */
c-[ni] { color: #0077aa } /* Name.Entity */
c-[ne] { color: #0077aa } /* Name.Exception */
c-[nf] { color: #0077aa } /* Name.Function */
c-[nl] { color: #0077aa } /* Name.Label */
c-[nn] { color: #0077aa } /* Name.Namespace */
c-[py] { color: #0077aa } /* Name.Property */
c-[ow] { color: #999999 } /* Operator.Word */
c-[mb] { color: #000000 } /* Literal.Number.Bin */
c-[mf] { color: #000000 } /* Literal.Number.Float */
c-[mh] { color: #000000 } /* Literal.Number.Hex */
c-[mi] { color: #000000 } /* Literal.Number.Integer */
c-[mo] { color: #000000 } /* Literal.Number.Oct */
c-[sb] { color: #a67f59 } /* Literal.String.Backtick */
c-[sc] { color: #a67f59 } /* Literal.String.Char */
c-[sd] { color: #a67f59 } /* Literal.String.Doc */
c-[se] { color: #a67f59 } /* Literal.String.Escape */
c-[sh] { color: #a67f59 } /* Literal.String.Heredoc */
c-[si] { color: #a67f59 } /* Literal.String.Interpol */
c-[sx] { color: #a67f59 } /* Literal.String.Other */
c-[sr] { color: #a67f59 } /* Literal.String.Regex */
c-[ss] { color: #a67f59 } /* Literal.String.Symbol */
c-[vc] { color: #0077aa } /* Name.Variable.Class */
c-[vg] { color: #0077aa } /* Name.Variable.Global */
c-[vi] { color: #0077aa } /* Name.Variable.Instance */
c-[il] { color: #000000 } /* Literal.Number.Integer.Long */


@media (prefers-color-scheme: dark) {
    .highlight:not(.idl) { background: rgba(255, 255, 255, .05); }

    c-[a] { color: #d33682 } /* Keyword.Declaration */
    c-[b] { color: #d33682 } /* Keyword.Type */
    c-[c] { color: #2aa198 } /* Comment */
    c-[d] { color: #2aa198 } /* Comment.Multiline */
    c-[e] { color: #268bd2 } /* Name.Attribute */
    c-[f] { color: #b58900 } /* Name.Tag */
    c-[g] { color: #cb4b16 } /* Name.Variable */
    c-[k] { color: #d33682 } /* Keyword */
    c-[l] { color: #657b83 } /* Literal */
    c-[m] { color: #657b83 } /* Literal.Number */
    c-[n] { color: #268bd2 } /* Name */
    c-[o] { color: #657b83 } /* Operator */
    c-[p] { color: #657b83 } /* Punctuation */
    c-[s] { color: #6c71c4 } /* Literal.String */
    c-[t] { color: #6c71c4 } /* Literal.String.Single */
    c-[u] { color: #6c71c4 } /* Literal.String.Double */
    c-[ch] { color: #2aa198 } /* Comment.Hashbang */
    c-[cp] { color: #2aa198 } /* Comment.Preproc */
    c-[cpf] { color: #2aa198 } /* Comment.PreprocFile */
    c-[c1] { color: #2aa198 } /* Comment.Single */
    c-[cs] { color: #2aa198 } /* Comment.Special */
    c-[kc] { color: #d33682 } /* Keyword.Constant */
    c-[kn] { color: #d33682 } /* Keyword.Namespace */
    c-[kp] { color: #d33682 } /* Keyword.Pseudo */
    c-[kr] { color: #d33682 } /* Keyword.Reserved */
    c-[ld] { color: #657b83 } /* Literal.Date */
    c-[nc] { color: #268bd2 } /* Name.Class */
    c-[no] { color: #268bd2 } /* Name.Constant */
    c-[nd] { color: #268bd2 } /* Name.Decorator */
    c-[ni] { color: #268bd2 } /* Name.Entity */
    c-[ne] { color: #268bd2 } /* Name.Exception */
    c-[nf] { color: #268bd2 } /* Name.Function */
    c-[nl] { color: #268bd2 } /* Name.Label */
    c-[nn] { color: #268bd2 } /* Name.Namespace */
    c-[py] { color: #268bd2 } /* Name.Property */
    c-[ow] { color: #657b83 } /* Operator.Word */
    c-[mb] { color: #657b83 } /* Literal.Number.Bin */
    c-[mf] { color: #657b83 } /* Literal.Number.Float */
    c-[mh] { color: #657b83 } /* Literal.Number.Hex */
    c-[mi] { color: #657b83 } /* Literal.Number.Integer */
    c-[mo] { color: #657b83 } /* Literal.Number.Oct */
    c-[sa] { color: #6c71c4 } /* Literal.String.Affix */
    c-[sb] { color: #6c71c4 } /* Literal.String.Backtick */
    c-[sc] { color: #6c71c4 } /* Literal.String.Char */
    c-[dl] { color: #6c71c4 } /* Literal.String.Delimiter */
    c-[sd] { color: #6c71c4 } /* Literal.String.Doc */
    c-[se] { color: #6c71c4 } /* Literal.String.Escape */
    c-[sh] { color: #6c71c4 } /* Literal.String.Heredoc */
    c-[si] { color: #6c71c4 } /* Literal.String.Interpol */
    c-[sx] { color: #6c71c4 } /* Literal.String.Other */
    c-[sr] { color: #6c71c4 } /* Literal.String.Regex */
    c-[ss] { color: #6c71c4 } /* Literal.String.Symbol */
    c-[fm] { color: #268bd2 } /* Name.Function.Magic */
    c-[vc] { color: #cb4b16 } /* Name.Variable.Class */
    c-[vg] { color: #cb4b16 } /* Name.Variable.Global */
    c-[vi] { color: #cb4b16 } /* Name.Variable.Instance */
    c-[vm] { color: #cb4b16 } /* Name.Variable.Magic */
    c-[il] { color: #657b83 } /* Literal.Number.Integer.Long */
}
</style>
<style>/* Boilerplate: style-var-click-highlighting */
/*
Colors were chosen in Lab using https://nixsensor.com/free-color-converter/
D50 2deg illuminant, L in [0,100], a and b in [-128, 128]
0 = lab(85,0,85)
1 = lab(85,80,30)
2 = lab(85,-40,40)
3 = lab(85,-50,0)
4 = lab(85,5,15)
5 = lab(85,-10,-50)
6 = lab(85,35,-15)
*/
var { cursor: pointer; }
var.selected0 { background-color: #F4D200; box-shadow: 0 0 0 2px #F4D200; }
var.selected1 { background-color: #FF87A2; box-shadow: 0 0 0 2px #FF87A2; }
var.selected2 { background-color: #96E885; box-shadow: 0 0 0 2px #96E885; }
var.selected3 { background-color: #3EEED2; box-shadow: 0 0 0 2px #3EEED2; }
var.selected4 { background-color: #EACFB6; box-shadow: 0 0 0 2px #EACFB6; }
var.selected5 { background-color: #82DDFF; box-shadow: 0 0 0 2px #82DDFF; }
var.selected6 { background-color: #FFBCF2; box-shadow: 0 0 0 2px #FFBCF2; }
</style>
 <body class="h-entry">
  <div class="head">
   <p data-fill-with="logo"><a class="logo" href="https://www.w3.org/"> <img alt="W3C" height="48" src="https://www.w3.org/StyleSheets/TR/2021/logos/W3C" width="72"> </a> </p>
   <h1>Clipboard API and events</h1>
   <p id="w3c-state"><a href="https://www.w3.org/standards/types#ED">Editor’s Draft</a>, <time class="dt-updated" datetime="2023-09-18">18 September 2023</time></p>
   <details open>
    <summary>More details about this document</summary>
    <div data-fill-with="spec-metadata">
     <dl>
      <dt>This version:
      <dd><a class="u-url" href="https://w3c.github.io/clipboard-apis/">https://w3c.github.io/clipboard-apis/</a>
      <dt>Latest published version:
      <dd><a href="https://www.w3.org/TR/clipboard-apis/">https://www.w3.org/TR/clipboard-apis/</a>
      <dt>Previous Versions:
      <dd><a href="https://www.w3.org/TR/2023/WD-clipboard-apis-20230516/" rel="prev">https://www.w3.org/TR/2023/WD-clipboard-apis-20230516/</a>
      <dt>Feedback:
      <dd><a href="https://github.com/w3c/clipboard-apis/issues/">GitHub</a>
      <dd><a href="#issues-index">Inline In Spec</a>
      <dt class="editor">Editors:
      <dd class="editor p-author h-card vcard" data-editor-id="59482"><a class="p-name fn u-email email" href="mailto:garykac@google.com">Gary Kacmarcik</a> (<span class="p-org org">Google</span>)
      <dd class="editor p-author h-card vcard" data-editor-id="126950"><a class="p-name fn u-email email" href="mailto:snianu@microsoft.com">Anupam Snigdha</a> (<span class="p-org org">Microsoft</span>)
      <dt class="editor">Former Editors:
      <dd class="editor p-author h-card vcard"><span class="p-name fn">Hallvord R. M. Steen</span> (<span class="p-org org">Mozilla</span>)
      <dd class="editor p-author h-card vcard" data-editor-id="78883"><a class="p-name fn u-email email" href="mailto:glyuk@microsoft.com">Grisha Lyukshin</a> (<span class="p-org org">Microsoft</span>)
      <dt>Explainer:
      <dd><a href="https://github.com/w3c/clipboard-apis/blob/master/explainer.adoc">Async Clipboard API Explainer</a>
     </dl>
    </div>
   </details>
   <div data-fill-with="warning"></div>
   <p class="copyright" data-fill-with="copyright"><a href="https://www.w3.org/Consortium/Legal/ipr-notice#Copyright">Copyright</a> © 2023 <a href="https://www.w3.org/">World Wide Web Consortium</a>. <abbr title="World Wide Web Consortium">W3C</abbr><sup>®</sup> <a href="https://www.w3.org/Consortium/Legal/ipr-notice#Legal_Disclaimer">liability</a>, <a href="https://www.w3.org/Consortium/Legal/ipr-notice#W3C_Trademarks">trademark</a> and <a href="https://www.w3.org/Consortium/Legal/copyright-software" rel="license" title="W3C Software and Document License">permissive document license</a> rules apply. </p>
   <hr title="Separator for header">
  </div>
  <div class="p-summary" data-fill-with="abstract">
   <h2 class="no-num no-toc no-ref heading settled" id="abstract"><span class="content">Abstract</span></h2>
   <p>This document describes APIs for accessing data on the system clipboard. It provides

	operations for overriding the default clipboard actions (cut, copy and paste), and
	for directly accessing the clipboard contents.</p>
  </div>
  <h2 class="no-num no-toc no-ref heading settled" id="sotd"><span class="content">Status of this document</span></h2>
  <div data-fill-with="status">
   <p> <em>This section describes the status of this document at the time of its publication. A list of current <abbr title="World Wide Web Consortium">W3C</abbr> publications and the latest revision of this technical report can be found in the <a href="https://www.w3.org/TR/"><abbr title="World Wide Web Consortium">W3C</abbr> technical reports index</a> at https://www.w3.org/TR/.</em> </p>
   <p> This document was published by the <a href="https://w3c.github.io/editing/">Web Editing Working Group</a> as an Editors Draft. This document is intended to become a W3C Recommendation. </p>
   <p></p>
   <p> <strong>Changes to this document may be tracked at <a href="https://github.com/w3c/clipboard-apis">https://github.com/w3c/clipboard-apis</a>.</strong> </p>
   <p></p>
   <p> This document was published by the <a href="https://w3c.github.io/editing/">Web Editing Working Group</a> as a Working Draft.

    Feedback and comments on this specification are welcome. Please use <a href="https://github.com/w3c/clipboard-apis/issues">GitHub issues</a> Historical discussions can be found in the <a href="https://lists.w3.org/Archives/Public/public-editing-tf/">public-editing-tf@w3.org archives</a>. </p>
   <p> Publication as an Editors Draft does not imply endorsement by <abbr title="World Wide Web Consortium">W3C</abbr> and its Members. This is a draft document and may
    be updated, replaced or obsoleted by other documents at any time. It is inappropriate to cite
    this document as other than work in progress. </p>
   <p> This document was produced by a group operating under the <a href="https://www.w3.org/Consortium/Patent-Policy-20200915/"><abbr title="World Wide Web Consortium">W3C</abbr> Patent Policy</a>. <abbr title="World Wide Web Consortium">W3C</abbr> maintains a <a href="https://www.w3.org/2004/01/pp-impl/114929/status" rel="disclosure">public list of any patent disclosures</a> made in connection with the deliverables of the group; that page also includes instructions for disclosing a patent. An individual who has actual knowledge of a patent which the individual believes contains <a href="https://www.w3.org/Consortium/Patent-Policy-20200915/#def-essential">Essential Claim(s)</a> must disclose the information in accordance with <a href="https://www.w3.org/Consortium/Patent-Policy-20200915/#sec-Disclosure">section 6 of the <abbr title="World Wide Web Consortium">W3C</abbr> Patent Policy</a>. </p>
   <p>This document is governed by the <a href="https://www.w3.org/2023/Process-20230612/" id="w3c_process_revision">12 June 2023 W3C Process Document</a>. </p>
  </div>
  <div data-fill-with="at-risk"></div>
  <nav data-fill-with="table-of-contents" id="toc">
   <h2 class="no-num no-toc no-ref" id="contents">Table of Contents</h2>
   <ol class="toc" role="directory">
    <li><a href="#secintro"><span class="secno">1</span> <span class="content">Introduction</span></a>
    <li>
     <a href="#Cases"><span class="secno">2</span> <span class="content">Use Cases</span></a>
     <ol class="toc">
      <li><a href="#change-default-clipboard-ops"><span class="secno">2.1</span> <span class="content">Changing Default Clipboard Operations</span></a>
      <li><a href="#remote-clipboard-sync"><span class="secno">2.2</span> <span class="content">Remote Clipboard Synchronization</span></a>
      <li><a href="#trigger-clipboard-actions"><span class="secno">2.3</span> <span class="content">Trigger Clipboard Actions</span></a>
     </ol>
    <li><a href="#terminolofy"><span class="secno">3</span> <span class="content">Terminology</span></a>
    <li><a href="#model"><span class="secno">4</span> <span class="content">Model</span></a>
    <li>
     <a href="#clipboard-events-and-interfaces"><span class="secno">5</span> <span class="content">Clipboard Events</span></a>
     <ol class="toc">
      <li><a href="#clipboard-event-interfaces"><span class="secno">5.1</span> <span class="content">Clipboard event interfaces</span></a>
      <li>
       <a href="#clipboard-event-definitions"><span class="secno">5.2</span> <span class="content">Clipboard events</span></a>
       <ol class="toc">
        <li><a href="#clipboard-event-clipboardchange"><span class="secno">5.2.1</span> <span class="content">The <span><code>clipboardchange</code></span> event</span></a>
        <li><a href="#clipboard-event-copy"><span class="secno">5.2.2</span> <span class="content">The <span><code>copy</code></span> event</span></a>
        <li><a href="#clipboard-event-cut"><span class="secno">5.2.3</span> <span class="content">The <span><code>cut</code></span> event</span></a>
        <li><a href="#clipboard-event-paste"><span class="secno">5.2.4</span> <span class="content">The <span><code>paste</code></span> event</span></a>
       </ol>
      <li>
       <a href="#integration-with-other-scripts-and-events"><span class="secno">5.3</span> <span class="content">Integration with other scripts and events</span></a>
       <ol class="toc">
        <li><a href="#allow-modify-clipboard"><span class="secno">5.3.1</span> <span class="content">Event handlers that are <span>allowed to modify the clipboard</span></span></a>
        <li><a href="#allow-read-clipboard"><span class="secno">5.3.2</span> <span class="content">Event handlers that are <span>allowed to read from clipboard</span></span></a>
        <li><a href="#integration-with-rich-text-editing"><span class="secno">5.3.3</span> <span class="content">Integration with rich text editing APIs</span></a>
        <li><a href="#otherevents"><span class="secno">5.3.4</span> <span class="content">Interaction with other events</span></a>
        <li><a href="#selection-mod"><span class="secno">5.3.5</span> <span class="content">Event listeners that modify selection or focus</span></a>
       </ol>
     </ol>
    <li>
     <a href="#clipboard-event-api"><span class="secno">6</span> <span class="content">Clipboard Event API</span></a>
     <ol class="toc">
      <li><a href="#override-copy"><span class="secno">6.1</span> <span class="content">Overriding the copy event</span></a>
      <li><a href="#override-cut"><span class="secno">6.2</span> <span class="content">Overriding the cut event</span></a>
      <li><a href="#override-paste"><span class="secno">6.3</span> <span class="content">Overriding the paste event</span></a>
      <li>
       <a href="#mandatory-data-types-x"><span class="secno">6.4</span> <span class="content"><span>Mandatory data types</span></span></a>
       <ol class="toc">
        <li><a href="#reading-from-clipboard"><span class="secno">6.4.1</span> <span class="content">Reading from the clipboard</span></a>
        <li><a href="#writing-to-clipboard"><span class="secno">6.4.2</span> <span class="content">Writing to the clipboard</span></a>
       </ol>
      <li><a href="#optional-data-types-x"><span class="secno">6.5</span> <span class="content"><span>Optional data types</span></span></a>
     </ol>
    <li>
     <a href="#async-clipboard-api"><span class="secno">7</span> <span class="content">Asynchronous Clipboard API</span></a>
     <ol class="toc">
      <li>
       <a href="#navigator-interface"><span class="secno">7.1</span> <span class="content">Navigator Interface</span></a>
       <ol class="toc">
        <li><a href="#h-navigator-clipboard"><span class="secno">7.1.1</span> <span class="content"><span>clipboard</span></span></a>
       </ol>
      <li>
       <a href="#clipboard-item-interface"><span class="secno">7.2</span> <span class="content">ClipboardItem Interface</span></a>
       <ol class="toc">
        <li><a href="#dom-clipboarditem-presentationstyle"><span class="secno">7.2.1</span> <span class="content">presentationStyle</span></a>
        <li><a href="#dom-clipboarditem-types"><span class="secno">7.2.2</span> <span class="content">types</span></a>
        <li><a href="#dom-clipboarditem-gettype"><span class="secno">7.2.3</span> <span class="content">getType(type)</span></a>
        <li><a href="#dom-clipboarditem-supports"><span class="secno">7.2.4</span> <span class="content">supports(type)</span></a>
       </ol>
      <li>
       <a href="#clipboard-interface"><span class="secno">7.3</span> <span class="content">Clipboard Interface</span></a>
       <ol class="toc">
        <li><a href="#dom-clipboard-read"><span class="secno">7.3.1</span> <span class="content">read()</span></a>
        <li><a href="#dom-clipboard-readtext"><span class="secno">7.3.2</span> <span class="content">readText()</span></a>
        <li><a href="#dom-clipboard-write"><span class="secno">7.3.3</span> <span class="content">write(<var>data</var>)</span></a>
        <li><a href="#dom-clipboard-writetext"><span class="secno">7.3.4</span> <span class="content">writeText(<var>data</var>)</span></a>
       </ol>
     </ol>
    <li>
     <a href="#clipboard-actions"><span class="secno">8</span> <span class="content">Clipboard Actions</span></a>
     <ol class="toc">
      <li><a href="#copy-action"><span class="secno">8.1</span> <span class="content">The copy action</span></a>
      <li><a href="#cut-action"><span class="secno">8.2</span> <span class="content">The cut action</span></a>
      <li><a href="#paste-action"><span class="secno">8.3</span> <span class="content">The paste action</span></a>
     </ol>
    <li>
     <a href="#clipboard-permissions"><span class="secno">9</span> <span class="content">Permissions API Integration</span></a>
     <ol class="toc">
      <li>
       <a href="#read-permission"><span class="secno">9.1</span> <span class="content">Clipboard read permission</span></a>
       <ol class="toc">
        <li><a href="#h-clipboard-read-permission"><span class="secno">9.1.1</span> <span class="content"><span>check clipboard read permission</span></span></a>
       </ol>
      <li>
       <a href="#write-permission"><span class="secno">9.2</span> <span class="content">Clipboard write permission</span></a>
       <ol class="toc">
        <li><a href="#h-clipboard-write-permission"><span class="secno">9.2.1</span> <span class="content"><span>check clipboard write permission</span></span></a>
       </ol>
     </ol>
    <li>
     <a href="#security"><span class="secno">10</span> <span class="content">Security Considerations</span></a>
     <ol class="toc">
      <li><a href="#pasting-html"><span class="secno">10.1</span> <span class="content">Pasting HTML and multi-part data</span></a>
      <li><a href="#general-security-policies"><span class="secno">10.2</span> <span class="content">General security policies</span></a>
      <li><a href="#image-transcode"><span class="secno">10.3</span> <span class="content">Transcoding images</span></a>
      <li><a href="#nuisances"><span class="secno">10.4</span> <span class="content">Nuisance considerations</span></a>
     </ol>
    <li>
     <a href="#privacy"><span class="secno">11</span> <span class="content">Privacy Considerations</span></a>
     <ol class="toc">
      <li><a href="#privacy-events"><span class="secno">11.1</span> <span class="content">Privacy and the Clipboard Event API</span></a>
      <li>
       <a href="#privacy-async"><span class="secno">11.2</span> <span class="content">Privacy and the Asychronous Clipboard API</span></a>
       <ol class="toc">
        <li><a href="#privacy-permission"><span class="secno">11.2.1</span> <span class="content">Privacy and Clipboard Permission</span></a>
       </ol>
      <li><a href="#privacy-other"><span class="secno">11.3</span> <span class="content">Other Privacy Concerns</span></a>
     </ol>
    <li><a href="#acknowledge"><span class="secno">12</span> <span class="content">Acknowledgements</span></a>
    <li>
     <a href="#algorithms"><span class="secno"></span> <span class="content">Appendix A: Algorithms</span></a>
     <ol class="toc">
      <li><a href="#to-write-content-to-clipboard"><span class="secno"></span> <span class="content"><span>write content to the clipboard</span></span></a>
      <li><a href="#to-write-blobs-to-clipboard"><span class="secno"></span> <span class="content"><span>write blobs and option to the clipboard</span></span></a>
      <li><a href="#to-os-specific-well-known-format"><span class="secno"></span> <span class="content"><span>os specific well-known format</span></span></a>
      <li><a href="#to-well-known-mime-type-from-os-specific-format"><span class="secno"></span> <span class="content"><span>well-known mime type from os specific format</span></span></a>
      <li><a href="#to-read-web-custom-format"><span class="secno"></span> <span class="content"><span>read web custom format</span></span></a>
      <li><a href="#to-write-web-custom-formats"><span class="secno"></span> <span class="content"><span>write web custom formats</span></span></a>
      <li><a href="#to-os-specific-custom-map-name"><span class="secno"></span> <span class="content"><span>os specific custom map name</span></span></a>
      <li><a href="#to-os-specific-custom-name"><span class="secno"></span> <span class="content"><span>os specific custom name</span></span></a>
      <li><a href="#to-fire-a-clipboard-event"><span class="secno"></span> <span class="content"><span>fire a clipboard event</span></span></a>
      <li><a href="#to-process-html-paste-event"><span class="secno"></span> <span class="content"><span>process an HTML paste event</span></span></a>
     </ol>
    <li>
     <a href="#w3c-conformance"><span class="secno"></span> <span class="content">Conformance</span></a>
     <ol class="toc">
      <li><a href="#w3c-conventions"><span class="secno"></span> <span class="content">Document conventions</span></a>
      <li><a href="#w3c-conformant-algorithms"><span class="secno"></span> <span class="content">Conformant Algorithms</span></a>
     </ol>
    <li>
     <a href="#index"><span class="secno"></span> <span class="content">Index</span></a>
     <ol class="toc">
      <li><a href="#index-defined-here"><span class="secno"></span> <span class="content">Terms defined by this specification</span></a>
      <li><a href="#index-defined-elsewhere"><span class="secno"></span> <span class="content">Terms defined by reference</span></a>
     </ol>
    <li>
     <a href="#references"><span class="secno"></span> <span class="content">References</span></a>
     <ol class="toc">
      <li><a href="#normative"><span class="secno"></span> <span class="content">Normative References</span></a>
      <li><a href="#informative"><span class="secno"></span> <span class="content">Informative References</span></a>
     </ol>
    <li><a href="#idl-index"><span class="secno"></span> <span class="content">IDL Index</span></a>
    <li><a href="#issues-index"><span class="secno"></span> <span class="content">Issues Index</span></a>
   </ol>
  </nav>
  <main>
   <h2 class="heading settled" data-level="1" id="secintro"><span class="secno">1. </span><span class="content">Introduction</span><a class="self-link" href="#secintro"></a></h2>
   <p><i>This section is non-normative.</i></p>
   <p>This specification defines how the system clipboard is exposed to web applications.</p>
   <p>There are two general APIs described in this specification:</p>
   <ul>
    <li data-md>
     <p>Clipboard Event API - This API provides a way to hook into the common clipboard
operations of cutting, copying and pasting so that web application can
adjust the clipboard data as required.</p>
    <li data-md>
     <p>Async Clipboard API - This API provides direct access to read and write the
clipboard data. Since this is considered to be a <a data-link-type="dfn" href="https://w3c.github.io/permissions/#dfn-powerful-feature" id="ref-for-dfn-powerful-feature">powerful feature</a>,
access to this API is controlled by a permission.</p>
   </ul>
   <h2 class="heading settled" data-level="2" id="Cases"><span class="secno">2. </span><span class="content">Use Cases</span><a class="self-link" href="#Cases"></a></h2>
   <p><i>This section is non-normative.</i></p>
   <h3 class="heading settled" data-level="2.1" id="change-default-clipboard-ops"><span class="secno">2.1. </span><span class="content">Changing Default Clipboard Operations</span><a class="self-link" href="#change-default-clipboard-ops"></a></h3>
   <p>There are many scenarios where it is desireable to change the default clipboard
		operations (cut/copy/paste). Here are a few examples:</p>
   <ul>
    <li><strong>Metadata</strong> When copying text from a repository of documents, it can be useful for the
			copied text to include metadata about the source of the copied content. 
    <li><strong>Rich content editing</strong> When copying text which contains hyperlinks or other structure,
			it is often useful to be able to reformat the content to preserve
			important information. 
    <li><strong>Graphics with built-in semantics</strong> In order to make web applications which allow the manipulation of rich
			text, or of graphic content such as <a data-link-type="biblio" href="#biblio-svg11" title="Scalable Vector Graphics (SVG) 1.1 (Second Edition)">[SVG11]</a>, it is useful to provide a
			mechanism that allows for copying more than just the rendered content. 
    <li><strong>Mathematical information</strong> With content such as mathematics, simply copying rendered text and pasting
			it into another application generally leads to most of the semantics being
			lost. MathML often needs to be transformed to be copied as plain text, for
			example to make sure "to the power of" is shown with the caret "^" sign
			in a formula plain-text input. The XML source could also be placed in the
			clipboard with the appropriate transformation occurring at paste time. 
   </ul>
   <h3 class="heading settled" data-level="2.2" id="remote-clipboard-sync"><span class="secno">2.2. </span><span class="content">Remote Clipboard Synchronization</span><a class="self-link" href="#remote-clipboard-sync"></a></h3>
   <p>For web applications that communicate with remote devices (e.g., remote access
		or remote shell applications), there is often a need for the clipboard data
		to be kept in sync between the two devices.</p>
   <p>One important aspect of this use case is that it requires access to the
		clipboard in the absense of a user gesture or interaction.</p>
   <div class="example" id="example-6b4972a0"><a class="self-link" href="#example-6b4972a0"></a> To copy the clipboard data from a remote device to the local clipboard, a web
		application would take the remote clipboard data and then <code class="idl"><a data-link-type="idl" href="#dom-clipboard-write" id="ref-for-dom-clipboard-write">write()</a></code> the data to the local clipboard. </div>
   <div class="example" id="example-75fe78bd"><a class="self-link" href="#example-75fe78bd"></a> To copy the local clipboard data to a remote device, a web application would
		listen for <code class="idl"><a data-link-type="idl" href="#eventdef-documentandelementeventhandlers-clipboardchange" id="ref-for-eventdef-documentandelementeventhandlers-clipboardchange">clipboardchange</a></code> events, <code class="idl"><a data-link-type="idl" href="#dom-clipboard-read" id="ref-for-dom-clipboard-read">read()</a></code> from the clipboard
		whenever it is updated, and then send the new clipboard data to the remote device. </div>
   <h3 class="heading settled" data-level="2.3" id="trigger-clipboard-actions"><span class="secno">2.3. </span><span class="content">Trigger Clipboard Actions</span><a class="self-link" href="#trigger-clipboard-actions"></a></h3>
   <p>Applications that provide an alternate interface to a user agent sometimes need
		to be able to trigger clipboard actions in the user agent.</p>
   <p>As an example, consider a screen reader application that provides a more accessible
		interface to a standard web browser. While the reader can display content and
		allow the user to interact with it, actions like clipboard copy need
		to occur in the underlying browser to ensure that the clipboard content is set
		correctly (with any metadata added by the browser during copy).</p>
   <h2 class="heading settled" data-level="3" id="terminolofy"><span class="secno">3. </span><span class="content">Terminology</span><a class="self-link" href="#terminolofy"></a></h2>
   <p>The term <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="editable-context">editable context</dfn> means any element that is either an <a data-link-type="dfn" href="http://w3c.github.io/editing/contentEditable.html#dfn-editing-host" id="ref-for-dfn-editing-host">editing host</a>, a textarea element, or an input element with its type
	attribute set to any of "text", "search", "tel",
	"url", "email", "password" or "number".</p>
   <h2 class="heading settled" data-level="4" id="model"><span class="secno">4. </span><span class="content">Model</span><a class="self-link" href="#model"></a></h2>
   <p>The platform provides a <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="system-clipboard">system clipboard</dfn>.</p>
   <p>The <a data-link-type="dfn" href="#system-clipboard" id="ref-for-system-clipboard">system clipboard</a> has a list of <a data-link-type="dfn" href="#system-clipboard-item" id="ref-for-system-clipboard-item">system clipboard item</a>s that are collectively	called the <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="system-clipboard-data">system clipboard data</dfn>.</p>
   <p>Each <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="system-clipboard-item">system clipboard item</dfn> has a list of <a data-link-type="dfn" href="#system-clipboard-representation" id="ref-for-system-clipboard-representation">system clipboard representation</a>s.</p>
   <p>Each <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="system-clipboard-representation">system clipboard representation</dfn> has a <dfn class="dfn-paneled" data-dfn-for="system clipboard representation" data-dfn-type="dfn" data-noexport id="system-clipboard-representation-name">name</dfn>, which is a string, and <dfn class="dfn-paneled" data-dfn-for="system clipboard representation" data-dfn-type="dfn" data-noexport id="system-clipboard-representation-data">data</dfn>, which is a sequence of bytes.</p>
   <h2 class="heading settled" data-level="5" id="clipboard-events-and-interfaces"><span class="secno">5. </span><span class="content">Clipboard Events</span><a class="self-link" href="#clipboard-events-and-interfaces"></a></h2>
   <h3 class="heading settled" data-level="5.1" id="clipboard-event-interfaces"><span class="secno">5.1. </span><span class="content">Clipboard event interfaces</span><a class="self-link" href="#clipboard-event-interfaces"></a></h3>
   <p>The ClipboardEvent interface extends the <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#event" id="ref-for-event">Event</a></code> interface.</p>
   <div id="clipboardeventinit-idl">
<pre class="idl highlight def" data-highlight="webidl"><c- b>dictionary</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export id="dictdef-clipboardeventinit"><code><c- g>ClipboardEventInit</c-></code></dfn> : <a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#dictdef-eventinit" id="ref-for-dictdef-eventinit"><c- n>EventInit</c-></a> {
  <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/dnd.html#datatransfer" id="ref-for-datatransfer"><c- n>DataTransfer</c-></a>? <dfn class="idl-code" data-default="null" data-dfn-for="ClipboardEventInit" data-dfn-type="dict-member" data-export data-type="DataTransfer? " id="dom-clipboardeventinit-clipboarddata"><code><c- g>clipboardData</c-></code><a class="self-link" href="#dom-clipboardeventinit-clipboarddata"></a></dfn> = <c- b>null</c->;
};
</pre>
    <dl>
     <dt data-md><dfn data-dfn-for="ClipboardEventInit" data-dfn-type="dfn" data-export id="clipboardeventinit-clipboarddata">clipboardData<a class="self-link" href="#clipboardeventinit-clipboarddata"></a></dfn>
     <dd data-md>
      <p>A <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/dnd.html#datatransfer" id="ref-for-datatransfer①">DataTransfer</a></code> object to hold data and meta data related to the event.</p>
    </dl>
   </div>
   <div id="clipboardevent-idl">
<pre class="idl highlight def" data-highlight="webidl">[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed" id="ref-for-Exposed"><c- g>Exposed</c-></a>=<c- n>Window</c->]
<c- b>interface</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export id="clipboardevent"><code><c- g>ClipboardEvent</c-></code></dfn> : <a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#event" id="ref-for-event①"><c- n>Event</c-></a> {
  <dfn class="idl-code" data-dfn-for="ClipboardEvent" data-dfn-type="constructor" data-export data-lt="ClipboardEvent(type, eventInitDict)|constructor(type, eventInitDict)|ClipboardEvent(type)|constructor(type)" id="dom-clipboardevent-clipboardevent"><code><c- g>constructor</c-></code><a class="self-link" href="#dom-clipboardevent-clipboardevent"></a></dfn>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString"><c- b>DOMString</c-></a> <dfn class="idl-code" data-dfn-for="ClipboardEvent/ClipboardEvent(type, eventInitDict), ClipboardEvent/constructor(type, eventInitDict), ClipboardEvent/ClipboardEvent(type), ClipboardEvent/constructor(type)" data-dfn-type="argument" data-export id="dom-clipboardevent-clipboardevent-type-eventinitdict-type"><code><c- g>type</c-></code><a class="self-link" href="#dom-clipboardevent-clipboardevent-type-eventinitdict-type"></a></dfn>, <c- b>optional</c-> <a data-link-type="idl-name" href="#dictdef-clipboardeventinit" id="ref-for-dictdef-clipboardeventinit"><c- n>ClipboardEventInit</c-></a> <dfn class="idl-code" data-dfn-for="ClipboardEvent/ClipboardEvent(type, eventInitDict), ClipboardEvent/constructor(type, eventInitDict), ClipboardEvent/ClipboardEvent(type), ClipboardEvent/constructor(type)" data-dfn-type="argument" data-export id="dom-clipboardevent-clipboardevent-type-eventinitdict-eventinitdict"><code><c- g>eventInitDict</c-></code><a class="self-link" href="#dom-clipboardevent-clipboardevent-type-eventinitdict-eventinitdict"></a></dfn> = {});
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/dnd.html#datatransfer" id="ref-for-datatransfer②"><c- n>DataTransfer</c-></a>? <dfn class="dfn-paneled idl-code" data-dfn-for="ClipboardEvent" data-dfn-type="attribute" data-export data-readonly data-type="DataTransfer?" id="dom-clipboardevent-clipboarddata"><code><c- g>clipboardData</c-></code></dfn>;
};
</pre>
    <dl>
     <dt data-md><dfn data-dfn-for="ClipboardEvent" data-dfn-type="dfn" data-export id="clipboardevent-clipboarddata">clipboardData<a class="self-link" href="#clipboardevent-clipboarddata"></a></dfn>
     <dd data-md>
      <p>The clipboardData attribute is an instance of the <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/dnd.html#datatransfer" id="ref-for-datatransfer③">DataTransfer</a></code> interface which lets a script read and manipulate values on the system
clipboard during user-initiated copy, cut and paste operations. The
associated drag data store is a live but filtered view of the system
clipboard, exposing <a data-link-type="dfn" href="#mandatory-data-types" id="ref-for-mandatory-data-types">mandatory data types</a> the implementation knows
the script can safely access. For synthetic events, the drag data store
contains the data added by the script that created the event.</p>
     <dd data-md>
      <p>The clipboardData object’s <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/dnd.html#dom-datatransfer-items" id="ref-for-dom-datatransfer-items">items</a></code> and <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/dnd.html#dom-datatransfer-files" id="ref-for-dom-datatransfer-files">files</a></code> properties enable processing of multi-part or
non-textual data from the clipboard.</p>
    </dl>
   </div>
   <p>The interface can be used to <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#constructing-events" id="ref-for-constructing-events">construct events</a>.
		An example is given below:</p>
<pre class="example javascript" id="example-92782271"><a class="self-link" href="#example-92782271"></a>var pasteEvent = new ClipboardEvent('paste');
pasteEvent.clipboardData.items.add('My string', 'text/plain');
document.dispatchEvent(pasteEvent);
</pre>
   <p class="note" role="note"><span class="marker">Note:</span> Synthetic clipboard events will not actually modify the clipboard or
		the document. In other words, while the script above will fire a paste event,
		the data will not be pasted into the document.</p>
   <h3 class="heading settled" data-level="5.2" id="clipboard-event-definitions"><span class="secno">5.2. </span><span class="content">Clipboard events</span><a class="self-link" href="#clipboard-event-definitions"></a></h3>
   <h4 class="heading settled" data-level="5.2.1" id="clipboard-event-clipboardchange"><span class="secno">5.2.1. </span><span class="content">The <dfn class="dfn-paneled idl-code" data-dfn-for="DocumentAndElementEventHandlers" data-dfn-type="event" data-export id="eventdef-documentandelementeventhandlers-clipboardchange"><code>clipboardchange</code></dfn> event</span><a class="self-link" href="#clipboard-event-clipboardchange"></a></h4>
   <p>The <code class="idl"><a data-link-type="idl" href="#eventdef-documentandelementeventhandlers-clipboardchange" id="ref-for-eventdef-documentandelementeventhandlers-clipboardchange①">clipboardchange</a></code> event fires whenever the contents of the <a data-link-type="dfn" href="#system-clipboard" id="ref-for-system-clipboard①">system clipboard</a> are changed. These changes could be due to any of the
			following (non-exhaustive):</p>
   <ul>
    <li data-md>
     <p>User-initiated cut or copy actions</p>
    <li data-md>
     <p>Scripts that use the <a href="#async-clipboard-api">§ 7 Asynchronous Clipboard API</a> to write to the clipboard</p>
    <li data-md>
     <p>Actions that update the clipboard outside the user agent</p>
   </ul>
   <p>If the clipboard contents are changed outside the user agent, then the <code class="idl"><a data-link-type="idl" href="#eventdef-documentandelementeventhandlers-clipboardchange" id="ref-for-eventdef-documentandelementeventhandlers-clipboardchange②">clipboardchange</a></code> event MUST fire when the user agent regains focus.</p>
   <p>Since synthetic <code class="idl"><a data-link-type="idl" href="#eventdef-documentandelementeventhandlers-cut" id="ref-for-eventdef-documentandelementeventhandlers-cut">cut</a></code> and <code class="idl"><a data-link-type="idl" href="#eventdef-documentandelementeventhandlers-copy" id="ref-for-eventdef-documentandelementeventhandlers-copy">copy</a></code> events do not update the <a data-link-type="dfn" href="#system-clipboard" id="ref-for-system-clipboard②">system clipboard</a>,
			they will not trigger a "clipboardchange" event.</p>
   <h4 class="heading settled" data-level="5.2.2" id="clipboard-event-copy"><span class="secno">5.2.2. </span><span class="content">The <dfn class="dfn-paneled idl-code" data-dfn-for="DocumentAndElementEventHandlers" data-dfn-type="event" data-export id="eventdef-documentandelementeventhandlers-copy"><code>copy</code></dfn> event</span><a class="self-link" href="#clipboard-event-copy"></a></h4>
   <p>When the user initiates a copy action, the user agent <a data-link-type="dfn" href="#fire-a-clipboard-event" id="ref-for-fire-a-clipboard-event">fires a clipboard event</a> named <code class="idl"><a data-link-type="idl" href="#eventdef-documentandelementeventhandlers-copy" id="ref-for-eventdef-documentandelementeventhandlers-copy①">copy</a></code>.</p>
   <p>If the event is not canceled, the currently selected
			data will be copied to the <a data-link-type="dfn" href="#system-clipboard" id="ref-for-system-clipboard③">system clipboard</a>.
			The current document selection is not affected.</p>
   <p>The <code class="idl"><a data-link-type="idl" href="#eventdef-documentandelementeventhandlers-copy" id="ref-for-eventdef-documentandelementeventhandlers-copy②">copy</a></code> event bubbles, is cancelable, and is composed.</p>
   <p>See <a href="#copy-action">§ 8.1 The copy action</a> for a detailed description of the processing model for
			this event.</p>
   <p>A synthetic <code class="idl"><a data-link-type="idl" href="#eventdef-documentandelementeventhandlers-copy" id="ref-for-eventdef-documentandelementeventhandlers-copy③">copy</a></code> event can be manually constructed and dispatched, but it
			will not affect the contents of the <a data-link-type="dfn" href="#system-clipboard" id="ref-for-system-clipboard④">system clipboard</a>.</p>
   <h4 class="heading settled" data-level="5.2.3" id="clipboard-event-cut"><span class="secno">5.2.3. </span><span class="content">The <dfn class="dfn-paneled idl-code" data-dfn-for="DocumentAndElementEventHandlers" data-dfn-type="event" data-export id="eventdef-documentandelementeventhandlers-cut"><code>cut</code></dfn> event</span><a class="self-link" href="#clipboard-event-cut"></a></h4>
   <p>When the user initiates a cut action, the user agent <a data-link-type="dfn" href="#fire-a-clipboard-event" id="ref-for-fire-a-clipboard-event①">fires a clipboard event</a> named <code class="idl"><a data-link-type="idl" href="#eventdef-documentandelementeventhandlers-cut" id="ref-for-eventdef-documentandelementeventhandlers-cut①">cut</a></code>.</p>
   <p>In an <a data-link-type="dfn" href="#editable-context" id="ref-for-editable-context">editable context</a>, if the event is not
			canceled the action will place the currently selected data on the <a data-link-type="dfn" href="#system-clipboard" id="ref-for-system-clipboard⑤">system clipboard</a> and remove the selection from the document.
			The <code class="idl"><a data-link-type="idl" href="#eventdef-documentandelementeventhandlers-cut" id="ref-for-eventdef-documentandelementeventhandlers-cut②">cut</a></code> event fires before the selected data is removed. When
			the cut operation is completed, the selection is collapsed.</p>
   <p>In a non-<a data-link-type="dfn" href="#editable-context" id="ref-for-editable-context①">editable context</a>, the <code class="idl"><a data-link-type="idl" href="#dom-clipboardevent-clipboarddata" id="ref-for-dom-clipboardevent-clipboarddata">clipboardData</a></code> will
			be an empty list. Note that the <code class="idl"><a data-link-type="idl" href="#eventdef-documentandelementeventhandlers-cut" id="ref-for-eventdef-documentandelementeventhandlers-cut③">cut</a></code> event will still be fired
			in this case.</p>
   <p>The <code class="idl"><a data-link-type="idl" href="#eventdef-documentandelementeventhandlers-cut" id="ref-for-eventdef-documentandelementeventhandlers-cut④">cut</a></code> event bubbles, is cancelable, and is composed.</p>
   <p>See <a href="#cut-action">§ 8.2 The cut action</a> for a detailed description of the processing model for
			this event.</p>
   <p>A synthetic <code class="idl"><a data-link-type="idl" href="#eventdef-documentandelementeventhandlers-cut" id="ref-for-eventdef-documentandelementeventhandlers-cut⑤">cut</a></code> event can be manually constructed and dispatched, but it
			will not affect the contents of the document or of the <a data-link-type="dfn" href="#system-clipboard" id="ref-for-system-clipboard⑥">system clipboard</a>.</p>
   <h4 class="heading settled" data-level="5.2.4" id="clipboard-event-paste"><span class="secno">5.2.4. </span><span class="content">The <dfn class="dfn-paneled idl-code" data-dfn-for="DocumentAndElementEventHandlers" data-dfn-type="event" data-export id="eventdef-documentandelementeventhandlers-paste"><code>paste</code></dfn> event</span><a class="self-link" href="#clipboard-event-paste"></a></h4>
   <p>When a user initiates a paste action, the user agent <a data-link-type="dfn" href="#fire-a-clipboard-event" id="ref-for-fire-a-clipboard-event②">fires a clipboard event</a> named <code class="idl"><a data-link-type="idl" href="#eventdef-documentandelementeventhandlers-paste" id="ref-for-eventdef-documentandelementeventhandlers-paste">paste</a></code>. The event fires before any clipboard data is inserted
			into the document.</p>
   <p>If the cursor is in an <a data-link-type="dfn" href="#editable-context" id="ref-for-editable-context②">editable context</a>, the paste action will
			insert clipboard data in the most suitable format (if any) supported
			for the given context.</p>
   <p>The paste action has no effect in a non-<a data-link-type="dfn" href="#editable-context" id="ref-for-editable-context③">editable context</a>,
			but the <code class="idl"><a data-link-type="idl" href="#eventdef-documentandelementeventhandlers-paste" id="ref-for-eventdef-documentandelementeventhandlers-paste①">paste</a></code> event fires regardless.</p>
   <p>The <code class="idl"><a data-link-type="idl" href="#eventdef-documentandelementeventhandlers-paste" id="ref-for-eventdef-documentandelementeventhandlers-paste②">paste</a></code> event bubbles, is cancelable, and is composed.</p>
   <p>See <a href="#paste-action">§ 8.3 The paste action</a> for a detailed description of the processing model for
			this event.</p>
   <p>A synthetic <code class="idl"><a data-link-type="idl" href="#eventdef-documentandelementeventhandlers-paste" id="ref-for-eventdef-documentandelementeventhandlers-paste③">paste</a></code> event can be manually constructed and dispatched, but it
			will not affect the contents of the document.</p>
   <h3 class="heading settled" data-level="5.3" id="integration-with-other-scripts-and-events"><span class="secno">5.3. </span><span class="content">Integration with other scripts and events</span><a class="self-link" href="#integration-with-other-scripts-and-events"></a></h3>
   <h4 class="heading settled" data-level="5.3.1" id="allow-modify-clipboard"><span class="secno">5.3.1. </span><span class="content">Event handlers that are <dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="allowed-to-modify-the-clipboard">allowed to modify the clipboard</dfn></span><a class="self-link" href="#allow-modify-clipboard"></a></h4>
   <p>Event handlers may write to the clipboard if any of the following is
			true:</p>
   <ul>
    <li data-md>
     <p>The action which triggers the event is invoked from the user-agent’s
own user interface, e.g. from a "Copy" menu entry or shortcut key.</p>
    <li data-md>
     <p>The action which triggers the event is invoked from a scripting thread
which is <a data-link-type="dfn" href="http://www.w3.org/TR/html5/browsers.html#allowed-to-show-a-popup" id="ref-for-allowed-to-show-a-popup">allowed to show a popup</a>.</p>
   </ul>
   <p>The implementation <em>may</em> allow other trusted event types to
			modify the clipboard if the implementation authors believe that those
			event types are likely to express user intention. The implementation <em>may</em> also support configuration that trusts specific sites or
			apps to modify the clipboard regardless of the origin of the scripting
			thread.</p>
   <p>Synthetic <code class="idl"><a data-link-type="idl" href="#eventdef-documentandelementeventhandlers-cut" id="ref-for-eventdef-documentandelementeventhandlers-cut⑥">cut</a></code> and <code class="idl"><a data-link-type="idl" href="#eventdef-documentandelementeventhandlers-copy" id="ref-for-eventdef-documentandelementeventhandlers-copy④">copy</a></code> events <em>must not</em> modify data on the
			system clipboard.</p>
   <h4 class="heading settled" data-level="5.3.2" id="allow-read-clipboard"><span class="secno">5.3.2. </span><span class="content">Event handlers that are <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="allowed-to-read-from-clipboard">allowed to read from clipboard</dfn></span><a class="self-link" href="#allow-read-clipboard"></a></h4>
   <p>Event handlers may read data from the system clipboard if either of the
			following is true</p>
   <ul>
    <li data-md>
     <p>The action that triggers the event is invoked from the user-agent’s
own user interface, e.g. a "Paste" menu entry or shortcut key.</p>
    <li data-md>
     <p>The script that triggers the action is running on a site which through
an implementation-dependant mechanism is given permission to read
data from the clipboard.</p>
    <li data-md>
     <p>The action that triggers the event is triggered in an app with
permissions to read the clipboard.</p>
   </ul>
   <p>Synthetic <code class="idl"><a data-link-type="idl" href="#eventdef-documentandelementeventhandlers-paste" id="ref-for-eventdef-documentandelementeventhandlers-paste④">paste</a></code> events <em>must not</em> give a script access to data on
			the real system clipboard.</p>
   <h4 class="heading settled" data-level="5.3.3" id="integration-with-rich-text-editing"><span class="secno">5.3.3. </span><span class="content">Integration with rich text editing APIs</span><a class="self-link" href="#integration-with-rich-text-editing"></a></h4>
   <p>If an implementation supports ways to execute clipboard commands through
			scripting, for example by calling the <code>document.execCommand()</code> method with the commands "cut",
			"copy" and "paste", the implementation <em>must</em> trigger the
			corresponding action, which again will dispatch the associated clipboard
			event.</p>
   <p>These are the steps to follow when triggering copy, cut or paste actions
			through a scripting API:</p>
   <ol>
    <li data-md>
     <p>Execute the corresponding action synchronously.</p>
    <li data-md>
     <p>Use the action’s return value as the return value for the API call.</p>
   </ol>
   <p class="note" role="note"><span class="marker">Note:</span> Copy and cut commands triggered through a scripting API will only
			affect the contents of the real clipboard if the event is dispatched
			from an event that is trusted and triggered by the user, or if the
			implementation is configured to allow this. Paste commands triggered
			through a scripting API will only fire paste events and give access to
			clipboard contents if the implementation is configured to allow this.
			How implementations can be configured to allow read or write access to
			the clipboard is outside the scope of this specification.</p>
   <h4 class="heading settled" data-level="5.3.4" id="otherevents"><span class="secno">5.3.4. </span><span class="content">Interaction with other events</span><a class="self-link" href="#otherevents"></a></h4>
   <p>If the clipboard operation is triggered by keyboard input, the
			implementation <em>must</em> fire the corresponding event that initiates
			the clipboard operation. The event is asynchronous but <em>must</em> be
			dispatched before <b>keyup</b> events for the relevant keys.</p>
   <p>The cut and paste actions <em>may</em> cause the implementation to
			dispatch other supported events, such as textInput, input, change,
			validation events, DOMCharacterDataModified and DOMNodeRemoved /
			DOMNodeInserted. Any such events are queued up to fire after processing
			of the cut/paste event is finished.</p>
   <p>The implementation <em>must not</em> dispatch other input-related events
			like textInput, input, change, and validation events in response to the
			copy operation.</p>
   <h4 class="heading settled" data-level="5.3.5" id="selection-mod"><span class="secno">5.3.5. </span><span class="content">Event listeners that modify selection or focus</span><a class="self-link" href="#selection-mod"></a></h4>
   <p>If the event listener modifies the selection or <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/interaction.html#focusable-area" id="ref-for-focusable-area">focusable area</a>, the clipboard
			action <em>must</em> be completed on the modified selection.</p>
   <h2 class="heading settled" data-level="6" id="clipboard-event-api"><span class="secno">6. </span><span class="content">Clipboard Event API</span><a class="self-link" href="#clipboard-event-api"></a></h2>
   <p>The Clipboard Event API allows you to override the default cut, copy
	and paste behavior of the user agent.</p>
   <p>Access to the clipboard is performed using the standard <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/dnd.html#datatransfer" id="ref-for-datatransfer④">DataTransfer</a></code> methods to mutate the <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/dnd.html#dom-datatransfer-items" id="ref-for-dom-datatransfer-items①">items</a></code> on a <code class="idl"><a data-link-type="idl" href="#clipboardevent" id="ref-for-clipboardevent">ClipboardEvent</a></code>'s <code class="idl"><a data-link-type="idl" href="#dom-clipboardevent-clipboarddata" id="ref-for-dom-clipboardevent-clipboarddata①">clipboardData</a></code> attribute.
	One consequence of this is that these clipboard APIs can only
	access clipboard data in the context of a <code class="idl"><a data-link-type="idl" href="#clipboardevent" id="ref-for-clipboardevent①">ClipboardEvent</a></code> handler.</p>
   <p class="note" role="note"><span class="marker">Note:</span> If you need to access the clipboard outside of a clipboard event
	handler, see <a href="#async-clipboard-api">§ 7 Asynchronous Clipboard API</a>.</p>
   <p class="note" role="note"><span class="marker">Note:</span> The Clipboard Event APIs are synchronous, so they are limited in what they can
	do. Actions which are potentially blocking (like asking for permission or
	transcoding a image) are not supported by these APIs. See <a href="#async-clipboard-api">§ 7 Asynchronous Clipboard API</a> for a more powerful API that can support blocking or other time-consuming
	actions.</p>
   <h3 class="heading settled" data-level="6.1" id="override-copy"><span class="secno">6.1. </span><span class="content">Overriding the copy event</span><a class="self-link" href="#override-copy"></a></h3>
   <p>To override the default <code class="idl"><a data-link-type="idl" href="#eventdef-documentandelementeventhandlers-copy" id="ref-for-eventdef-documentandelementeventhandlers-copy⑤">copy</a></code> event behavior, a <code class="idl"><a data-link-type="idl" href="#eventdef-documentandelementeventhandlers-copy" id="ref-for-eventdef-documentandelementeventhandlers-copy⑥">copy</a></code> event
		handler must be added and this event handler must call <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#dom-event-preventdefault" id="ref-for-dom-event-preventdefault">preventDefault()</a></code> to cancel the event.</p>
   <p>Canceling the event is required in order for the <a data-link-type="dfn" href="#system-clipboard" id="ref-for-system-clipboard⑦">system clipboard</a> to be
		updated with the data in <code class="idl"><a data-link-type="idl" href="#dom-clipboardevent-clipboarddata" id="ref-for-dom-clipboardevent-clipboarddata②">clipboardData</a></code>.
		If the <code class="idl"><a data-link-type="idl" href="#clipboardevent" id="ref-for-clipboardevent②">ClipboardEvent</a></code> is not canceled, then the data from the
		current document selection will be copied instead.</p>
<pre class="example javascript" id="example-e7776e65"><a class="self-link" href="#example-e7776e65"></a>// Overwrite what is being copied to the clipboard.
document.addEventListener('copy', function(e) {
  // e.clipboardData is initially empty, but we can set it to the
  // data that we want copied onto the clipboard.
  e.clipboardData.setData('text/plain', 'Hello, world!');
  e.clipboardData.setData('text/html', '&lt;b>Hello, world!&lt;/b>');

  // This is necessary to prevent the current document selection from
  // being written to the clipboard.
  e.preventDefault();
});
</pre>
   <h3 class="heading settled" data-level="6.2" id="override-cut"><span class="secno">6.2. </span><span class="content">Overriding the cut event</span><a class="self-link" href="#override-cut"></a></h3>
   <p>To override the default <code class="idl"><a data-link-type="idl" href="#eventdef-documentandelementeventhandlers-cut" id="ref-for-eventdef-documentandelementeventhandlers-cut⑦">cut</a></code> event behavior, a <code class="idl"><a data-link-type="idl" href="#eventdef-documentandelementeventhandlers-cut" id="ref-for-eventdef-documentandelementeventhandlers-cut⑧">cut</a></code> event
		handler must be added and this event handler must call <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#dom-event-preventdefault" id="ref-for-dom-event-preventdefault①">preventDefault()</a></code> to cancel the event.</p>
   <p>Canceling the event is required in order for the <a data-link-type="dfn" href="#system-clipboard" id="ref-for-system-clipboard⑧">system clipboard</a> to be
		updated with the data in <code class="idl"><a data-link-type="idl" href="#dom-clipboardevent-clipboarddata" id="ref-for-dom-clipboardevent-clipboarddata③">clipboardData</a></code>.
		If the <code class="idl"><a data-link-type="idl" href="#clipboardevent" id="ref-for-clipboardevent③">ClipboardEvent</a></code> is not canceled, then the data from the
		current document selection will be copied instead.</p>
   <p>Note that canceling the <code class="idl"><a data-link-type="idl" href="#eventdef-documentandelementeventhandlers-cut" id="ref-for-eventdef-documentandelementeventhandlers-cut⑨">cut</a></code> event will also prevent the document from
		being updated (i.e., the current selection will not be removed). The event
		handler will need to manually update the document to remove the currently
		selected text.</p>
<pre class="example javascript" id="example-c4f2319f"><a class="self-link" href="#example-c4f2319f"></a>// Overwrite what is copied to the clipboard.
document.addEventListener('cut', function(e) {
  // e.clipboardData is initially empty, but we can set it to the
  // data that we want copied onto the clipboard as part of the cut.
  // Write the data that we want copied onto the clipboard.
  e.clipboardData.setData('text/plain', 'Hello, world!');
  e.clipboardData.setData('text/html', '&lt;b>Hello, world!&lt;/b>');

  // Since we will be canceling the cut operation, we need to manually
  // update the document to remove the currently selected text.
  deleteCurrentDocumentSelection();

  // This is necessary to prevent the document selection from being
  // written to the clipboard.
  e.preventDefault();
});
</pre>
   <h3 class="heading settled" data-level="6.3" id="override-paste"><span class="secno">6.3. </span><span class="content">Overriding the paste event</span><a class="self-link" href="#override-paste"></a></h3>
   <p>To override the default <code class="idl"><a data-link-type="idl" href="#eventdef-documentandelementeventhandlers-paste" id="ref-for-eventdef-documentandelementeventhandlers-paste⑤">paste</a></code> event behavior, a <code class="idl"><a data-link-type="idl" href="#eventdef-documentandelementeventhandlers-paste" id="ref-for-eventdef-documentandelementeventhandlers-paste⑥">paste</a></code> event
		handler must be added and this event handler must call <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#dom-event-preventdefault" id="ref-for-dom-event-preventdefault②">preventDefault()</a></code> to cancel the event.</p>
   <p>Canceling the event is required so that the user agent does not update the
		document with data from the <a data-link-type="dfn" href="#system-clipboard" id="ref-for-system-clipboard⑨">system clipboard</a>.</p>
   <p>Note that canceling the <code class="idl"><a data-link-type="idl" href="#eventdef-documentandelementeventhandlers-paste" id="ref-for-eventdef-documentandelementeventhandlers-paste⑦">paste</a></code> event will also prevent the document from
		being updated (i.e., nothing will be pasted into the document). The event
		handler will need to manually paste the data into the document.</p>
   <p>Also note that, when pasting, the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/interaction.html#drag-data-store-mode" id="ref-for-drag-data-store-mode">drag data store mode</a> flag is <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/interaction.html#concept-dnd-ro" id="ref-for-concept-dnd-ro">read-only</a>, hence calling <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/dnd.html#dom-datatransfer-setdata" id="ref-for-dom-datatransfer-setdata">setData()</a></code> from a <code class="idl"><a data-link-type="idl" href="#eventdef-documentandelementeventhandlers-paste" id="ref-for-eventdef-documentandelementeventhandlers-paste⑧">paste</a></code> event handler will not modify the data that is
		inserted, and not modify the data on the clipboard.</p>
<pre class="example javascript" id="example-20246db5"><a class="self-link" href="#example-20246db5"></a>// Overwrite what is being pasted onto the clipboard.
document.addEventListener('paste', function(e) {
  // e.clipboardData contains the data that is about to be pasted.
  if (e.clipboardData.types.indexOf('text/html') > -1) {
    var oldData = e.clipboardData.getData('text/html');
    var newData = '&lt;b>Ha Ha!&lt;/b> ' + oldData;

    // Since we are canceling the paste operation, we need to manually
    // paste the data into the document.
    pasteClipboardData(newData);

    // This is necessary to prevent the default paste action.
    e.preventDefault();
  }
});
</pre>
   <h3 class="heading settled" data-level="6.4" id="mandatory-data-types-x"><span class="secno">6.4. </span><span class="content"><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="mandatory-data-types">Mandatory data types</dfn></span><a class="self-link" href="#mandatory-data-types-x"></a></h3>
   <p>The implementation must recognize the native OS clipboard format description
		for the following data types, to be able to populate the <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/dnd.html#datatransferitemlist" id="ref-for-datatransferitemlist">DataTransferItemList</a></code> and <code class="idl"><a data-link-type="idl" href="#clipboarditem" id="ref-for-clipboarditem">ClipboardItem</a></code> with the correct description for
		paste events, and set the correct data format on the OS clipboard in response to
		copy and cut events.</p>
   <h4 class="heading settled" data-level="6.4.1" id="reading-from-clipboard"><span class="secno">6.4.1. </span><span class="content">Reading from the clipboard</span><a class="self-link" href="#reading-from-clipboard"></a></h4>
   <p>These data types must be exposed by <em>paste</em> events if a
			corresponding native type exists on the clipboard:</p>
   <ul>
    <li data-md>
     <p>text/plain</p>
    <li data-md>
     <p>text/html</p>
    <li data-md>
     <p>image/png</p>
   </ul>
   <h4 class="heading settled" data-level="6.4.2" id="writing-to-clipboard"><span class="secno">6.4.2. </span><span class="content">Writing to the clipboard</span><a class="self-link" href="#writing-to-clipboard"></a></h4>
   <p>These data types must be placed on the clipboard with a corresponding
			native type description if added to a <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/dnd.html#datatransfer" id="ref-for-datatransfer⑤">DataTransfer</a></code> object during <em>copy</em> and <em>cut</em> events.</p>
   <ul>
    <li data-md>
     <p>text/plain</p>
    <li data-md>
     <p>text/html</p>
    <li data-md>
     <p>image/png</p>
   </ul>
   <p><strong class="advisement"> Warning! The data types that untrusted scripts are allowed to write to the
			clipboard are limited as a security precaution. Untrusted scripts can
			attempt to exploit security vulnerabilities in local software by placing
			data known to trigger those vulnerabilities on the clipboard.</strong></p>
   <h3 class="heading settled" data-level="6.5" id="optional-data-types-x"><span class="secno">6.5. </span><span class="content"><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="optional-data-types">Optional data types</dfn></span><a class="self-link" href="#optional-data-types-x"></a></h3>
   <p>The implementation MAY recognize the native OS clipboard format description
		for the following data types, to be able to populate the <code class="idl"><a data-link-type="idl" href="#clipboarditem" id="ref-for-clipboarditem①">ClipboardItem</a></code> with the correct description for paste events, and
		set the correct data format on the OS clipboard in response to copy and cut
		events.</p>
   <p>These data types MAY be exposed by UAs if a corresponding native
			type exists on the clipboard:</p>
   <ul>
    <li data-md>
     <p>text/uri-list</p>
    <li data-md>
     <p>image/svg+xml</p>
    <li data-md>
     <p>Custom format with "web "("web" followed by U+0020 SPACE) prefix.</p>
   </ul>
   <h2 class="heading settled" data-level="7" id="async-clipboard-api"><span class="secno">7. </span><span class="content">Asynchronous Clipboard API</span><a class="self-link" href="#async-clipboard-api"></a></h2>
   <h3 class="heading settled" data-level="7.1" id="navigator-interface"><span class="secno">7.1. </span><span class="content">Navigator Interface</span><a class="self-link" href="#navigator-interface"></a></h3>
<pre class="idl highlight def" data-highlight="webidl"><c- b>partial</c-> <c- b>interface</c-> <a class="idl-code" data-link-type="interface" href="https://html.spec.whatwg.org/multipage/system-state.html#navigator" id="ref-for-navigator"><c- g>Navigator</c-></a> {
  [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext" id="ref-for-SecureContext"><c- g>SecureContext</c-></a>, <a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SameObject" id="ref-for-SameObject"><c- g>SameObject</c-></a>] <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#clipboard" id="ref-for-clipboard"><c- n>Clipboard</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="Navigator" data-dfn-type="attribute" data-export data-readonly data-type="Clipboard" id="dom-navigator-clipboard"><code><c- g>clipboard</c-></code></dfn>;
};
</pre>
   <div id="navigator-idl">
    <div class="algorithm" data-algorithm="navigator-clipboard">
     <h4 class="heading settled" data-level="7.1.1" id="h-navigator-clipboard"><span class="secno">7.1.1. </span><span class="content"><dfn class="dfn-paneled" data-dfn-for="Navigator" data-dfn-type="dfn" data-noexport id="navigator-clipboard">clipboard</dfn></span><a class="self-link" href="#h-navigator-clipboard"></a></h4>
      It is used to execute read/write operations from/to the <a data-link-type="dfn" href="#system-clipboard" id="ref-for-system-clipboard①⓪">system clipboard</a>.
		The <code class="idl"><a data-link-type="idl" href="#dom-navigator-clipboard" id="ref-for-dom-navigator-clipboard">clipboard</a></code> getter steps are to return <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this">this</a>'s <a data-link-type="dfn" href="#navigator-clipboard" id="ref-for-navigator-clipboard">clipboard</a> object. 
    </div>
   </div>
   <h3 class="heading settled" data-level="7.2" id="clipboard-item-interface"><span class="secno">7.2. </span><span class="content">ClipboardItem Interface</span><a class="self-link" href="#clipboard-item-interface"></a></h3>
<pre class="idl highlight def" data-highlight="webidl"><c- b>typedef</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise"><c- b>Promise</c-></a>&lt;(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString①"><c- b>DOMString</c-></a> <c- b>or</c-> <a data-link-type="idl-name" href="https://w3c.github.io/FileAPI/#dfn-Blob" id="ref-for-dfn-Blob"><c- n>Blob</c-></a>)> <dfn class="dfn-paneled idl-code" data-dfn-type="typedef" data-export id="typedefdef-clipboarditemdata"><code><c- g>ClipboardItemData</c-></code></dfn>;

[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext" id="ref-for-SecureContext①"><c- g>SecureContext</c-></a>, <a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed" id="ref-for-Exposed①"><c- g>Exposed</c-></a>=<c- n>Window</c->]
<c- b>interface</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export id="clipboarditem"><code><c- g>ClipboardItem</c-></code></dfn> {
  <a class="idl-code" data-link-type="constructor" href="#dom-clipboarditem-clipboarditem" id="ref-for-dom-clipboarditem-clipboarditem"><c- g>constructor</c-></a>(<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-record" id="ref-for-idl-record"><c- b>record</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString②"><c- b>DOMString</c-></a>, <a data-link-type="idl-name" href="#typedefdef-clipboarditemdata" id="ref-for-typedefdef-clipboarditemdata"><c- n>ClipboardItemData</c-></a>> <dfn class="idl-code" data-dfn-for="ClipboardItem/ClipboardItem(items, options), ClipboardItem/constructor(items, options), ClipboardItem/ClipboardItem(items), ClipboardItem/constructor(items)" data-dfn-type="argument" data-export id="dom-clipboarditem-clipboarditem-items-options-items"><code><c- g>items</c-></code><a class="self-link" href="#dom-clipboarditem-clipboarditem-items-options-items"></a></dfn>,
              <c- b>optional</c-> <a data-link-type="idl-name" href="#dictdef-clipboarditemoptions" id="ref-for-dictdef-clipboarditemoptions"><c- n>ClipboardItemOptions</c-></a> <dfn class="idl-code" data-dfn-for="ClipboardItem/ClipboardItem(items, options), ClipboardItem/constructor(items, options), ClipboardItem/ClipboardItem(items), ClipboardItem/constructor(items)" data-dfn-type="argument" data-export id="dom-clipboarditem-clipboarditem-items-options-options"><code><c- g>options</c-></code><a class="self-link" href="#dom-clipboarditem-clipboarditem-items-options-options"></a></dfn> = {});

  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#enumdef-presentationstyle" id="ref-for-enumdef-presentationstyle"><c- n>PresentationStyle</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="PresentationStyle" href="#dom-clipboarditem-presentationstyle" id="ref-for-dom-clipboarditem-presentationstyle"><c- g>presentationStyle</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-frozen-array" id="ref-for-idl-frozen-array"><c- b>FrozenArray</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString③"><c- b>DOMString</c-></a>> <a class="idl-code" data-link-type="attribute" data-readonly data-type="FrozenArray<DOMString>" href="#dom-clipboarditem-types" id="ref-for-dom-clipboarditem-types"><c- g>types</c-></a>;

  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise①"><c- b>Promise</c-></a>&lt;<a data-link-type="idl-name" href="https://w3c.github.io/FileAPI/#dfn-Blob" id="ref-for-dfn-Blob①"><c- n>Blob</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-clipboarditem-gettype" id="ref-for-dom-clipboarditem-gettype"><c- g>getType</c-></a>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString④"><c- b>DOMString</c-></a> <dfn class="idl-code" data-dfn-for="ClipboardItem/getType(type)" data-dfn-type="argument" data-export id="dom-clipboarditem-gettype-type-type"><code><c- g>type</c-></code><a class="self-link" href="#dom-clipboarditem-gettype-type-type"></a></dfn>);

  <c- b>static</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean" id="ref-for-idl-boolean"><c- b>boolean</c-></a> <a class="idl-code" data-link-type="method" href="#dom-clipboarditem-supports" id="ref-for-dom-clipboarditem-supports"><c- g>supports</c-></a>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString⑤"><c- b>DOMString</c-></a> <dfn class="idl-code" data-dfn-for="ClipboardItem/supports(type)" data-dfn-type="argument" data-export id="dom-clipboarditem-supports-type-type"><code><c- g>type</c-></code><a class="self-link" href="#dom-clipboarditem-supports-type-type"></a></dfn>);
};

<c- b>enum</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="enum" data-export id="enumdef-presentationstyle"><code><c- g>PresentationStyle</c-></code></dfn> { <dfn class="idl-code" data-dfn-for="PresentationStyle" data-dfn-type="enum-value" data-export id="dom-presentationstyle-unspecified"><code><c- s>"unspecified"</c-></code><a class="self-link" href="#dom-presentationstyle-unspecified"></a></dfn>, <dfn class="idl-code" data-dfn-for="PresentationStyle" data-dfn-type="enum-value" data-export id="dom-presentationstyle-inline"><code><c- s>"inline"</c-></code><a class="self-link" href="#dom-presentationstyle-inline"></a></dfn>, <dfn class="idl-code" data-dfn-for="PresentationStyle" data-dfn-type="enum-value" data-export id="dom-presentationstyle-attachment"><code><c- s>"attachment"</c-></code><a class="self-link" href="#dom-presentationstyle-attachment"></a></dfn> };

<c- b>dictionary</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export id="dictdef-clipboarditemoptions"><code><c- g>ClipboardItemOptions</c-></code></dfn> {
  <a data-link-type="idl-name" href="#enumdef-presentationstyle" id="ref-for-enumdef-presentationstyle①"><c- n>PresentationStyle</c-></a> <dfn class="dfn-paneled idl-code" data-default="&quot;unspecified&quot;" data-dfn-for="ClipboardItemOptions" data-dfn-type="dict-member" data-export data-type="PresentationStyle " id="dom-clipboarditemoptions-presentationstyle"><code><c- g>presentationStyle</c-></code></dfn> = "unspecified";
};
</pre>
   <dl class="note">
    <dt><code><var>clipboardItem</var> = new ClipboardItem([<var>items</var>, <var>options</var>])</code>
    <dd>
      Creates a new <code class="idl"><a data-link-type="idl" href="#clipboarditem" id="ref-for-clipboarditem②">ClipboardItem</a></code> object. <var>items</var> denote <a data-link-type="dfn" href="#list-of-representations" id="ref-for-list-of-representations">list of representations</a>, each <a data-link-type="dfn" href="#representation" id="ref-for-representation">representation</a> has a <a data-link-type="dfn" href="#representation-mime-type" id="ref-for-representation-mime-type">mime type</a> and a <a data-link-type="dfn" href="http://tc39.github.io/ecma262/#sec-promise-objects" id="ref-for-sec-promise-objects">Promise</a> to <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/FileAPI/#dfn-Blob" id="ref-for-dfn-Blob②">Blob</a></code> or <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString⑥">DOMString</a></code> corresponding to the <a data-link-type="dfn" href="#representation-mime-type" id="ref-for-representation-mime-type①">mime type</a>, <var>options</var> can be used to fill its <code class="idl"><a data-link-type="idl" href="#dictdef-clipboarditemoptions" id="ref-for-dictdef-clipboarditemoptions①">ClipboardItemOptions</a></code>,
			as per the example below. 
<pre class="example javascript highlight" id="example-92be93df"><a class="self-link" href="#example-92be93df"></a><c- a>const</c-> format1 <c- o>=</c-> <c- t>'text/plain'</c-><c- p>;</c->
<c- a>const</c-> promise_text_blob <c- o>=</c-> Promise<c- p>.</c->resolve<c- p>(</c-><c- ow>new</c-> Blob<c- p>([</c-><c- t>'hello'</c-><c- p>],</c-> <c- p>{</c->type<c- o>:</c-> format1<c- p>}));</c->
<c- a>const</c-> clipboardItemInput <c- o>=</c-> <c- ow>new</c-> ClipboardItem<c- p>(</c->
  <c- p>{[</c->format1<c- p>]</c-><c- o>:</c-> promise_text_blob<c- p>},</c->
  <c- p>{</c->presentationStyle<c- o>:</c-> <c- u>"unspecified"</c-><c- p>});</c->
</pre>
    <dt><code><var>clipboardItem</var>.getType(<var>type</var>)</code>
    <dd>Returns a <a data-link-type="dfn" href="http://tc39.github.io/ecma262/#sec-promise-objects" id="ref-for-sec-promise-objects①">Promise</a> to the <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/FileAPI/#dfn-Blob" id="ref-for-dfn-Blob③">Blob</a></code> corresponding to the <a data-link-type="dfn" href="#representation-mime-type" id="ref-for-representation-mime-type②">mime type</a> <var>type</var>.
    <dt><code><var>clipboardItem</var>.<var>types</var></code>
    <dd>Returns the list of <a data-link-type="dfn" href="#representation-mime-type" id="ref-for-representation-mime-type③">mime type</a>s contained in the <a data-link-type="dfn" href="#clipboard-item" id="ref-for-clipboard-item">clipboard item</a> object.
    <dt><code><code class="idl"><a data-link-type="idl" href="#clipboarditem" id="ref-for-clipboarditem③">ClipboardItem</a></code>.supports(<var>type</var>)</code>
    <dd>Returns true if <var>type</var> is in <a data-link-type="dfn" href="#mandatory-data-types" id="ref-for-mandatory-data-types①">mandatory data types</a> or <a data-link-type="dfn" href="#optional-data-types" id="ref-for-optional-data-types">optional data types</a>, else, returns false.
   </dl>
   <p>A <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="clipboard-item">clipboard item</dfn> is conceptually data that the user has expressed a desire to make shareable by invoking a "cut" or "copy" command. A <a data-link-type="dfn" href="#clipboard-item" id="ref-for-clipboard-item①">clipboard item</a> serves two purposes. First, it allows a website to read data copied by a user to the <a data-link-type="dfn" href="#system-clipboard" id="ref-for-system-clipboard①①">system clipboard</a>. Second, it allows a website to write data to the <a data-link-type="dfn" href="#system-clipboard" id="ref-for-system-clipboard①②">system clipboard</a>.</p>
   <p class="note" role="note"> For example, if a user copies a range of cells from a spreadsheet of a native application, it will result in one <a data-link-type="dfn" href="#clipboard-item" id="ref-for-clipboard-item②">clipboard item</a>. If a user copies a set of files from their desktop, that list of files will be represented by multiple <a data-link-type="dfn" href="#clipboard-item" id="ref-for-clipboard-item③">clipboard item</a>s. </p>
   <p>Some platforms may support having more than one <a data-link-type="dfn" href="#clipboard-item" id="ref-for-clipboard-item④">clipboard item</a> at a time on the <a data-link-type="dfn" href="#navigator-clipboard" id="ref-for-navigator-clipboard①">clipboard</a>, while other platforms replace the previous <a data-link-type="dfn" href="#clipboard-item" id="ref-for-clipboard-item⑤">clipboard item</a> with the new one.</p>
   <p>A <a data-link-type="dfn" href="#clipboard-item" id="ref-for-clipboard-item⑥">clipboard item</a> has a <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="list-of-representations">list of representations</dfn>, each <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="representation">representation</dfn> with an associated <dfn class="dfn-paneled" data-dfn-for="representation" data-dfn-type="dfn" data-noexport id="representation-mime-type">mime type</dfn> (a <a data-link-type="dfn" href="https://mimesniff.spec.whatwg.org/#mime-type" id="ref-for-mime-type">MIME type</a>), an <dfn class="dfn-paneled" data-dfn-for="representation" data-dfn-type="dfn" data-noexport id="representation-iscustom">isCustom</dfn> flag, initially <var>false</var>, that indicates if this <a data-link-type="dfn" href="#representation" id="ref-for-representation①">representation</a> should be treated as a <a data-link-type="dfn" href="#web-custom-format" id="ref-for-web-custom-format">web custom format</a> (as opposed to a well-known format of the <a data-link-type="dfn" href="#system-clipboard" id="ref-for-system-clipboard①③">system clipboard</a>), and <dfn class="dfn-paneled" data-dfn-for="representation" data-dfn-type="dfn" data-noexport id="representation-data">data</dfn> (a <code class="idl"><a data-link-type="idl" href="#typedefdef-clipboarditemdata" id="ref-for-typedefdef-clipboarditemdata①">ClipboardItemData</a></code>).
		A <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="web-custom-format">web custom format</dfn> has <a data-link-type="dfn" href="#representation-iscustom" id="ref-for-representation-iscustom">isCustom</a> set to <var>true</var>.</p>
   <p class="note" role="note"> In the example where the user copies a range of cells from a spreadsheet, it may be represented as an image (image/png), an HTML table (text/html), or plain text (text/plain), or a web custom format (web text/csv). </p>
   <p>Each of these <a data-link-type="dfn" href="https://mimesniff.spec.whatwg.org/#mime-type" id="ref-for-mime-type①">MIME type</a>s describe a different <a data-link-type="dfn" href="#representation" id="ref-for-representation②">representation</a> of the same <a data-link-type="dfn" href="#clipboard-item" id="ref-for-clipboard-item⑦">clipboard item</a> at different levels of fidelity and make the <a data-link-type="dfn" href="#clipboard-item" id="ref-for-clipboard-item⑧">clipboard item</a> more consumable by target applications during paste.</p>
   <p class="note" role="note"> Making the range of cells available as an image will allow the user to paste the cells into a photo editing app, while the text/plain format can be used by text editor apps. </p>
   <p>A <a data-link-type="dfn" href="#clipboard-item" id="ref-for-clipboard-item⑨">clipboard item</a> has a <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="presentation-style">presentation style</dfn> (a <code class="idl"><a data-link-type="idl" href="#enumdef-presentationstyle" id="ref-for-enumdef-presentationstyle②">PresentationStyle</a></code>). It helps distinguish whether apps "pasting" a <a data-link-type="dfn" href="#clipboard-item" id="ref-for-clipboard-item①⓪">clipboard item</a> should insert the contents of an appropriate <a data-link-type="dfn" href="#representation" id="ref-for-representation③">representation</a> inline at the point of paste or if it should be treated as an attachment.</p>
   <p>Web apps that support pasting only a single <a data-link-type="dfn" href="#clipboard-item" id="ref-for-clipboard-item①①">clipboard item</a> should use the first <a data-link-type="dfn" href="#clipboard-item" id="ref-for-clipboard-item①②">clipboard item</a>.</p>
   <p class="note" role="note"> <code class="idl"><a data-link-type="idl" href="#dom-clipboard-write" id="ref-for-dom-clipboard-write①">write()</a></code> chooses the last <a data-link-type="dfn" href="#clipboard-item" id="ref-for-clipboard-item①③">clipboard item</a>. </p>
   <p>Web apps that support pasting more than one <a data-link-type="dfn" href="#clipboard-item" id="ref-for-clipboard-item①④">clipboard item</a> could, for example, provide a user interface that previews the contents of each <a data-link-type="dfn" href="#clipboard-item" id="ref-for-clipboard-item①⑤">clipboard item</a> and allow the user to choose which one to paste.
		Further, apps are expected to enumerate the <a data-link-type="dfn" href="https://mimesniff.spec.whatwg.org/#mime-type" id="ref-for-mime-type②">MIME type</a>s of the <a data-link-type="dfn" href="#clipboard-item" id="ref-for-clipboard-item①⑥">clipboard item</a> they are pasting and select the one best-suited for the app according to some app-specific algorithm.
		Alternatively, an app can present the user with options on how to paste a <a data-link-type="dfn" href="#clipboard-item" id="ref-for-clipboard-item①⑦">clipboard item</a>, e.g. "paste as image" or "paste formatted text", etc.</p>
   <p>A <code class="idl"><a data-link-type="idl" href="#clipboarditem" id="ref-for-clipboarditem④">ClipboardItem</a></code> object has an associated <dfn class="dfn-paneled" data-dfn-for="ClipboardItem" data-dfn-type="dfn" data-noexport id="clipboarditem-clipboard-item">clipboard item</dfn>, which is a <a data-link-type="dfn" href="#clipboard-item" id="ref-for-clipboard-item①⑧">clipboard item</a>.</p>
   <p>A <code class="idl"><a data-link-type="idl" href="#clipboarditem" id="ref-for-clipboarditem⑤">ClipboardItem</a></code> object has an associated <dfn class="dfn-paneled" data-dfn-for="ClipboardItem" data-dfn-type="dfn" data-noexport id="clipboarditem-types-array">types array</dfn>, which is a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-frozen-array" id="ref-for-idl-frozen-array①">FrozenArray</a></code>&lt;<code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString⑦">DOMString</a></code>>.</p>
   <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="create-a-clipboarditem-object">create a <code class="idl"><a data-link-type="idl" href="#clipboarditem" id="ref-for-clipboarditem⑥">ClipboardItem</a></code> object</dfn>, given a <a data-link-type="dfn" href="#clipboard-item" id="ref-for-clipboard-item①⑨">clipboard item</a> <var>clipboardItem</var> and a Realm <var>realm</var>, run these steps:</p>
   <ol>
    <li data-md>
     <p>Let <var>clipboardItemObject</var> be a <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#new" id="ref-for-new">new</a> <code class="idl"><a data-link-type="idl" href="#clipboarditem" id="ref-for-clipboarditem⑦">ClipboardItem</a></code> with <var>realm</var>.</p>
    <li data-md>
     <p>Set <var>clipboardItemObject</var>’s <a data-link-type="dfn" href="#clipboard-item" id="ref-for-clipboard-item②⓪">clipboard item</a> to <var>clipboardItem</var>.</p>
   </ol>
   <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="ClipboardItem" data-dfn-type="constructor" data-export data-lt="ClipboardItem(items, options)|constructor(items, options)|ClipboardItem(items)|constructor(items)" id="dom-clipboarditem-clipboarditem"><code>new ClipboardItem(<var>items</var>, <var>options</var>)</code></dfn> constructor steps are:</p>
   <ol>
    <li data-md>
     <p>If <var>items</var> is empty, then throw a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror">TypeError</a></code>.</p>
    <li data-md>
     <p>If <var>options</var> is empty, then set options["presentationStyle"] = "unspecified".</p>
    <li data-md>
     <p>Set <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this①">this</a>'s <a data-link-type="dfn" href="#clipboarditem-clipboard-item" id="ref-for-clipboarditem-clipboard-item">clipboard item</a> to a new <a data-link-type="dfn" href="#clipboard-item" id="ref-for-clipboard-item②①">clipboard item</a>.</p>
    <li data-md>
     <p>Set <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this②">this</a>'s <a data-link-type="dfn" href="#clipboarditem-clipboard-item" id="ref-for-clipboarditem-clipboard-item①">clipboard item</a>'s <a data-link-type="dfn" href="#presentation-style" id="ref-for-presentation-style">presentation style</a> to <var>options</var>["<code class="idl"><a data-link-type="idl" href="#dom-clipboarditemoptions-presentationstyle" id="ref-for-dom-clipboarditemoptions-presentationstyle">presentationStyle</a></code>"].</p>
    <li data-md>
     <p>Let <var>types</var> be a list of <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString⑧">DOMString</a></code>.</p>
    <li data-md>
     <p>For each (<var>key</var>, <var>value</var>) in <var>items</var>:</p>
     <ol>
      <li data-md>
       <p>Let <var>representation</var> be a new <a data-link-type="dfn" href="#representation" id="ref-for-representation④">representation</a>.</p>
      <li data-md>
       <p>Let <var>isCustom</var> be <var>false</var>.</p>
      <li data-md>
       <p>If <var>key</var> has "web " ("web" followed by U+0020 SPACE) prefix, then</p>
       <ol>
        <li data-md>
         <p>Remove "web " prefix and set the remaining string to <var>key</var>.</p>
        <li data-md>
         <p>Set <var>isCustom</var> <var>true</var></p>
       </ol>
      <li data-md>
       <p>Set <var>representation</var>’s <a data-link-type="dfn" href="#representation-iscustom" id="ref-for-representation-iscustom①">isCustom</a> flag to <var>isCustom</var>.</p>
      <li data-md>
       <p>Let <var>mimeType</var> be the result of <a data-link-type="dfn" href="https://mimesniff.spec.whatwg.org/#parse-a-mime-type" id="ref-for-parse-a-mime-type">parsing a MIME type</a> given <var>key</var>.</p>
      <li data-md>
       <p>If <var>mimeType</var> is failure, then throw a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror①">TypeError</a></code>.</p>
      <li data-md>
       <p>If <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this③">this</a>'s <a data-link-type="dfn" href="#clipboarditem-clipboard-item" id="ref-for-clipboarditem-clipboard-item②">clipboard item</a>'s <a data-link-type="dfn" href="#list-of-representations" id="ref-for-list-of-representations①">list of representations</a> <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-contain" id="ref-for-list-contain">contains</a> a <a data-link-type="dfn" href="#representation" id="ref-for-representation⑤">representation</a> whose <a data-link-type="dfn" href="#representation-mime-type" id="ref-for-representation-mime-type④">MIME type</a> is <var>mimeType</var> and whose [representation/isCustom] is <var>isCustom</var>, then throw a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror②">TypeError</a></code>.</p>
     </ol>
     <p class="note" role="note">The step above prevents collision between mime-types well-known by the user agent and those that are intended by the author to be treated as a custom type.  For example, it would be possible for the author’s list of items to contain representations for "text/html" as well as "web text/html".</p>
     <ol>
      <li data-md>
       <p>Set <var>representation</var>’s <a data-link-type="dfn" href="#representation-mime-type" id="ref-for-representation-mime-type⑤">MIME type</a> to <var>mimeType</var>.</p>
      <li data-md>
       <p>Set <var>representation</var>’s <a data-link-type="dfn" href="#representation-data" id="ref-for-representation-data">data</a> to <var>value</var>.</p>
      <li data-md>
       <p>Append <var>representation</var> to <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this④">this</a>'s <a data-link-type="dfn" href="#clipboarditem-clipboard-item" id="ref-for-clipboarditem-clipboard-item③">clipboard item</a>'s <a data-link-type="dfn" href="#list-of-representations" id="ref-for-list-of-representations②">list of representations</a>.</p>
      <li data-md>
       <p>Let <var>mimeTypeString</var> be the result of <a data-link-type="dfn" href="https://mimesniff.spec.whatwg.org/#serialize-a-mime-type" id="ref-for-serialize-a-mime-type">serializing a MIME type</a> with <var>mimeType</var>.</p>
      <li data-md>
       <p>If <var>isCustom</var> is <var>true</var>, prefix <var>mimeTypeString</var> with "web " ("web" followed by U+0020 SPACE).</p>
      <li data-md>
       <p>Add <var>mimeTypeString</var> to <var>types</var>.</p>
     </ol>
    <li data-md>
     <p>Set <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this⑤">this</a>'s <a data-link-type="dfn" href="#clipboarditem-types-array" id="ref-for-clipboarditem-types-array">types array</a> to the result of running <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-create-frozen-array" id="ref-for-dfn-create-frozen-array">create a frozen array</a> from <var>types</var>.</p>
   </ol>
   <h4 class="heading settled dfn-paneled idl-code" data-dfn-for="ClipboardItem" data-dfn-type="attribute" data-export data-level="7.2.1" data-lt="presentationStyle" id="dom-clipboarditem-presentationstyle"><span class="secno">7.2.1. </span><span class="content">presentationStyle</span><a class="self-link" href="#dom-clipboarditem-presentationstyle" id="ref-for-dom-clipboarditem-presentationstyle②"></a></h4>
   <p> The <code class="idl"><a data-link-type="idl" href="#dom-clipboarditem-presentationstyle" id="ref-for-dom-clipboarditem-presentationstyle①">presentationStyle</a></code> getter steps are to return <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this⑥">this</a>'s <a data-link-type="dfn" href="#clipboarditem-clipboard-item" id="ref-for-clipboarditem-clipboard-item④">clipboard item</a>'s <a data-link-type="dfn" href="#presentation-style" id="ref-for-presentation-style①">presentation style</a>. </p>
   <h4 class="heading settled dfn-paneled idl-code" data-dfn-for="ClipboardItem" data-dfn-type="attribute" data-export data-level="7.2.2" data-lt="types" id="dom-clipboarditem-types"><span class="secno">7.2.2. </span><span class="content">types</span><a class="self-link" href="#dom-clipboarditem-types" id="ref-for-dom-clipboarditem-types②"></a></h4>
   <p> The <code class="idl"><a data-link-type="idl" href="#dom-clipboarditem-types" id="ref-for-dom-clipboarditem-types①">types</a></code> getter steps are to return <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this⑦">this</a>'s <a data-link-type="dfn" href="#clipboarditem-types-array" id="ref-for-clipboarditem-types-array①">types array</a>. </p>
   <h4 class="heading settled dfn-paneled idl-code" data-dfn-for="ClipboardItem" data-dfn-type="method" data-export data-level="7.2.3" data-lt="getType(type)" id="dom-clipboarditem-gettype"><span class="secno">7.2.3. </span><span class="content">getType(type)</span><a class="self-link" href="#dom-clipboarditem-gettype" id="ref-for-dom-clipboarditem-gettype①"></a></h4>
   <p>This method must run the below steps:</p>
   <ol>
    <li data-md>
     <p>Let <var>realm</var> be <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this⑧">this</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-realm" id="ref-for-concept-relevant-realm">relevant realm</a>.</p>
    <li data-md>
     <p>Let <var>isCustom</var> be <var>false</var>.</p>
    <li data-md>
     <p>If <var>type</var> has "web "("web" followed by U+0020 SPACE) prefix, then:</p>
     <ol>
      <li data-md>
       <p>Remove "web " prefix and set the remaining string to <var>type</var>.</p>
      <li data-md>
       <p>Set <var>isCustom</var> to <var>true</var>.</p>
     </ol>
    <li data-md>
     <p>Let <var>mimeType</var> be the result of <a data-link-type="dfn" href="https://mimesniff.spec.whatwg.org/#parse-a-mime-type" id="ref-for-parse-a-mime-type①">parsing a MIME type</a> given <var>type</var>.</p>
    <li data-md>
     <p>If <var>mimeType</var> is failure, then throw a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror③">TypeError</a></code>.</p>
    <li data-md>
     <p>Let <var>itemTypeList</var> be <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this⑨">this</a>'s <a data-link-type="dfn" href="#clipboarditem-clipboard-item" id="ref-for-clipboarditem-clipboard-item⑤">clipboard item</a>'s <a data-link-type="dfn" href="#list-of-representations" id="ref-for-list-of-representations③">list of representations</a>.</p>
    <li data-md>
     <p>Let <var>p</var> be <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-new-promise" id="ref-for-a-new-promise">a new promise</a> in <var>realm</var>.</p>
    <li data-md>
     <p>For each <var>representation</var> in <var>itemTypeList</var>:</p>
     <ol>
      <li data-md>
       <p>If <var>representation</var>’s <a data-link-type="dfn" href="#representation-mime-type" id="ref-for-representation-mime-type⑥">MIME type</a> is <var>mimeType</var> and <var>representation</var>’s <a data-link-type="dfn" href="#representation-iscustom" id="ref-for-representation-iscustom②">isCustom</a> is <var>isCustom</var>, then:</p>
       <ol>
        <li data-md>
         <p>Let <var>representationDataPromise</var> be the <var>representation</var>’s <a data-link-type="dfn" href="#representation-data" id="ref-for-representation-data①">data</a>.</p>
        <li data-md>
         <p><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-perform-steps-once-promise-is-settled" id="ref-for-dfn-perform-steps-once-promise-is-settled">React</a> to <var>representationDataPromise</var>:</p>
         <ol>
          <li data-md>
           <p>If <var>representationDataPromise</var> was fulfilled with value <var>v</var>, then:</p>
           <ol>
            <li data-md>
             <p>If <var>v</var> is a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString⑨">DOMString</a></code>, then follow the below steps:</p>
             <ol>
              <li data-md>
               <p>Let <var>dataAsBytes</var> be the result of <a data-link-type="dfn" href="https://encoding.spec.whatwg.org/#utf-8-encode" id="ref-for-utf-8-encode">UTF-8 encoding</a> <var>v</var>.</p>
              <li data-md>
               <p>Let <var>blobData</var> be a <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/FileAPI/#dfn-Blob" id="ref-for-dfn-Blob④">Blob</a></code> created using <var>dataAsBytes</var> with its <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/FileAPI/#dfn-type" id="ref-for-dfn-type">type</a></code> set to <var>mimeType</var>, <a data-link-type="dfn" href="https://mimesniff.spec.whatwg.org/#serialize-a-mime-type" id="ref-for-serialize-a-mime-type①">serialized</a>.</p>
              <li data-md>
               <p>Resolve <var>p</var> with <var>blobData</var>.</p>
             </ol>
            <li data-md>
             <p>If <var>v</var> is a <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/FileAPI/#dfn-Blob" id="ref-for-dfn-Blob⑤">Blob</a></code>, then follow the below steps:</p>
             <ol>
              <li data-md>
               <p>Resolve <var>p</var> with <var>v</var>.</p>
             </ol>
           </ol>
          <li data-md>
           <p>If <var>representationDataPromise</var> was rejected, then:</p>
           <ol>
            <li data-md>
             <p><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#reject" id="ref-for-reject">Reject</a> <var>p</var> with <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#notfounderror" id="ref-for-notfounderror">"NotFoundError"</a></code> <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException">DOMException</a></code> in <var>realm</var>.</p>
             <p class="issue" id="issue-2d83c5ad"><a class="self-link" href="#issue-2d83c5ad"></a> Web developers might be interested in the underlying rejection reason.</p>
           </ol>
         </ol>
        <li data-md>
         <p>Return <var>p</var>.</p>
       </ol>
     </ol>
    <li data-md>
     <p><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#reject" id="ref-for-reject①">Reject</a> <var>p</var> with <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#notfounderror" id="ref-for-notfounderror①">"NotFoundError"</a></code> <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException①">DOMException</a></code> in <var>realm</var>.</p>
    <li data-md>
     <p>Return <var>p</var>.</p>
   </ol>
   <h4 class="heading settled dfn-paneled idl-code" data-dfn-for="ClipboardItem" data-dfn-type="method" data-export data-level="7.2.4" data-lt="supports(type)" id="dom-clipboarditem-supports"><span class="secno">7.2.4. </span><span class="content">supports(type)</span><a class="self-link" href="#dom-clipboarditem-supports" id="ref-for-dom-clipboarditem-supports①"></a></h4>
   <p>This method must run the below steps:</p>
   <ol>
    <li data-md>
     <p>If <var>type</var> is in <a data-link-type="dfn" href="#mandatory-data-types" id="ref-for-mandatory-data-types②">mandatory data types</a> or <a data-link-type="dfn" href="#optional-data-types" id="ref-for-optional-data-types①">optional data types</a>, then return true.</p>
    <li data-md>
     <p>If not, then return false.</p>
   </ol>
   <h3 class="heading settled" data-level="7.3" id="clipboard-interface"><span class="secno">7.3. </span><span class="content">Clipboard Interface</span><a class="self-link" href="#clipboard-interface"></a></h3>
<pre class="idl highlight def" data-highlight="webidl"><c- b>typedef</c-> <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence" id="ref-for-idl-sequence"><c- b>sequence</c-></a>&lt;<a data-link-type="idl-name" href="#clipboarditem" id="ref-for-clipboarditem⑧"><c- n>ClipboardItem</c-></a>> <dfn class="dfn-paneled idl-code" data-dfn-type="typedef" data-export id="typedefdef-clipboarditems"><code><c- g>ClipboardItems</c-></code></dfn>;

[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext" id="ref-for-SecureContext②"><c- g>SecureContext</c-></a>, <a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed" id="ref-for-Exposed②"><c- g>Exposed</c-></a>=<c- n>Window</c->]
<c- b>interface</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export id="clipboard"><code><c- g>Clipboard</c-></code></dfn> : <a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#eventtarget" id="ref-for-eventtarget"><c- n>EventTarget</c-></a> {
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise②"><c- b>Promise</c-></a>&lt;<a data-link-type="idl-name" href="#typedefdef-clipboarditems" id="ref-for-typedefdef-clipboarditems"><c- n>ClipboardItems</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-clipboard-read" id="ref-for-dom-clipboard-read①"><c- g>read</c-></a>();
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise③"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString①⓪"><c- b>DOMString</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-clipboard-readtext" id="ref-for-dom-clipboard-readtext"><c- g>readText</c-></a>();
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise④"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined" id="ref-for-idl-undefined"><c- b>undefined</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-clipboard-write" id="ref-for-dom-clipboard-write②"><c- g>write</c-></a>(<a data-link-type="idl-name" href="#typedefdef-clipboarditems" id="ref-for-typedefdef-clipboarditems①"><c- n>ClipboardItems</c-></a> <dfn class="idl-code" data-dfn-for="Clipboard/write(data)" data-dfn-type="argument" data-export id="dom-clipboard-write-data-data"><code><c- g>data</c-></code><a class="self-link" href="#dom-clipboard-write-data-data"></a></dfn>);
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise⑤"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined" id="ref-for-idl-undefined①"><c- b>undefined</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-clipboard-writetext" id="ref-for-dom-clipboard-writetext"><c- g>writeText</c-></a>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString①①"><c- b>DOMString</c-></a> <dfn class="idl-code" data-dfn-for="Clipboard/writeText(data)" data-dfn-type="argument" data-export id="dom-clipboard-writetext-data-data"><code><c- g>data</c-></code><a class="self-link" href="#dom-clipboard-writetext-data-data"></a></dfn>);
};
</pre>
   <p>Some methods of the <code class="idl"><a data-link-type="idl" href="#clipboard" id="ref-for-clipboard①">Clipboard</a></code> interface take or return multiple <code class="idl"><a data-link-type="idl" href="#clipboarditem" id="ref-for-clipboarditem⑨">ClipboardItem</a></code> objects. However, not all platforms support more than one <a data-link-type="dfn" href="#clipboard-item" id="ref-for-clipboard-item②②">clipboard item</a>; on such platforms, the algorithms below will ignore any <code class="idl"><a data-link-type="idl" href="#clipboarditem" id="ref-for-clipboarditem①⓪">ClipboardItem</a></code> objects beyond the first one that are passed to <code class="idl"><a data-link-type="idl" href="#dom-clipboard-write" id="ref-for-dom-clipboard-write③">write()</a></code>, and <code class="idl"><a data-link-type="idl" href="#dom-clipboard-read" id="ref-for-dom-clipboard-read②">read()</a></code> and <code class="idl"><a data-link-type="idl" href="#dom-clipboard-readtext" id="ref-for-dom-clipboard-readtext①">readText()</a></code> only get one clipboard item from the OS.</p>
   <p>A <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="clipboard-items">clipboard items</dfn> object is a <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence" id="ref-for-idl-sequence①">sequence</a> of <a data-link-type="dfn" href="#clipboard-item" id="ref-for-clipboard-item②③">clipboard item</a>s.</p>
   <p class="note" role="note"> A web author needs to create a <var>data</var> which is an array of <code class="idl"><a data-link-type="idl" href="#clipboarditem" id="ref-for-clipboarditem①①">ClipboardItem</a></code>s in order to write content to <a data-link-type="dfn" href="#system-clipboard" id="ref-for-system-clipboard①④">system clipboard</a> using the <code class="idl"><a data-link-type="idl" href="#dom-clipboard-write" id="ref-for-dom-clipboard-write④">write(data)</a></code> method. <code class="idl"><a data-link-type="idl" href="#dom-clipboard-read" id="ref-for-dom-clipboard-read③">read()</a></code> returns a <a data-link-type="dfn" href="http://tc39.github.io/ecma262/#sec-promise-objects" id="ref-for-sec-promise-objects②">Promise</a> to <a data-link-type="dfn" href="#clipboard-items" id="ref-for-clipboard-items">clipboard items</a> object that represents contents of <a data-link-type="dfn" href="#system-clipboard-data" id="ref-for-system-clipboard-data">system clipboard data</a>. </p>
   <p>The <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="clipboard-task-source">clipboard task source</dfn> is triggered in response to reading or writing of <a data-link-type="dfn" href="#system-clipboard-data" id="ref-for-system-clipboard-data①">system clipboard data</a>.</p>
   <div id="clipboard-idl">
    <div class="algorithm" data-algorithm="clipboard-read">
     <h4 class="heading settled dfn-paneled idl-code" data-dfn-for="Clipboard" data-dfn-type="method" data-export data-level="7.3.1" data-lt="read()" id="dom-clipboard-read"><span class="secno">7.3.1. </span><span class="content">read()</span><a class="self-link" href="#dom-clipboard-read" id="ref-for-dom-clipboard-read⑤"></a></h4>
      The <code class="idl"><a data-link-type="idl" href="#dom-clipboard-read" id="ref-for-dom-clipboard-read④">read()</a></code> method must run these steps: 
     <ol>
      <li data-md>
       <p>Let <var>realm</var> be <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this①⓪">this</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-realm" id="ref-for-concept-relevant-realm①">relevant realm</a>.</p>
      <li data-md>
       <p>Let <var>p</var> be <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-new-promise" id="ref-for-a-new-promise①">a new promise</a> in <var>realm</var>.</p>
      <li data-md>
       <p>Run the following steps <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel" id="ref-for-in-parallel">in parallel</a>:</p>
       <ol>
        <li data-md>
         <p>Let <var>r</var> be the result of running <a data-link-type="dfn" href="#check-clipboard-read-permission" id="ref-for-check-clipboard-read-permission">check clipboard read permission</a>.</p>
        <li data-md>
         <p>If <var>r</var> is false, then:</p>
         <ol>
          <li data-md>
           <p><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-global-task" id="ref-for-queue-a-global-task">Queue a global task</a> on the <a data-link-type="dfn" href="https://w3c.github.io/permissions/#permissions-task-source" id="ref-for-permissions-task-source">permission task source</a>, given <var>realm</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-realm-global" id="ref-for-concept-realm-global">global object</a>, to <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#reject" id="ref-for-reject②">reject</a> <var>p</var> with <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#notallowederror" id="ref-for-notallowederror">"NotAllowedError"</a></code> <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException②">DOMException</a></code> in <var>realm</var>.</p>
          <li data-md>
           <p>Abort these steps.</p>
         </ol>
        <li data-md>
         <p>Let <var>data</var> be a copy of the <a data-link-type="dfn" href="#system-clipboard-data" id="ref-for-system-clipboard-data②">system clipboard data</a>.</p>
        <li data-md>
         <p>Let <var>items</var> be a <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence" id="ref-for-idl-sequence②">sequence</a>&lt;<a data-link-type="dfn" href="#clipboard-item" id="ref-for-clipboard-item②④">clipboard item</a>>.</p>
        <li data-md>
         <p>For each <var>systemClipboardItem</var> in <var>data</var>:</p>
         <ol>
          <li data-md>
           <p>Let <var>item</var> be a new <a data-link-type="dfn" href="#clipboard-item" id="ref-for-clipboard-item②⑤">clipboard item</a>.</p>
          <li data-md>
           <p>For each <var>systemClipboardRepresentation</var> in <var>systemClipboardItem</var>:</p>
           <ol>
            <li data-md>
             <p>Let <var>mimeType</var> be the result of running the <a data-link-type="dfn" href="#well-known-mime-type-from-os-specific-format" id="ref-for-well-known-mime-type-from-os-specific-format">well-known mime type from os specific format</a> algorithm given <var>systemClipboardRepresentation</var>’s <a data-link-type="dfn" href="#system-clipboard-representation-name" id="ref-for-system-clipboard-representation-name">name</a>.</p>
            <li data-md>
             <p>If <var>mimeType</var> is null, continue this loop.</p>
            <li data-md>
             <p>Let <var>representation</var> be a new <a data-link-type="dfn" href="#representation" id="ref-for-representation⑥">representation</a>.</p>
            <li data-md>
             <p>Set <var>representation</var>’s <a data-link-type="dfn" href="#representation-mime-type" id="ref-for-representation-mime-type⑦">MIME type</a> to <var>mimeType</var>.</p>
            <li data-md>
             <p>Set <var>representation</var>’s <a data-link-type="dfn" href="#representation-data" id="ref-for-representation-data②">data</a> to <var>systemClipboardRepresentation</var>’s <a data-link-type="dfn" href="#system-clipboard-representation-data" id="ref-for-system-clipboard-representation-data">data</a>.</p>
             <p class="issue" id="issue-0a41fcd5"><a class="self-link" href="#issue-0a41fcd5"></a> It should be possible to read the data asynchronously from the system clipboard after the author calls getType, however, this set of steps implies that data will be provided at the time of read.</p>
            <li data-md>
             <p>The user agent, MAY sanitize <var>representation</var>’s <a data-link-type="dfn" href="#representation-data" id="ref-for-representation-data③">data</a>, unless <var>representation</var>’s <a data-link-type="dfn" href="#representation-mime-type" id="ref-for-representation-mime-type⑧">MIME type</a>'s essence is "image/png", which should remain unsanitized to preserve meta data.</p>
            <li data-md>
             <p>Append <var>representation</var> to <var>item</var>’s <a data-link-type="dfn" href="#list-of-representations" id="ref-for-list-of-representations④">list of representations</a>.</p>
           </ol>
          <li data-md>
           <p>If <var>item</var>’s <a data-link-type="dfn" href="#list-of-representations" id="ref-for-list-of-representations⑤">list of representations</a> size is greater than 0, append <var>item</var> to <var>items</var>.</p>
         </ol>
       </ol>
       <p>If <var>items</var> has a size > 0, then:</p>
       <ol>
        <li data-md>
         <p>Let <var>firstItem</var> be <var>items</var>[0]</p>
        <li data-md>
         <p>Run the <a data-link-type="dfn" href="#read-web-custom-format" id="ref-for-read-web-custom-format">read web custom format</a> algorithm given <var>firstItem</var>.</p>
       </ol>
       <p>Else:</p>
       <ol>
        <li data-md>
         <p>Let <var>customItem</var> be a new <a data-link-type="dfn" href="#clipboard-item" id="ref-for-clipboard-item②⑥">clipboard item</a>.</p>
        <li data-md>
         <p>Run the <a data-link-type="dfn" href="#read-web-custom-format" id="ref-for-read-web-custom-format①">read web custom format</a> algorithm given <var>customItem</var>.</p>
        <li data-md>
         <p>If <var>customItem</var>’s <a data-link-type="dfn" href="#list-of-representations" id="ref-for-list-of-representations⑥">list of representations</a> size is greater than 0, append <var>item</var> to <var>items</var>.</p>
       </ol>
       <ol>
        <li data-md>
         <p><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-global-task" id="ref-for-queue-a-global-task①">Queue a global task</a> on the <a data-link-type="dfn" href="#clipboard-task-source" id="ref-for-clipboard-task-source">clipboard task source</a>, given <var>realm</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-realm-global" id="ref-for-concept-realm-global①">global object</a>, to perform the below steps:</p>
         <ol>
          <li data-md>
           <p>Let <var>clipboardItems</var> be a <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence" id="ref-for-idl-sequence③">sequence</a>&lt;<code class="idl"><a data-link-type="idl" href="#clipboarditem" id="ref-for-clipboarditem①②">ClipboardItem</a></code>>.</p>
          <li data-md>
           <p>For each <a data-link-type="dfn" href="#clipboard-item" id="ref-for-clipboard-item②⑦">clipboard item</a> <var>underlyingItem</var> of <var>items</var>:</p>
           <ol>
            <li data-md>
             <p>Let <var>clipboardItem</var> be the result of running the steps of <a data-link-type="dfn" href="#create-a-clipboarditem-object" id="ref-for-create-a-clipboarditem-object">create a ClipboardItem object</a> given <var>underlyingItem</var> and <var>realm</var>.</p>
            <li data-md>
             <p>Append <var>clipboardItem</var> to <var>clipboardItems</var>.</p>
           </ol>
          <li data-md>
           <p>Resolve <var>p</var> with <var>clipboardItems</var>.</p>
         </ol>
       </ol>
      <li data-md>
       <p>Return <var>p</var>.</p>
     </ol>
     <div></div>
<pre class="example javascript highlight" id="example-c237e9e8"><a class="self-link" href="#example-c237e9e8"></a><c- a>const</c-> items <c- o>=</c-> <c- k>await</c-> navigator<c- p>.</c->clipboard<c- p>.</c->read<c- p>();</c->
<c- a>const</c-> textBlob <c- o>=</c-> <c- k>await</c-> items<c- p>[</c-><c- mf>0</c-><c- p>].</c->getType<c- p>(</c-><c- u>"text/plain"</c-><c- p>);</c->
<c- a>const</c-> text <c- o>=</c-> <c- k>await</c-> <c- p>(</c-><c- ow>new</c-> Response<c- p>(</c->textBlob<c- p>)).</c->text<c- p>();</c->
</pre>
    </div>
    <div class="algorithm" data-algorithm="clipboard-readtext">
     <h4 class="heading settled dfn-paneled idl-code" data-dfn-for="Clipboard" data-dfn-type="method" data-export data-level="7.3.2" data-lt="readText()" id="dom-clipboard-readtext"><span class="secno">7.3.2. </span><span class="content">readText()</span><a class="self-link" href="#dom-clipboard-readtext" id="ref-for-dom-clipboard-readtext③"></a></h4>
      The <code class="idl"><a data-link-type="idl" href="#dom-clipboard-readtext" id="ref-for-dom-clipboard-readtext②">readText()</a></code> method must run these steps: 
     <ol>
      <li data-md>
       <p>Let <var>realm</var> be <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this①①">this</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-realm" id="ref-for-concept-relevant-realm②">relevant realm</a>.</p>
      <li data-md>
       <p>Let <var>p</var> be <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-new-promise" id="ref-for-a-new-promise②">a new promise</a> in <var>realm</var>.</p>
      <li data-md>
       <p>Run the following steps <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel" id="ref-for-in-parallel①">in parallel</a>:</p>
       <ol>
        <li data-md>
         <p>Let <var>r</var> be the result of running <a data-link-type="dfn" href="#check-clipboard-read-permission" id="ref-for-check-clipboard-read-permission①">check clipboard read permission</a>.</p>
        <li data-md>
         <p>If <var>r</var> is false, then:</p>
         <ol>
          <li data-md>
           <p><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-global-task" id="ref-for-queue-a-global-task②">Queue a global task</a> on the <a data-link-type="dfn" href="https://w3c.github.io/permissions/#permissions-task-source" id="ref-for-permissions-task-source①">permission task source</a>, given <var>realm</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-realm-global" id="ref-for-concept-realm-global②">global object</a>, to <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#reject" id="ref-for-reject③">reject</a> <var>p</var> with <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#notallowederror" id="ref-for-notallowederror①">"NotAllowedError"</a></code> <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException③">DOMException</a></code> in <var>realm</var>.</p>
          <li data-md>
           <p>Abort these steps.</p>
         </ol>
        <li data-md>
         <p>Let <var>data</var> be a copy of the <a data-link-type="dfn" href="#system-clipboard-data" id="ref-for-system-clipboard-data③">system clipboard data</a>.</p>
         <p class="issue" id="issue-c148910f"><a class="self-link" href="#issue-c148910f"></a> Some OSs contain multiple clipboard (e.g. Linux, "primary", "secondary", "selection"). Define from which of those data is read.</p>
         <p class="issue" id="issue-1755f975"><a class="self-link" href="#issue-1755f975"></a> Add definition of sanitized copy.</p>
        <li data-md>
         <p><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-global-task" id="ref-for-queue-a-global-task③">Queue a global task</a> on the <a data-link-type="dfn" href="#clipboard-task-source" id="ref-for-clipboard-task-source①">clipboard task source</a>, given <var>realm</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-realm-global" id="ref-for-concept-realm-global③">global object</a>, to perform the below steps:</p>
         <ol>
          <li data-md>
           <p>For each <var>systemClipboardItem</var> in <var>data</var>:</p>
           <ol>
            <li data-md>
             <p>For each <var>systemClipboardRepresentation</var> in <var>systemClipboardItem</var>:</p>
             <ol>
              <li data-md>
               <p>Let <var>mimeType</var> be the result of running the <a data-link-type="dfn" href="#well-known-mime-type-from-os-specific-format" id="ref-for-well-known-mime-type-from-os-specific-format①">well-known mime type from os specific format</a> algorithm given <var>systemClipboardRepresentation</var>’s <a data-link-type="dfn" href="#system-clipboard-representation-name" id="ref-for-system-clipboard-representation-name①">name</a>.</p>
              <li data-md>
               <p>If <var>mimeType</var> is null, continue this loop.</p>
              <li data-md>
               <p>Let <var>representation</var> be a new <a data-link-type="dfn" href="#representation" id="ref-for-representation⑦">representation</a>.</p>
              <li data-md>
               <p>If <var>representation</var>’s <a data-link-type="dfn" href="#representation-mime-type" id="ref-for-representation-mime-type⑨">MIME type</a> <a data-link-type="dfn" href="https://mimesniff.spec.whatwg.org/#mime-type-essence" id="ref-for-mime-type-essence">essence</a> is "text/plain", then:</p>
               <ol>
                <li data-md>
                 <p>Set <var>representation</var>’s <a data-link-type="dfn" href="#representation-mime-type" id="ref-for-representation-mime-type①⓪">MIME type</a> to <var>mimeType</var>.</p>
                <li data-md>
                 <p>Let <var>representationDataPromise</var> be the <var>representation</var>’s <a data-link-type="dfn" href="#representation-data" id="ref-for-representation-data④">data</a>.</p>
                <li data-md>
                 <p><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-perform-steps-once-promise-is-settled" id="ref-for-dfn-perform-steps-once-promise-is-settled①">React</a> to <var>representationDataPromise</var>:</p>
                 <ol>
                  <li data-md>
                   <p>If <var>representationDataPromise</var> was fulfilled with value <var>v</var>, then:</p>
                   <ol>
                    <li data-md>
                     <p>If <var>v</var> is a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString①②">DOMString</a></code>, then follow the below steps:</p>
                     <ol>
                      <li data-md>
                       <p>Resolve <var>p</var> with <var>v</var>.</p>
                      <li data-md>
                       <p>Return <var>p</var>.</p>
                     </ol>
                    <li data-md>
                     <p>If <var>v</var> is a <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/FileAPI/#dfn-Blob" id="ref-for-dfn-Blob⑥">Blob</a></code>, then follow the below steps:</p>
                     <ol>
                      <li data-md>
                       <p>Let <var>string</var> be the result of <a data-link-type="dfn" href="https://encoding.spec.whatwg.org/#utf-8-decode" id="ref-for-utf-8-decode">UTF-8 decoding</a> <var>v</var>’s underlying byte sequence.</p>
                      <li data-md>
                       <p>Resolve <var>p</var> with <var>string</var>.</p>
                      <li data-md>
                       <p>Return <var>p</var>.</p>
                     </ol>
                   </ol>
                  <li data-md>
                   <p>If <var>representationDataPromise</var> was rejected, then:</p>
                   <ol>
                    <li data-md>
                     <p><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#reject" id="ref-for-reject④">Reject</a> <var>p</var> with <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#notfounderror" id="ref-for-notfounderror②">"NotFoundError"</a></code> <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException④">DOMException</a></code> in <var>realm</var>.</p>
                    <li data-md>
                     <p>Return <var>p</var>.</p>
                   </ol>
                 </ol>
               </ol>
             </ol>
           </ol>
          <li data-md>
           <p><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#reject" id="ref-for-reject⑤">Reject</a> <var>p</var> with <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#notfounderror" id="ref-for-notfounderror③">"NotFoundError"</a></code> <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException⑤">DOMException</a></code> in <var>realm</var>.</p>
          <li data-md>
           <p>Return <var>p</var>.</p>
         </ol>
       </ol>
     </ol>
     <div></div>
<pre class="example javascript highlight" id="example-18b01409"><a class="self-link" href="#example-18b01409"></a>navigator<c- p>.</c->clipboard<c- p>.</c->readText<c- p>().</c->then<c- p>(</c-><c- a>function</c-><c- p>(</c->data<c- p>)</c-> <c- p>{</c->
  console<c- p>.</c->log<c- p>(</c-><c- u>"Your string: "</c-><c- p>,</c-> data<c- p>);</c->
<c- p>});</c->
</pre>
    </div>
    <div class="algorithm" data-algorithm="clipboard-write">
     <h4 class="heading settled dfn-paneled idl-code" data-dfn-for="Clipboard" data-dfn-type="method" data-export data-level="7.3.3" data-lt="write(data)" id="dom-clipboard-write"><span class="secno">7.3.3. </span><span class="content">write(<var>data</var>)</span><a class="self-link" href="#dom-clipboard-write" id="ref-for-dom-clipboard-write⑥"></a></h4>
      The <code class="idl"><a data-link-type="idl" href="#dom-clipboard-write" id="ref-for-dom-clipboard-write⑤">write(data)</a></code> method must run these steps: 
     <ol>
      <li data-md>
       <p>Let <var>realm</var> be <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this①②">this</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-realm" id="ref-for-concept-relevant-realm③">relevant realm</a>.</p>
      <li data-md>
       <p>Let <var>p</var> be <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-new-promise" id="ref-for-a-new-promise③">a new promise</a> in <var>realm</var>.</p>
      <li data-md>
       <p>Run the following steps <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel" id="ref-for-in-parallel②">in parallel</a>:</p>
       <ol>
        <li data-md>
         <p>Let <var>r</var> be the result of running <a data-link-type="dfn" href="#check-clipboard-write-permission" id="ref-for-check-clipboard-write-permission">check clipboard write permission</a>.</p>
         <p class="issue" id="issue-1b338371"><a class="self-link" href="#issue-1b338371"></a> clipboard-write was removed in https://github.com/w3c/clipboard-apis/pull/164.</p>
        <li data-md>
         <p>If <var>r</var> is false, then:</p>
         <ol>
          <li data-md>
           <p><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-global-task" id="ref-for-queue-a-global-task④">Queue a global task</a> on the <a data-link-type="dfn" href="https://w3c.github.io/permissions/#permissions-task-source" id="ref-for-permissions-task-source②">permission task source</a>, given <var>realm</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-realm-global" id="ref-for-concept-realm-global④">global object</a>, to <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#reject" id="ref-for-reject⑥">reject</a> <var>p</var> with <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#notallowederror" id="ref-for-notallowederror②">"NotAllowedError"</a></code> <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException⑥">DOMException</a></code> in <var>realm</var>.</p>
          <li data-md>
           <p>Abort these steps.</p>
         </ol>
        <li data-md>
         <p><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-global-task" id="ref-for-queue-a-global-task⑤">Queue a global task</a> on the <a data-link-type="dfn" href="#clipboard-task-source" id="ref-for-clipboard-task-source②">clipboard task source</a>, given <var>realm</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-realm-global" id="ref-for-concept-realm-global⑤">global object</a>, to perform the below steps:</p>
         <ol>
          <li data-md>
           <p>Let <var>itemList</var> and <var>cleanItemList</var> be an empty <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence" id="ref-for-idl-sequence④">sequence</a>&lt;<code class="idl"><a data-link-type="idl" href="https://w3c.github.io/FileAPI/#dfn-Blob" id="ref-for-dfn-Blob⑦">Blob</a></code>>.</p>
          <li data-md>
           <p>Let <var>dataList</var> be a <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence" id="ref-for-idl-sequence⑤">sequence</a>&lt;<code class="idl"><a data-link-type="idl" href="#clipboarditem" id="ref-for-clipboarditem①③">ClipboardItem</a></code>>.</p>
          <li data-md>
           <p>If <var>data</var>’s <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-size" id="ref-for-list-size">size</a> is greater than 1, and the current operating system does not support multiple native clipboard items on the <a data-link-type="dfn" href="#system-clipboard" id="ref-for-system-clipboard①⑤">system clipboard</a>, then add <var>data</var>[0] to <var>dataList</var>, else, set <var>dataList</var> to <var>data</var>.</p>
           <p class="issue" id="issue-f23cf1e2"><a class="self-link" href="#issue-f23cf1e2"></a> when <var>data</var> contains multiple items and the operating system supports multiple native clipboard items, the current algorithm writes the items in sequence to the system clipboard instead of writing them collectively.</p>
          <li data-md>
           <p>For each <var>clipboardItem</var> in <var>dataList</var>:</p>
           <ol>
            <li data-md>
             <p>For each <var>representation</var> in <var>clipboardItem</var>’s <a data-link-type="dfn" href="#clipboarditem-clipboard-item" id="ref-for-clipboarditem-clipboard-item⑥">clipboard item</a>'s <a data-link-type="dfn" href="#list-of-representations" id="ref-for-list-of-representations⑦">list of representations</a>:</p>
             <ol>
              <li data-md>
               <p>Let <var>representationDataPromise</var> be the <var>representation</var>’s <a data-link-type="dfn" href="#representation-data" id="ref-for-representation-data⑤">data</a>.</p>
              <li data-md>
               <p><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-perform-steps-once-promise-is-settled" id="ref-for-dfn-perform-steps-once-promise-is-settled②">React</a> to <var>representationDataPromise</var>:</p>
               <ol>
                <li data-md>
                 <p>If <var>representationDataPromise</var> was fulfilled with value <var>v</var>, then:</p>
                 <ol>
                  <li data-md>
                   <p>If <var>v</var> is a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString①③">DOMString</a></code>, then follow the below steps:</p>
                   <ol>
                    <li data-md>
                     <p>Let <var>dataAsBytes</var> be the result of <a data-link-type="dfn" href="https://encoding.spec.whatwg.org/#utf-8-encode" id="ref-for-utf-8-encode①">UTF-8 encoding</a> <var>v</var>.</p>
                    <li data-md>
                     <p>Let <var>blobData</var> be a <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/FileAPI/#dfn-Blob" id="ref-for-dfn-Blob⑧">Blob</a></code> created using <var>dataAsBytes</var> with its <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/FileAPI/#dfn-type" id="ref-for-dfn-type①">type</a></code> set to <var>representation</var>’s <a data-link-type="dfn" href="#representation-mime-type" id="ref-for-representation-mime-type①①">MIME type</a>.</p>
                    <li data-md>
                     <p>Add <var>blobData</var> to <var>itemList</var>.</p>
                   </ol>
                  <li data-md>
                   <p>If <var>v</var> is a <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/FileAPI/#dfn-Blob" id="ref-for-dfn-Blob⑨">Blob</a></code>, then add <var>v</var> to <var>itemList</var>.</p>
                 </ol>
                <li data-md>
                 <p>If <var>representationDataPromise</var> was rejected, then:</p>
                 <ol>
                  <li data-md>
                   <p><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#reject" id="ref-for-reject⑦">Reject</a> <var>p</var> with <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#notallowederror" id="ref-for-notallowederror③">"NotAllowedError"</a></code> <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException⑦">DOMException</a></code> in <var>realm</var>.</p>
                  <li data-md>
                   <p>Abort these steps.</p>
                 </ol>
               </ol>
             </ol>
            <li data-md>
             <p>For each <var>blob</var> in <var>itemList</var>:</p>
             <ol>
              <li data-md>
               <p>Let <var>type</var> be the <var>blob</var>’s <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/FileAPI/#dfn-type" id="ref-for-dfn-type②">type</a></code>.</p>
              <li data-md>
               <p>If <var>type</var> is not in the <a data-link-type="dfn" href="#mandatory-data-types" id="ref-for-mandatory-data-types③">mandatory data types</a> or <a data-link-type="dfn" href="#optional-data-types" id="ref-for-optional-data-types②">optional data types</a> list, then <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#reject" id="ref-for-reject⑧">reject</a> <var>p</var> with <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#notallowederror" id="ref-for-notallowederror④">"NotAllowedError"</a></code> <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException⑧">DOMException</a></code> in <var>realm</var> and abort these steps.</p>
              <li data-md>
               <p>Let <var>cleanItem</var> be an optionally sanitized copy of <var>blob</var>.</p>
               <p class="issue" id="issue-1755f975①"><a class="self-link" href="#issue-1755f975①"></a> Add definition of sanitized copy.</p>
              <li data-md>
               <p>If sanitization was attempted and was not successfully completed, then follow the below steps:</p>
               <ol>
                <li data-md>
                 <p><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#reject" id="ref-for-reject⑨">Reject</a> <var>p</var> with <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#notallowederror" id="ref-for-notallowederror⑤">"NotAllowedError"</a></code> DOMException in <var>realm</var>.</p>
                <li data-md>
                 <p>Abort these steps.</p>
               </ol>
              <li data-md>
               <p>Append <var>cleanItem</var> to <var>cleanItemList</var>.</p>
             </ol>
            <li data-md>
             <p>Let <var>option</var> be <var>clipboardItem</var>’s <a data-link-type="dfn" href="#clipboarditem-clipboard-item" id="ref-for-clipboarditem-clipboard-item⑦">clipboard item</a>'s <a data-link-type="dfn" href="#presentation-style" id="ref-for-presentation-style②">presentation style</a>.</p>
            <li data-md>
             <p><a data-link-type="dfn" href="#write-blobs-and-option-to-the-clipboard" id="ref-for-write-blobs-and-option-to-the-clipboard">Write blobs and option to the clipboard</a> with <var>cleanItemList</var> and <var>option</var>.</p>
           </ol>
          <li data-md>
           <p>Resolve <var>p</var>.</p>
         </ol>
       </ol>
      <li data-md>
       <p>Return <var>p</var>.</p>
     </ol>
     <div></div>
<pre class="example javascript highlight" id="example-615ef477"><a class="self-link" href="#example-615ef477"></a><c- a>var</c-> data <c- o>=</c-> <c- p>[</c-><c- ow>new</c-> ClipboardItem<c- p>({</c-> <c- u>"text/plain"</c-><c- o>:</c-> Promise<c- p>.</c->resolve<c- p>(</c-><c- ow>new</c-> Blob<c- p>([</c-><c- u>"Text data"</c-><c- p>],</c-> <c- p>{</c-> type<c- o>:</c-> <c- u>"text/plain"</c-> <c- p>}))</c-> <c- p>})];</c->
navigator<c- p>.</c->clipboard<c- p>.</c->write<c- p>(</c->data<c- p>).</c->then<c- p>(</c-><c- a>function</c-><c- p>()</c-> <c- p>{</c->
  console<c- p>.</c->log<c- p>(</c-><c- u>"Copied to clipboard successfully!"</c-><c- p>);</c->
<c- p>},</c-> <c- a>function</c-><c- p>()</c-> <c- p>{</c->
  console<c- p>.</c->error<c- p>(</c-><c- u>"Unable to write to clipboard. :-("</c-><c- p>);</c->
<c- p>});</c->
</pre>
    </div>
    <div class="algorithm" data-algorithm="clipboard-writetext">
     <h4 class="heading settled dfn-paneled idl-code" data-dfn-for="Clipboard" data-dfn-type="method" data-export data-level="7.3.4" data-lt="writeText(data)" id="dom-clipboard-writetext"><span class="secno">7.3.4. </span><span class="content">writeText(<var>data</var>)</span><a class="self-link" href="#dom-clipboard-writetext" id="ref-for-dom-clipboard-writetext②"></a></h4>
      The <code class="idl"><a data-link-type="idl" href="#dom-clipboard-writetext" id="ref-for-dom-clipboard-writetext①">writeText(data)</a></code> method must run these steps: 
     <ol>
      <li data-md>
       <p>Let <var>realm</var> be <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this①③">this</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-realm" id="ref-for-concept-relevant-realm④">relevant realm</a>.</p>
      <li data-md>
       <p>Let <var>p</var> be <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-new-promise" id="ref-for-a-new-promise④">a new promise</a> in <var>realm</var>.</p>
      <li data-md>
       <p>Run the following steps <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel" id="ref-for-in-parallel③">in parallel</a>:</p>
       <ol>
        <li data-md>
         <p>Let <var>r</var> be the result of running <a data-link-type="dfn" href="#check-clipboard-write-permission" id="ref-for-check-clipboard-write-permission①">check clipboard write permission</a>.</p>
         <p class="issue" id="issue-1b338371①"><a class="self-link" href="#issue-1b338371①"></a> clipboard-write was removed in https://github.com/w3c/clipboard-apis/pull/164.</p>
        <li data-md>
         <p>If <var>r</var> is false, then:</p>
         <ol>
          <li data-md>
           <p><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-global-task" id="ref-for-queue-a-global-task⑥">Queue a global task</a> on the <a data-link-type="dfn" href="https://w3c.github.io/permissions/#permissions-task-source" id="ref-for-permissions-task-source③">permission task source</a>, given <var>realm</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-realm-global" id="ref-for-concept-realm-global⑥">global object</a>, to <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#reject" id="ref-for-reject①⓪">reject</a> <var>p</var> with <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#notallowederror" id="ref-for-notallowederror⑥">"NotAllowedError"</a></code> DOMException in <var>realm</var>.</p>
          <li data-md>
           <p>Abort these steps.</p>
         </ol>
        <li data-md>
         <p><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-global-task" id="ref-for-queue-a-global-task⑦">Queue a global task</a> on the <a data-link-type="dfn" href="#clipboard-task-source" id="ref-for-clipboard-task-source③">clipboard task source</a>, given <var>realm</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-realm-global" id="ref-for-concept-realm-global⑦">global object</a>, to perform the below steps:</p>
         <ol>
          <li data-md>
           <p>Let <var>itemList</var> be an empty <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence" id="ref-for-idl-sequence⑥">sequence</a>&lt;<code class="idl"><a data-link-type="idl" href="https://w3c.github.io/FileAPI/#dfn-Blob" id="ref-for-dfn-Blob①⓪">Blob</a></code>>.</p>
          <li data-md>
           <p>Let <var>textBlob</var> be a new <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/FileAPI/#dfn-Blob" id="ref-for-dfn-Blob①①">Blob</a></code> created with: <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/FileAPI/#dfn-type" id="ref-for-dfn-type③">type</a></code> attribute set to "<code>text/plain;charset=utf-8</code>", and
its underlying byte sequence set to the <a data-link-type="dfn" href="https://encoding.spec.whatwg.org/#utf-8-encode" id="ref-for-utf-8-encode②">UTF-8 encoding</a> of <var>data</var>.</p>
           <p class="note" role="note"><span class="marker">Note:</span> On Windows replace `\n` characters with `\r\n` in <var>data</var> before creating <var>textBlob</var>.</p>
          <li data-md>
           <p>Add <var>textBlob</var> to <var>itemList</var>.</p>
          <li data-md>
           <p>Let <var>option</var> be set to "unspecified".</p>
          <li data-md>
           <p><a data-link-type="dfn" href="#write-blobs-and-option-to-the-clipboard" id="ref-for-write-blobs-and-option-to-the-clipboard①">Write blobs and option to the clipboard</a> with <var>itemList</var> and <var>option</var>.</p>
          <li data-md>
           <p>Resolve <var>p</var>.</p>
         </ol>
       </ol>
      <li data-md>
       <p>Return <var>p</var>.</p>
     </ol>
     <div></div>
<pre class="example javascript highlight" id="example-a984ae2d"><a class="self-link" href="#example-a984ae2d"></a><c- k>await</c-> navigator<c- p>.</c->clipboard<c- p>.</c->writeText<c- p>(</c-><c- u>"Howdy, partner!"</c-><c- p>);</c->
</pre>
    </div>
   </div>
   <h2 class="heading settled" data-level="8" id="clipboard-actions"><span class="secno">8. </span><span class="content">Clipboard Actions</span><a class="self-link" href="#clipboard-actions"></a></h2>
   <p>This section defines clipboard actions and the processing model
	for event dispatch.</p>
   <p>Each clipboard action has two flags called <a data-link-type="dfn" href="#script-triggered" id="ref-for-script-triggered">script-triggered</a> and <a data-link-type="dfn" href="#script-may-access-clipboard" id="ref-for-script-may-access-clipboard">script-may-access-clipboard</a>.</p>
   <p>The <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="script-triggered">script-triggered</dfn> flag is set if the action runs because
	of a script, for example a <code>document.execCommand()</code> call.
	Future scripting APIs that interact with the clipboard should also use
	these actions, and the <a data-link-type="dfn" href="#script-triggered" id="ref-for-script-triggered①">script-triggered</a> flag must be set
	accordingly.</p>
   <div class="algorithm" data-algorithm="script-may-access-clipboard">
    <p>The <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="script-may-access-clipboard">script-may-access-clipboard</dfn> flag is set as follows:</p>
    <ol>
     <li data-md>
      <p>If action is <em>copy</em> or <em>cut</em> and the script thread
is <a data-link-type="dfn" href="#allowed-to-modify-the-clipboard" id="ref-for-allowed-to-modify-the-clipboard">allowed to modify the clipboard</a>, then</p>
      <ol>
       <li data-md>
        <p>Set the action’s <a data-link-type="dfn" href="#script-may-access-clipboard" id="ref-for-script-may-access-clipboard①">script-may-access-clipboard</a> flag</p>
      </ol>
     <li data-md>
      <p>If action is <em>paste</em> and the script thread is <a data-link-type="dfn" href="#allowed-to-read-from-clipboard" id="ref-for-allowed-to-read-from-clipboard">allowed to
read from clipboard</a>, then</p>
      <ol>
       <li data-md>
        <p>Set the action’s <a data-link-type="dfn" href="#script-may-access-clipboard" id="ref-for-script-may-access-clipboard②">script-may-access-clipboard</a> flag.</p>
      </ol>
    </ol>
   </div>
   <h3 class="heading settled" data-level="8.1" id="copy-action"><span class="secno">8.1. </span><span class="content">The copy action</span><a class="self-link" href="#copy-action"></a></h3>
   <div class="algorithm" data-algorithm="clipboard-copy-action">
    <p>The copy action consists of the following steps:</p>
    <ol>
     <li data-md>
      <p>If the <a data-link-type="dfn" href="#script-triggered" id="ref-for-script-triggered②">script-triggered</a> flag is set, then</p>
      <ol>
       <li data-md>
        <p>If the <a data-link-type="dfn" href="#script-may-access-clipboard" id="ref-for-script-may-access-clipboard③">script-may-access-clipboard</a> flag is unset, then</p>
        <ol>
         <li data-md>
          <p>Return false from the copy action, terminate this algorithm</p>
        </ol>
      </ol>
     <li data-md>
      <p><a data-link-type="dfn" href="#fire-a-clipboard-event" id="ref-for-fire-a-clipboard-event③">Fire a clipboard event</a> named <code class="idl"><a data-link-type="idl" href="#eventdef-documentandelementeventhandlers-copy" id="ref-for-eventdef-documentandelementeventhandlers-copy⑦">copy</a></code></p>
     <li data-md>
      <p>If the event was not canceled, then</p>
      <ol>
       <li data-md>
        <p>Copy the selected contents, if any, to the clipboard.
Implementations <em>should</em> create alternate text/html and
text/plain clipboard formats when content in a web page is selected.</p>
       <li data-md>
        <p><a data-link-type="dfn" href="#fire-a-clipboard-event" id="ref-for-fire-a-clipboard-event④">Fire a clipboard event</a> named <code class="idl"><a data-link-type="idl" href="#eventdef-documentandelementeventhandlers-clipboardchange" id="ref-for-eventdef-documentandelementeventhandlers-clipboardchange③">clipboardchange</a></code></p>
      </ol>
     <li data-md>
      <p>Else, if the event was canceled, then</p>
      <ol>
       <li data-md>
        <p>Call the <a data-link-type="dfn" href="#write-content-to-the-clipboard" id="ref-for-write-content-to-the-clipboard">write content to the clipboard</a> algorithm,
passing on the <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/dnd.html#datatransferitemlist" id="ref-for-datatransferitemlist①">DataTransferItemList</a></code> list <em>items</em>,
a <em>clear-was-called</em> flag and a <em>types-to-clear</em> list.</p>
      </ol>
     <li data-md>
      <p>Return true from the copy action</p>
    </ol>
   </div>
   <h3 class="heading settled" data-level="8.2" id="cut-action"><span class="secno">8.2. </span><span class="content">The cut action</span><a class="self-link" href="#cut-action"></a></h3>
   <div class="algorithm" data-algorithm="clipboard-cut-action">
    <p>The cut action consists of the following steps:</p>
    <ol>
     <li data-md>
      <p>If the <a data-link-type="dfn" href="#script-triggered" id="ref-for-script-triggered③">script-triggered</a> flag is set, then</p>
      <ol>
       <li data-md>
        <p>If the <a data-link-type="dfn" href="#script-may-access-clipboard" id="ref-for-script-may-access-clipboard④">script-may-access-clipboard</a> flag is unset, then</p>
        <ol>
         <li data-md>
          <p>Return false from the cut action, terminate this algorithm</p>
        </ol>
      </ol>
     <li data-md>
      <p><a data-link-type="dfn" href="#fire-a-clipboard-event" id="ref-for-fire-a-clipboard-event⑤">Fire a clipboard event</a> named <code class="idl"><a data-link-type="idl" href="#eventdef-documentandelementeventhandlers-cut" id="ref-for-eventdef-documentandelementeventhandlers-cut①⓪">cut</a></code></p>
     <li data-md>
      <p>If the event was not canceled, then</p>
      <ol>
       <li data-md>
        <p>If there is a selection in an <a data-link-type="dfn" href="#editable-context" id="ref-for-editable-context④">editable context</a> where
cutting is enabled, then</p>
        <ol>
         <li data-md>
          <p>Copy the selected contents, if any, to the clipboard.
Implementations <em>should</em> create alternate
text/html and text/plain clipboard formats when content
in a web page is selected.</p>
         <li data-md>
          <p>Remove the contents of the selection from the document
and collapse the selection.</p>
         <li data-md>
          <p><a data-link-type="dfn" href="#fire-a-clipboard-event" id="ref-for-fire-a-clipboard-event⑥">Fire a clipboard event</a> named <code class="idl"><a data-link-type="idl" href="#eventdef-documentandelementeventhandlers-clipboardchange" id="ref-for-eventdef-documentandelementeventhandlers-clipboardchange④">clipboardchange</a></code></p>
         <li data-md>
          <p>Queue tasks to fire any events that should fire due to the
modification, see <a href="#integration-with-other-scripts-and-events">§ 5.3 Integration with other scripts and events</a> for details.</p>
        </ol>
       <li data-md>
        <p>Else, if there is no selection or the context is not editable, then</p>
        <ol>
         <li data-md>
          <p>Return false</p>
        </ol>
      </ol>
     <li data-md>
      <p>Else, if the event was canceled, then</p>
      <ol>
       <li data-md>
        <p>Call the <a data-link-type="dfn" href="#write-content-to-the-clipboard" id="ref-for-write-content-to-the-clipboard①">write content to the clipboard</a> algorithm,
passing on the <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/dnd.html#datatransferitemlist" id="ref-for-datatransferitemlist②">DataTransferItemList</a></code> list <em>items</em>,
a <em>clear-was-called</em> flag and a <em>types-to-clear</em> list.</p>
       <li data-md>
        <p><a data-link-type="dfn" href="#fire-a-clipboard-event" id="ref-for-fire-a-clipboard-event⑦">Fire a clipboard event</a> named <code class="idl"><a data-link-type="idl" href="#eventdef-documentandelementeventhandlers-clipboardchange" id="ref-for-eventdef-documentandelementeventhandlers-clipboardchange⑤">clipboardchange</a></code></p>
      </ol>
     <li data-md>
      <p>Return true from the cut action</p>
    </ol>
   </div>
   <h3 class="heading settled" data-level="8.3" id="paste-action"><span class="secno">8.3. </span><span class="content">The paste action</span><a class="self-link" href="#paste-action"></a></h3>
   <p>For the paste action, the <a data-link-type="dfn" href="#script-may-access-clipboard" id="ref-for-script-may-access-clipboard⑤">script-may-access-clipboard</a> flag
		depends on an implementation-specific permission mechanism for
		determining what sites or apps may read from the clipboard. When a
		paste action is triggered by a script, the implementation must not
		make clipboard contents available without the user’s permission. If
		the permission has not already been granted, the permission prompt
		must include the hostname of the document associated with the script
		thread.</p>
   <div class="algorithm" data-algorithm="clipboard-paste-action">
    <p>The paste action consists of the following steps:</p>
    <ol>
     <li data-md>
      <p>If the <a data-link-type="dfn" href="#script-triggered" id="ref-for-script-triggered④">script-triggered</a> flag is set, then</p>
      <ol>
       <li data-md>
        <p>If <a data-link-type="dfn" href="#script-may-access-clipboard" id="ref-for-script-may-access-clipboard⑥">script-may-access-clipboard</a> is unset, then</p>
        <ol>
         <li data-md>
          <p>Return false from the paste action, terminate this algorithm</p>
        </ol>
      </ol>
     <li data-md>
      <p><a href="#fire-a-clipboard-event" id="ref-for-fire-a-clipboard-event⑧">Fire a clipboard event</a> named <code class="idl"><a data-link-type="idl" href="#eventdef-documentandelementeventhandlers-paste" id="ref-for-eventdef-documentandelementeventhandlers-paste⑨">paste</a></code></p>
     <li data-md>
      <p>If the event was not canceled, then</p>
      <ol>
       <li data-md>
        <p>If there is a selection or cursor in an <a data-link-type="dfn" href="#editable-context" id="ref-for-editable-context⑤">editable context</a> where pasting is enabled, then</p>
        <ol>
         <li data-md>
          <p>Insert the most suitable content found on the clipboard,
if any, into the context.</p>
         <li data-md>
          <p>Queue tasks to fire any events that should fire due to
the modification, see <a href="#integration-with-other-scripts-and-events">§ 5.3 Integration with other scripts and events</a> for details.</p>
        </ol>
       <li data-md>
        <p>Else</p>
        <ol>
         <li data-md>
          <p>Return false</p>
        </ol>
      </ol>
     <li data-md>
      <p>Else, if the event was canceled</p>
      <ol>
       <li data-md>
        <p>Return false</p>
      </ol>
     <li data-md>
      <p>Return true from the action</p>
    </ol>
   </div>
   <h2 class="heading settled" data-level="9" id="clipboard-permissions"><span class="secno">9. </span><span class="content">Permissions API Integration</span><a class="self-link" href="#clipboard-permissions"></a></h2>
   <p>The <a data-link-type="biblio" href="#biblio-permissions" title="Permissions">[permissions]</a> API provides a uniform way for websites to access <a data-link-type="dfn" href="https://w3c.github.io/permissions/#dfn-powerful-feature" id="ref-for-dfn-powerful-feature①">powerful feature</a>s like the clipboard. It allows websites to request permissions
	from users and query which permissions they have.</p>
   <p>For the clipboard, one permission is defined: <dfn class="idl-code" data-dfn-for="PermissionName" data-dfn-type="enum-value" data-export id="dom-permissionname-clipboard-write"><code>"clipboard-write"</code><a class="self-link" href="#dom-permissionname-clipboard-write"></a></dfn></p>
   <p class="note" role="note"><span class="marker">Note:</span> Clipboard permissions currently only apply to the Async Clipboard API.
	Future versions of this specification may be updated to apply this permission
	to other Clipboard interactions.</p>
   <p>These clipboard permissions are <a data-link-type="dfn" href="https://w3c.github.io/permissions/#dfn-powerful-feature" id="ref-for-dfn-powerful-feature②">powerful feature</a>s
	permission-related algorithms and types are defined as follows:</p>
   <dl>
    <dt data-md><a data-link-type="dfn" href="https://w3c.github.io/permissions/#dfn-permission-descriptor-type" id="ref-for-dfn-permission-descriptor-type">permission descriptor type</a>
    <dd data-md>
<pre class="idl highlight def"><c- b>dictionary</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export id="dictdef-clipboardpermissiondescriptor"><code><c- g>ClipboardPermissionDescriptor</c-></code></dfn> : <a data-link-type="idl-name" href="https://w3c.github.io/permissions/#dom-permissiondescriptor" id="ref-for-dom-permissiondescriptor"><c- n>PermissionDescriptor</c-></a> {
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean" id="ref-for-idl-boolean①"><c- b>boolean</c-></a> <dfn class="idl-code" data-default="false" data-dfn-for="ClipboardPermissionDescriptor" data-dfn-type="dict-member" data-export data-type="boolean " id="dom-clipboardpermissiondescriptor-allowwithoutgesture"><code><c- g>allowWithoutGesture</c-></code><a class="self-link" href="#dom-clipboardpermissiondescriptor-allowwithoutgesture"></a></dfn> = <c- b>false</c->;
};
</pre>
   </dl>
   <p>There are 4 clipboard permissions:</p>
   <ul>
    <li data-md>
     <p>{ name: "clipboard-write", allowWithoutGesture: false }</p>
    <li data-md>
     <p>{ name: "clipboard-write", allowWithoutGesture: true }</p>
   </ul>
   <p>With the following relationships:</p>
   <ul>
    <li data-md>
     <p><code>{ "clipboard-write" + true }</code> is stronger than <code>{ "clipboard-write" + false }</code></p>
   </ul>
   <p>While user agents MUST support the <code class="idl"><a data-link-type="idl" href="#dictdef-clipboardpermissiondescriptor" id="ref-for-dictdef-clipboardpermissiondescriptor">ClipboardPermissionDescriptor</a></code> as described
	in this specification, they, of course, retain complete control over the default
	settings and how (or if) they are exposed to the user.</p>
   <div class="example" id="example-88786e0d">
    <a class="self-link" href="#example-88786e0d"></a> A user agent that wants to have separate user-settable write controls over the clipboard
		and always require a user gesture would handle each descriptor as follows: 
    <ul>
     <li data-md>
      <p><code class="perm">{ "clipboard-write" + false }</code> is exposed for user control</p>
     <li data-md>
      <p><code class="perm">{ "clipboard-write" + true }</code> is always <a data-link-type="dfn" href="https://w3c.github.io/permissions/#dom-permissionstate-denied" id="ref-for-dom-permissionstate-denied">denied</a></p>
    </ul>
   </div>
   <h3 class="heading settled" data-level="9.1" id="read-permission"><span class="secno">9.1. </span><span class="content">Clipboard read permission</span><a class="self-link" href="#read-permission"></a></h3>
   <div class="algorithm" data-algorithm="clipboard-read-permission">
    <h4 class="heading settled" data-level="9.1.1" id="h-clipboard-read-permission"><span class="secno">9.1.1. </span><span class="content"><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="check-clipboard-read-permission">check clipboard read permission</dfn></span><a class="self-link" href="#h-clipboard-read-permission"></a></h4>
    <ol>
     <li data-md>
      <p>Let <var>hasGesture</var> be true if the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global" id="ref-for-concept-relevant-global">relevant global object</a> of <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this①④">this</a> has <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/interaction.html#transient-activation" id="ref-for-transient-activation">transient activation</a>, false otherwise.</p>
     <li data-md>
      <p>If <var>hasGesture</var> then,</p>
      <ol>
       <li data-md>
        <p>Return true if the current script is running as a result of user
interaction with a "Paste" element created by the user agent or operating
system.</p>
      </ol>
     <li data-md>
      <p>Return false.</p>
    </ol>
   </div>
   <h3 class="heading settled" data-level="9.2" id="write-permission"><span class="secno">9.2. </span><span class="content">Clipboard write permission</span><a class="self-link" href="#write-permission"></a></h3>
   <div class="algorithm" data-algorithm="clipboard-write-permission">
    <h4 class="heading settled" data-level="9.2.1" id="h-clipboard-write-permission"><span class="secno">9.2.1. </span><span class="content"><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="check-clipboard-write-permission">check clipboard write permission</dfn></span><a class="self-link" href="#h-clipboard-write-permission"></a></h4>
    <ol>
     <li data-md>
      <p>Let <var>writeWithoutGesture</var> be the <a data-link-type="dfn" href="https://w3c.github.io/permissions/#dfn-permission-state" id="ref-for-dfn-permission-state">permission state</a> of the <code>{ name: "clipboard-write", allowWithoutGesture: true }</code> permission.</p>
     <li data-md>
      <p>If <var>writeWithoutGesture</var> is <a data-link-type="dfn" href="https://w3c.github.io/permissions/#dom-permissionstate-granted" id="ref-for-dom-permissionstate-granted">granted</a>, then return true.</p>
     <li data-md>
      <p>Let <var>hasGesture</var> be true if the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global" id="ref-for-concept-relevant-global①">relevant global object</a> of <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this①⑤">this</a> has <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/interaction.html#transient-activation" id="ref-for-transient-activation①">transient activation</a>, false otherwise.</p>
     <li data-md>
      <p>If <var>hasGesture</var> then,</p>
      <ol>
       <li data-md>
        <p>Let <var>systemCopy</var> be true if the current script is running as a result of user
interaction with a "cut" or "copy" element created by the user agent or operating
system.</p>
       <li data-md>
        <p>If <var>systemCopy</var> is true, then return true.</p>
       <li data-md>
        <p>Return the result of <a data-link-type="dfn" href="https://w3c.github.io/permissions/#dfn-request-permission-to-use" id="ref-for-dfn-request-permission-to-use">request permission to use</a> the <code>{ name: "clipboard-write", allowWithoutGesture: false }</code> permission.</p>
        <p class="note" role="note"><span class="marker">Note:</span> User agents may choose to request a stronger permission that
will implicitly update this permission.</p>
      </ol>
     <li data-md>
      <p>Return the result of <a data-link-type="dfn" href="https://w3c.github.io/permissions/#dfn-request-permission-to-use" id="ref-for-dfn-request-permission-to-use①">request permission to use</a> the <code>{ name: "clipboard-write", allowWithoutGesture: true }</code> permission.</p>
    </ol>
   </div>
   <h2 class="heading settled" data-level="10" id="security"><span class="secno">10. </span><span class="content">Security Considerations</span><a class="self-link" href="#security"></a></h2>
   <p>Enabling authors to change what is copied by a user, or to make an automated
	copy of something that was never selected and allowing unrestricted calls to
	paste information can raise various security concerns.</p>
   <p>Some example scenarios include:</p>
   <ul>
    <li data-md>
     <p>A user selects a link and copies it, but a different link is copied to the clipboard.
The effect of this can range from an unexpected result on pasting to an attempted
"phishing" attack.</p>
    <li data-md>
     <p>(Self-XSS) Shell commands or executable script can be placed in the clipboard with the
intent that the user will run the pasted content.</p>
    <li data-md>
     <p>An image that is specially crafted to exploit bugs in the core OS image handling
code can be written to the clipboard.</p>
   </ul>
   <h3 class="heading settled" data-level="10.1" id="pasting-html"><span class="secno">10.1. </span><span class="content">Pasting HTML and multi-part data</span><a class="self-link" href="#pasting-html"></a></h3>
   <p><em>This section is non-normative.</em></p>
   <p>There are certain security risks associated with pasting formatted or
		multi-part data.</p>
   <ul>
    <li data-md>
     <p>The user might paste hidden data without realising it is there. This may
happen if, for example, the markup includes
&lt;input type="hidden"> tags or HTML comments. Such hidden data
might contain sensitive information.</p>
    <li data-md>
     <p>The user might paste malicious JavaScript into a trusted page.</p>
    <li data-md>
     <p>The implementation might grant scripts access to local files the user
did not intend to expose.</p>
   </ul>
   <p>To determine what policies to use, the factors we consider are:</p>
   <ul>
    <li data-md>
     <p>The origin of the data being pasted</p>
    <li data-md>
     <p>The origin of data sub-parts such as referenced images</p>
    <li data-md>
     <p>The origin of the running script</p>
   </ul>
   <p>This is an overview of the scenarios and the possible security policies:</p>
   <table class="simple">
    <tbody>
     <tr>
      <th>Origin of data
      <th>Origin of script
      <th>Rules
     <tr>
      <td rowspan="2">Originates from online source
      <td>Same as data
      <td>Do not sanitize HTML. Do not access any local files.
     <tr>
      <td>Different origin
      <td>Optionally sanitize content. Do not access any local files.
     <tr>
      <td>Originates from local application
      <td>Any
      <td>Do not sanitize HTML. Grant access to local files
   </table>
   <p>Some implementations mitigate the risks associated with pasting rich
		text by stripping potentially malicious content such as SCRIPT elements
		and javascript: links by default when pasting rich text, but allow a
		paste event handler to retrieve and process the original, un-sanitized
		data.</p>
   <h3 class="heading settled" data-level="10.2" id="general-security-policies"><span class="secno">10.2. </span><span class="content">General security policies</span><a class="self-link" href="#general-security-policies"></a></h3>
   <p>The implementation <em>must not</em> download referenced online
		resources, or expose their contents in the <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/dnd.html#dom-datatransfer-files" id="ref-for-dom-datatransfer-files①">files</a></code> list
		or <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/dnd.html#datatransferitemlist" id="ref-for-datatransferitemlist③">DataTransferItemList</a></code>.</p>
   <p>If the data on the clipboard is not from a local application, the
		implementation <em>must not</em> give access to any referenced local
		files. For example, if the data contains
		&lt;img src="file://localhost/example.jpg">
		but the data’s origin is an online resource, the implementation must not
		add an entry for example.jpg to the clipboardData.items list.</p>
   <h3 class="heading settled" data-level="10.3" id="image-transcode"><span class="secno">10.3. </span><span class="content">Transcoding images</span><a class="self-link" href="#image-transcode"></a></h3>
   <p>To prevent malicious image data from being placed on the clipboard, the image
		data may be transcoded to produce a safe version of the image. This prevents websites
		from trying to exploit security vulnerabilities in other applications.</p>
   <p>Implementations should not transcode images being read from the clipboard.
		Transcoding images can lose important metadata (such as the physical resolution
		of an image).
		This is also consistent with other methods in which images can be shared
		with a website (such as `&lt;input type=file>`).</p>
   <h3 class="heading settled" data-level="10.4" id="nuisances"><span class="secno">10.4. </span><span class="content">Nuisance considerations</span><a class="self-link" href="#nuisances"></a></h3>
   <p>Scripts may use the <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/dnd.html#datatransfer" id="ref-for-datatransfer⑥">DataTransfer</a></code> API to annoy and confuse users by
		altering the data on the system clipboard from copy and cut events. This
		specification does not attempt to prevent such nuisances, though
		implementations may add additional restrictions.</p>
   <p>Implementations must handle scripts that try to place excessive amounts
		of data on the clipboard gracefully.</p>
   <h2 class="heading settled" data-level="11" id="privacy"><span class="secno">11. </span><span class="content">Privacy Considerations</span><a class="self-link" href="#privacy"></a></h2>
   <p>Because these APIs provide access to the user’s clipboard data, there are serious
	privacy concerns due to the possibility that the clipboard will contain
	personally-identifiable information (PII) like names, addresses, or passwords.</p>
   <p>In general, user agents <em>must</em> ensure that untrusted scripts do not get
	uncontrolled access to a user’s clipboard data through these APIs.</p>
   <h3 class="heading settled" data-level="11.1" id="privacy-events"><span class="secno">11.1. </span><span class="content">Privacy and the Clipboard Event API</span><a class="self-link" href="#privacy-events"></a></h3>
   <p>The Clipboard Event API allows scripts running in the context of a clipboard
		event handler to access a copy of the system clipboard and potentially modify
		the data being written to the clipboard.</p>
   <p>User agents should be aware of the following requirements with regards to
		securing the data accessed by the Clipboard Event API:</p>
   <ul>
    <li data-md>
     <p>Objects implementing the <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/dnd.html#datatransfer" id="ref-for-datatransfer⑦">DataTransfer</a></code> interface to return
clipboard data <em>must not</em> be available outside the
ClipboardEvent event handler that the data is provided to.</p>
    <li data-md>
     <p>If a script stores a reference to an object implementing the <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/dnd.html#datatransfer" id="ref-for-datatransfer⑧">DataTransfer</a></code> interface to use from outside the ClipboardEvent
event handler, all methods <em>must</em> be no-ops when called
outside the expected context.</p>
    <li data-md>
     <p>Implementations <em>must not</em> let scripts create synthetic
clipboard events to get access to real clipboard data (unless the user
has configured it to do so).</p>
   </ul>
   <p>Even though the Clipboard Event API is not covered by the Clipboard permission,
		user agents may choose to provide a method for the user to disable this API or
		to configure which sites are allowed to access it.</p>
   <h3 class="heading settled" data-level="11.2" id="privacy-async"><span class="secno">11.2. </span><span class="content">Privacy and the Asychronous Clipboard API</span><a class="self-link" href="#privacy-async"></a></h3>
   <p>The Asynchronous Clipboard API is a powerful feature because it can allow access
		to the clipboard data from any script (access is not restricted to Clipboard Event
		handlers) and data can be accessed in the absence of a user provided gesture.</p>
   <p>To help prevent abuse, this API <em>must not</em> be available unless the script
		is executing in the context of a document that <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/interaction.html#has-focus-steps" id="ref-for-has-focus-steps">has focus</a>.</p>
   <h4 class="heading settled" data-level="11.2.1" id="privacy-permission"><span class="secno">11.2.1. </span><span class="content">Privacy and Clipboard Permission</span><a class="self-link" href="#privacy-permission"></a></h4>
   <p>The Clipboard Permission gates access to this API, but user agents get to choose
			the permission defaults and which of these permission settings can be set by the
			user. For example, a user agent may choose to only allow access to the
			Asynchronous Clipboard API when a user gesture is present and always deny script
			requests for access without a gesture.</p>
   <p>User agents may opt to have this permission automatically expire sometime after
			the user grants permission, for example, by having the permission expire:</p>
   <ul>
    <li data-md>
     <p>After a set time from when the permission was first granted</p>
    <li data-md>
     <p>After a set time from the user’s last visit to a site</p>
    <li data-md>
     <p>When the user navigates away from the page</p>
   </ul>
   <h3 class="heading settled" data-level="11.3" id="privacy-other"><span class="secno">11.3. </span><span class="content">Other Privacy Concerns</span><a class="self-link" href="#privacy-other"></a></h3>
   <p>If the user agent allows clipboard data to be read using <code>document.execCommand("paste")</code> then the user agent <em>must</em> ensure that the user has explicitly allowed that access to take place.</p>
   <h2 class="heading settled" data-level="12" id="acknowledge"><span class="secno">12. </span><span class="content">Acknowledgements</span><a class="self-link" href="#acknowledge"></a></h2>
   <p><em>This section is non-normative</em></p>
   <p>The editors would like to acknowledge the contributions of the former
	editors who helped shepherd this specification through various
	meetings and mailing-list discussions to bring it to its current state.</p>
   <ul>
    <li data-md>
     <p>Hallvord R. M. Steen</p>
   </ul>
   <p>The editors would also like to acknowledge their intellectual debt to the
	documentation of Data Transfer functionalities from Microsoft <a data-link-type="biblio" href="#biblio-microsoft-clip-op" title="About DHTML Data Transfer. Microsoft Developer Network.">[MICROSOFT-CLIP-OP]</a> and earlier drafts of the <a data-link-type="biblio" href="#biblio-html5" title="HTML5">[HTML5]</a> specification.
	We are also grateful for the draft "safe copy and paste" from Paul Libbrecht
	(this draft is no longer available on the Web).</p>
   <p>And finally, we would like to acknowledge the contributions made by the following:</p>
   <p>Adam Barth,
	Shawn Carnell,
	Daniel Cheng,
	Daniel Dardailler,
	Domenic Denicola,
	Al Gilman,
	James Graham,
	James Greene,
	Ian Hickson,
	Darwin Huang,
	Lachlan Hunt,
	Philip Jägenstedt,
	Anne van Kesteren,
	Marijn Kruisselbrink,
	Aaron Leventhal,
	Jim Ley,
	Paul Libbrecht,
	"Martijn",
	Glenn Maynard,
	Chris Mills,
	ms2ger,
	Ryosuke Niwa,
	Robert O’Callahan,
	Dave Poehlman,
	"ROBO Design",
	Janina Sajka,
	Rich Schwerdtfeger,
	Jonas Sicking,
	Maciej Stachowiak,
	Mihai Sucan,
	Dmitry Titov,
	Ojan Vafai,
	Tarquin Wilton-Jones,
	Tom Wlodkowski,
	Bo Cupp,
	mbrodesser
	and Boris Zbarsky.</p>
   <h2 class="heading settled" id="algorithms"><span class="content">Appendix A: Algorithms</span><a class="self-link" href="#algorithms"></a></h2>
   <div class="algorithm" data-algorithm="write-content-to-clipboard">
    <h3 class="heading settled" id="to-write-content-to-clipboard"><span class="content"><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="write-content-to-the-clipboard">write content to the clipboard</dfn></span><a class="self-link" href="#to-write-content-to-clipboard"></a></h3>
    <dl>
     <dt data-md>Input
     <dd data-md>
      <p><var>items</var>, a <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/dnd.html#datatransferitemlist" id="ref-for-datatransferitemlist④">DataTransferItemList</a></code> list of items to write</p>
     <dd data-md>
      <p><var>clear-was-called</var>, a boolean</p>
     <dd data-md>
      <p><var>types-to-clear</var>, a list</p>
     <dt data-md>Output
     <dd data-md>
      <p>None</p>
    </dl>
    <ol>
     <li data-md>
      <p>If the <var>items</var> list is not empty, then</p>
      <ol>
       <li data-md>
        <p>Clear the clipboard</p>
       <li data-md>
        <p>For each part in the list,</p>
        <ol>
         <li data-md>
          <p>If data type is <i>text/plain</i>, then</p>
          <ol>
           <li data-md>
            <p>Ensure encoding is correct per OS and locale conventions</p>
           <li data-md>
            <p>Normalize line endings according to platform conventions</p>
           <li data-md>
            <p>Place text on clipboard with the appropriate OS clipboard
format description</p>
          </ol>
         <li data-md>
          <p>Else, if data is of a type listed in the <a data-link-type="dfn" href="#mandatory-data-types" id="ref-for-mandatory-data-types④">mandatory data types</a> list, then</p>
          <ol>
           <li data-md>
            <p>Place part on clipboard with the appropriate OS clipboard
format description</p>
          </ol>
         <li data-md>
          <p>Else</p>
          <ol>
           <li data-md>
            <p>This is left to the implementation...</p>
            <p class="issue" id="issue-77e1973e"><a class="self-link" href="#issue-77e1973e"></a> It’s not good to leave things up to the
implementation. What should happen here?</p>
            <p class="note" role="note"><span class="marker">Note:</span> Due to limitations in the implementation of operating
system clipboards, scripts should not assume that custom
formats will be available to other applications on the
system. For example, there is a limit to how many custom
clipboard formats can be registered in Microsoft Windows.
While it is possible to use any string for <a data-link-type="functionish" href="https://html.spec.whatwg.org/multipage/dnd.html#dom-datatransfer-setdata" id="ref-for-dom-datatransfer-setdata①">setData()</a>’s type argument, sticking to the <a data-link-type="dfn" href="#mandatory-data-types" id="ref-for-mandatory-data-types⑤">mandatory data types</a> is strongly recommended.</p>
          </ol>
        </ol>
      </ol>
     <li data-md>
      <p>Else, the <var>items</var> list is empty. Follow these steps to determine
whether to clear the clipboard:</p>
      <ol>
       <li data-md>
        <p>If the list of items is empty and the <var>clear-was-called</var> flag is <i>true</i>, then</p>
        <ol>
         <li data-md>
          <p>If the <var>types-to-clear</var> list is empty, then</p>
          <ol>
           <li data-md>
            <p>Clear the clipboard</p>
          </ol>
         <li data-md>
          <p>Else</p>
          <ol>
           <li data-md>
            <p>Remove types in the <var>types-to-clear</var> list from the
clipboard in an operating system and implementation-specific
way</p>
            <p class="issue" id="issue-0a3703dc"><a class="self-link" href="#issue-0a3703dc"></a> The "remove specific types from clipboard" feature is
at risk. It doesn’t seem all that important, and it’s
unclear if it can be implemented easily across relevant
platforms.</p>
          </ol>
        </ol>
      </ol>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="write-blobs-to-clipboard">
    <h3 class="heading settled" id="to-write-blobs-to-clipboard"><span class="content"><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="write-blobs-and-option-to-the-clipboard">write blobs and option to the clipboard</dfn></span><a class="self-link" href="#to-write-blobs-to-clipboard"></a></h3>
    <dl>
     <dt data-md>Input
     <dd data-md>
      <p><var>items</var>, a <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence" id="ref-for-idl-sequence⑦">sequence</a>&lt;<code class="idl"><a data-link-type="idl" href="https://w3c.github.io/FileAPI/#dfn-Blob" id="ref-for-dfn-Blob①②">Blob</a></code>></p>
     <dd data-md>
      <p><var>presentationStyle</var>, a <a data-link-type="dfn" href="#clipboarditem-clipboard-item" id="ref-for-clipboarditem-clipboard-item⑧">clipboard item</a>'s <a data-link-type="dfn" href="#presentation-style" id="ref-for-presentation-style③">presentation style</a></p>
     <dt data-md>Output
     <dd data-md>
      <p>None</p>
    </dl>
    <ol>
     <li data-md>
      <p>Let <var>webCustomFormats</var> be a <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence" id="ref-for-idl-sequence⑧">sequence</a>&lt;<code class="idl"><a data-link-type="idl" href="https://w3c.github.io/FileAPI/#dfn-Blob" id="ref-for-dfn-Blob①③">Blob</a></code>>.</p>
     <li data-md>
      <p>For each <var>item</var> in <var>items</var>:</p>
      <ol>
       <li data-md>
        <p>Let <var>formatString</var> be the result of running <a data-link-type="dfn" href="#os-specific-well-known-format" id="ref-for-os-specific-well-known-format">os specific well-known format</a> given <var>item</var>’s <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/FileAPI/#dfn-type" id="ref-for-dfn-type④">type</a></code>.</p>
       <li data-md>
        <p>If <var>formatString</var> is empty then follow the below steps:</p>
        <ol>
         <li data-md>
          <p>Let <var>webCustomFormatString</var> be the <var>item</var>’s <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/FileAPI/#dfn-type" id="ref-for-dfn-type⑤">type</a></code>.</p>
         <li data-md>
          <p>Let <var>webCustomFormat</var> be an empty <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/FileAPI/#dfn-type" id="ref-for-dfn-type⑥">type</a></code>.</p>
         <li data-md>
          <p>If <var>webCustomFormatString</var> has "web "("web" followed by U+0020 SPACE) prefix, then remove the "web " prefix and store the remaining string in <var>webCustomFormat</var>’s <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/FileAPI/#dfn-type" id="ref-for-dfn-type⑦">type</a></code>'s <a data-link-type="dfn" href="https://mimesniff.spec.whatwg.org/#mime-type-essence" id="ref-for-mime-type-essence①">essence</a>, else abort all steps.</p>
         <li data-md>
          <p>Set <var>item</var>’s <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/FileAPI/#dfn-type" id="ref-for-dfn-type⑧">type</a></code> to <var>webCustomFormat</var>.</p>
         <li data-md>
          <p>Append <var>webCustomFormat</var> to <var>webCustomFormats</var>.</p>
        </ol>
       <li data-md>
        <p>Let <var>payload</var> be the result of <a data-link-type="dfn" href="https://encoding.spec.whatwg.org/#utf-8-decode" id="ref-for-utf-8-decode①">UTF-8 decoding</a> <var>item</var>’s underlying byte sequence.</p>
       <li data-md>
        <p>Insert <var>payload</var> and <var>presentationStyle</var> into the <a data-link-type="dfn" href="#system-clipboard" id="ref-for-system-clipboard①⑥">system clipboard</a> using <var>formatString</var> as the native clipboard format.</p>
      </ol>
      <p class="issue" id="issue-3887584b"><a class="self-link" href="#issue-3887584b"></a> some OSs contain multiple clipboard (e.g. Linux, "primary", "secondary", "selection"). Define to which of those data is written.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="#write-web-custom-formats" id="ref-for-write-web-custom-formats">Write web custom formats</a> given <var>webCustomFormats</var>.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="os-specific-well-known-format">
    <h3 class="heading settled" id="to-os-specific-well-known-format"><span class="content"><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="os-specific-well-known-format">os specific well-known format</dfn></span><a class="self-link" href="#to-os-specific-well-known-format"></a></h3>
    <dl>
     <dt data-md>Input
     <dd data-md>
      <p><var>mimeType</var>, a <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/FileAPI/#dfn-type" id="ref-for-dfn-type⑨">type</a></code></p>
     <dt data-md>Output
     <dd data-md>
      <p><var>wellKnownFormat</var>, a platform specific string type. On Mac it’s NSPasteboardType, on Windows it’s LPCWSTR and Linux it’s a const char*.</p>
    </dl>
    <p class="note" role="note"> For Windows see https://docs.microsoft.com/en-us/windows/win32/dataxchg/standard-clipboard-formats and
		https://docs.microsoft.com/en-us/windows/win32/dataxchg/about-atom-tables?redirectedfrom=MSDN
		For Mac see https://developer.apple.com/documentation/appkit/nspasteboardtype </p>
    <ol>
     <li data-md>
      <p>Let <var>wellKnownFormat</var> be an empty string.</p>
     <li data-md>
      <p>If <var>mimeType</var>’s <a data-link-type="dfn" href="https://mimesniff.spec.whatwg.org/#mime-type-essence" id="ref-for-mime-type-essence②">essence</a> is "text/plain", then</p>
      <p>On Windows, follow the convention described below:</p>
      <ol>
       <li data-md>
        <p>Assign CF_UNICODETEXT to <var>wellKnownFormat</var>.</p>
      </ol>
      <p>On MacOS, follow the convention described below:</p>
      <ol>
       <li data-md>
        <p>Assign NSPasteboardTypeString to <var>wellKnownFormat</var>.</p>
      </ol>
      <p>On Linux, ChromeOS, and Android, follow the convention described below:</p>
      <ol>
       <li data-md>
        <p>Assign "text/plain" to <var>wellKnownFormat</var>.</p>
      </ol>
     <li data-md>
      <p>Else, if <var>mimeType</var>’s <a data-link-type="dfn" href="https://mimesniff.spec.whatwg.org/#mime-type-essence" id="ref-for-mime-type-essence③">essence</a> is "text/html", then</p>
      <p>On Windows, follow the convention described below:</p>
      <ol>
       <li data-md>
        <p>Assign CF_HTML to <var>wellKnownFormat</var>.</p>
      </ol>
      <p>On MacOS, follow the convention described below:</p>
      <ol>
       <li data-md>
        <p>Assign NSHTMLPboardType to <var>wellKnownFormat</var>.</p>
      </ol>
      <p>On Linux, ChromeOS, and Android, follow the convention described below:</p>
      <ol>
       <li data-md>
        <p>Assign "text/html" to <var>wellKnownFormat</var>.</p>
      </ol>
     <li data-md>
      <p>Else, if <var>mimeType</var>’s <a data-link-type="dfn" href="https://mimesniff.spec.whatwg.org/#mime-type-essence" id="ref-for-mime-type-essence④">essence</a> is "image/png", then</p>
      <p>On Windows, follow the convention described below:</p>
      <ol>
       <li data-md>
        <p>Assign "PNG" to <var>wellKnownFormat</var>.</p>
      </ol>
      <p>On MacOS, follow the convention described below:</p>
      <ol>
       <li data-md>
        <p>Assign NSPasteboardTypePNG to <var>wellKnownFormat</var>.</p>
      </ol>
      <p>On Linux, ChromeOS, and Android, follow the convention described below:</p>
      <ol>
       <li data-md>
        <p>Assign "image/png" to <var>wellKnownFormat</var>.</p>
      </ol>
     <li data-md>
      <p>Return <var>wellKnownFormat</var>.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="well-known-mime-type-from-os-specific-format">
    <h3 class="heading settled" id="to-well-known-mime-type-from-os-specific-format"><span class="content"><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="well-known-mime-type-from-os-specific-format">well-known mime type from os specific format</dfn></span><a class="self-link" href="#to-well-known-mime-type-from-os-specific-format"></a></h3>
    <dl>
     <dt data-md>Input
     <dd data-md>
      <p><var>osFormatName</var>, a platform specific string type. On Mac it’s NSPasteboardType, on Windows it’s LPCWSTR and Linux it’s a const char*.</p>
     <dt data-md>Output
     <dd data-md>
      <p><var>mimeType</var>, a <a data-link-type="dfn" href="https://mimesniff.spec.whatwg.org/#mime-type" id="ref-for-mime-type③">MIME type</a></p>
    </dl>
    <p class="note" role="note"> For Windows see https://docs.microsoft.com/en-us/windows/win32/dataxchg/standard-clipboard-formats and
		https://docs.microsoft.com/en-us/windows/win32/dataxchg/about-atom-tables?redirectedfrom=MSDN
		For Mac see https://developer.apple.com/documentation/appkit/nspasteboardtype </p>
    <p>On Windows, follow the convention described below:</p>
    <ol>
     <li data-md>
      <p>If <var>osFormatName</var> "UnicodeText", then set <var>mimeTypeString</var> to "text/plain".</p>
     <li data-md>
      <p>Else, if <var>osFormatName</var> "HTML Format", then set <var>mimeTypeString</var> to "text/html".</p>
     <li data-md>
      <p>Else, if <var>osFormatName</var> "PNG", then set <var>mimeTypeString</var> to "image/png".</p>
    </ol>
    <p>On MacOS, follow the convention described below:</p>
    <ol>
     <li data-md>
      <p>If <var>osFormatName</var> is NSPasteboardTypeString, then set <var>mimeTypeString</var> to "text/plain".</p>
     <li data-md>
      <p>Else, if <var>osFormatName</var> is NSHTMLPboardType, then set <var>mimeTypeString</var> to "text/html".</p>
     <li data-md>
      <p>Else, if <var>osFormatName</var> NSPasteboardTypePNG, then set <var>mimeTypeString</var> to "image/png".</p>
    </ol>
    <p>On Linux, ChromeOS, and Android, follow the convention described below:</p>
    <ol>
     <li data-md>
      <p>If <var>osFormatName</var> is "text/plain", then set <var>mimeTypeString</var> to "text/plain".</p>
     <li data-md>
      <p>Else, if <var>osFormatName</var> "text/html", then set <var>mimeTypeString</var> to "text/html".</p>
     <li data-md>
      <p>Else, if <var>osFormatName</var> "image/png", then set <var>mimeTypeString</var> to "image/png".</p>
    </ol>
    <ol>
     <li data-md>
      <p>Let <var>mimeType</var> be the result of <a data-link-type="dfn" href="https://mimesniff.spec.whatwg.org/#parse-a-mime-type" id="ref-for-parse-a-mime-type②">parsing a MIME type</a> given <var>mimeTypeString</var>.</p>
     <li data-md>
      <p>Return <var>mimeType</var>.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="read-web-custom-format">
    <h3 class="heading settled" id="to-read-web-custom-format"><span class="content"><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="read-web-custom-format">read web custom format</dfn></span><a class="self-link" href="#to-read-web-custom-format"></a></h3>
    <dl>
     <dt data-md>Input
     <dd data-md>
      <p><var>item</var>, a <a data-link-type="dfn" href="#clipboard-item" id="ref-for-clipboard-item②⑧">clipboard item</a></p>
    </dl>
    <ol>
     <li data-md>
      <p>Let <var>webCustomFormatMap</var> be the <a data-link-type="dfn" href="#os-specific-custom-map-name" id="ref-for-os-specific-custom-map-name">os specific custom map name</a>.</p>
     <li data-md>
      <p>Read <var>webCustomFormatMap</var> from the <a data-link-type="dfn" href="#system-clipboard" id="ref-for-system-clipboard①⑦">system clipboard</a>.</p>
      <p class="issue" id="issue-97db4b5a"><a class="self-link" href="#issue-97db4b5a"></a> specify in more detail the process of reading a <var>webCustomFormatMap</var>.</p>
     <li data-md>
      <p>If <var>webCustomFormatMap</var> is empty, then return <var>item</var>.</p>
     <li data-md>
      <p>Let <var>webCustomFormatMapString</var> be the JSON string deserialized from <var>webCustomFormatMap</var>.</p>
      <p class="note" role="note"><span class="marker">Note:</span> Need a JSON reader to deserialize the content from the <var>webCustomFormatMap</var>.</p>
     <li data-md>
      <p>For each (<var>key</var>, <var>value</var>) in <var>webCustomFormatMapString</var>:</p>
      <ol>
       <li data-md>
        <p>Let <var>mimeType</var> be the result of <a data-link-type="dfn" href="https://mimesniff.spec.whatwg.org/#parse-a-mime-type" id="ref-for-parse-a-mime-type③">parsing a MIME type</a> given <var>key</var>.</p>
       <li data-md>
        <p>If <var>mimeType</var> is failure, then continue the loop.</p>
       <li data-md>
        <p>Let <var>representation</var> be a new <a data-link-type="dfn" href="#representation" id="ref-for-representation⑧">representation</a>.</p>
       <li data-md>
        <p>Set <var>representation</var>’s <a data-link-type="dfn" href="#representation-mime-type" id="ref-for-representation-mime-type①②">MIME type</a> to <var>mimeType</var>.</p>
       <li data-md>
        <p>Set <var>representation</var>’s <a data-link-type="dfn" href="#representation-iscustom" id="ref-for-representation-iscustom③">isCustom</a> flag to <var>true</var>.</p>
       <li data-md>
        <p>Read <var>webCustomFormat</var> from the <a data-link-type="dfn" href="#system-clipboard" id="ref-for-system-clipboard①⑧">system clipboard</a> given <var>value</var>.</p>
       <li data-md>
        <p>If the read is successful, then set <var>representation</var>’s <a data-link-type="dfn" href="#representation-data" id="ref-for-representation-data⑥">data</a> to the resulting data from the <a data-link-type="dfn" href="#system-clipboard" id="ref-for-system-clipboard①⑨">system clipboard</a>, else continue the loop.</p>
       <li data-md>
        <p>Append <var>representation</var> to <var>item</var>’s <a data-link-type="dfn" href="#list-of-representations" id="ref-for-list-of-representations⑧">list of representations</a>.</p>
      </ol>
    </ol>
   </div>
   <h3 class="heading settled" id="to-write-web-custom-formats"><span class="content"><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="write-web-custom-formats">write web custom formats</dfn></span><a class="self-link" href="#to-write-web-custom-formats"></a></h3>
   <dl>
    <dt data-md>Input
    <dd data-md>
     <p><var>items</var>,  a <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence" id="ref-for-idl-sequence⑨">sequence</a>&lt;<code class="idl"><a data-link-type="idl" href="https://w3c.github.io/FileAPI/#dfn-Blob" id="ref-for-dfn-Blob①④">Blob</a></code>></p>
   </dl>
   <ol>
    <li data-md>
     <p>Let <var>idx</var> be a number initialized to 0.</p>
    <li data-md>
     <p>Let <var>webCustomFormatMap</var> be the <a data-link-type="dfn" href="#os-specific-custom-map-name" id="ref-for-os-specific-custom-map-name①">os specific custom map name</a>.</p>
    <li data-md>
     <p>Let <var>webCustomFormatMapString</var> be an empty JSON string.</p>
    <li data-md>
     <p>For each <var>item</var> in <var>items</var>:</p>
     <ol>
      <li data-md>
       <p>Let <var>webCustomFormat</var> be the <a data-link-type="dfn" href="#os-specific-custom-name" id="ref-for-os-specific-custom-name">os specific custom name</a>.</p>
      <li data-md>
       <p>Let <var>webCustomFormatIdx</var> be the result of appending <var>idx</var> to <var>webCustomFormat</var>.</p>
      <li data-md>
       <p>Insert <var>item</var>’s <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/FileAPI/#dfn-type" id="ref-for-dfn-type①⓪">type</a></code> as key and <var>webCustomFormatIdx</var> as value into the <var>webCustomFormatMapString</var> using a JSON serializer.</p>
       <p class="note" role="note"><span class="marker">Note:</span> Need a JSON writer to serialize the content into the <var>webCustomFormatMapString</var>.</p>
      <li data-md>
       <p>Insert the <var>item</var> into the <a data-link-type="dfn" href="#system-clipboard" id="ref-for-system-clipboard②⓪">system clipboard</a> using <var>webCustomFormatIdx</var> as the format.</p>
      <li data-md>
       <p>Increment <var>idx</var>.</p>
      <li data-md>
       <p>If <var>idx</var> is greater than 100, then break from this loop.</p>
     </ol>
    <li data-md>
     <p>Insert the <var>webCustomFormatMapString</var> into the <a data-link-type="dfn" href="#system-clipboard" id="ref-for-system-clipboard②①">system clipboard</a> using <var>webCustomFormatMap</var> as the format.</p>
   </ol>
   <div class="algorithm" data-algorithm="os-specific-custom-map-name">
    <h3 class="heading settled" id="to-os-specific-custom-map-name"><span class="content"><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="os-specific-custom-map-name">os specific custom map name</dfn></span><a class="self-link" href="#to-os-specific-custom-map-name"></a></h3>
    <dl>
     <dt data-md>Output
     <dd data-md>
      <p><var>webCustomFormatMap</var>, a string</p>
    </dl>
    <p>On Windows, follow the convention described below:</p>
    <ol>
     <li data-md>
      <p>Assign "Web Custom Format Map" to <var>webCustomFormatMap</var>.</p>
     <li data-md>
      <p>Return <var>webCustomFormatMap</var>.</p>
    </ol>
    <p>On MacOS, follow the convention described below:</p>
    <ol>
     <li data-md>
      <p>Assign "com.web.custom.format.map" to <var>webCustomFormatMap</var>.</p>
     <li data-md>
      <p>Return <var>webCustomFormatMap</var>.</p>
    </ol>
    <p>On Linux, ChromeOS, and Android, follow the convention described below:</p>
    <ol>
     <li data-md>
      <p>Assign "application/web;type=\"custom/formatmap\"" to <var>webCustomFormatMap</var>.</p>
     <li data-md>
      <p>Return <var>webCustomFormatMap</var>.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="os-specific-custom-name">
    <h3 class="heading settled" id="to-os-specific-custom-name"><span class="content"><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="os-specific-custom-name">os specific custom name</dfn></span><a class="self-link" href="#to-os-specific-custom-name"></a></h3>
    <dl>
     <dt data-md>Output
     <dd data-md>
      <p><var>webCustomFormat</var>, a string</p>
    </dl>
    <p>On Windows, follow the convention described below:</p>
    <ol>
     <li data-md>
      <p>Assign "Web Custom Format" to <var>webCustomFormat</var>.</p>
     <li data-md>
      <p>Return <var>webCustomFormat</var>.</p>
    </ol>
    <p>On MacOS, follow the convention described below:</p>
    <ol>
     <li data-md>
      <p>Assign "com.web.custom.format" to <var>webCustomFormat</var>.</p>
     <li data-md>
      <p>Return <var>webCustomFormat</var>.</p>
    </ol>
    <p>On Linux, ChromeOS, and Android, follow the convention described below:</p>
    <ol>
     <li data-md>
      <p>Assign "application/web;type="custom/format" to <var>webCustomFormat</var>.</p>
     <li data-md>
      <p>Return <var>webCustomFormat</var>.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="algo-fire-a-clipboard-event">
    <h3 class="heading settled" id="to-fire-a-clipboard-event"><span class="content"><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="fire-a-clipboard-event">fire a clipboard event</dfn></span><a class="self-link" href="#to-fire-a-clipboard-event"></a></h3>
    <dl>
     <dt data-md>Input
     <dd data-md>
      <p><var>e</var>, the <code class="idl"><a data-link-type="idl" href="#clipboardevent" id="ref-for-clipboardevent④">ClipboardEvent</a></code> to fire</p>
     <dt data-md>Output
     <dd data-md>
      <p>None</p>
    </dl>
    <ol>
     <li data-md>
      <p>Let <var>clear-was-called</var> be <em>false</em></p>
     <li data-md>
      <p>Let <var>types-to-clear</var> be an empty list</p>
     <li data-md>
      <p>Let <var>clipboard-event-data</var> be a new <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/dnd.html#datatransfer" id="ref-for-datatransfer⑨">DataTransfer</a></code> object with an empty <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/dnd.html#dom-datatransfer-items" id="ref-for-dom-datatransfer-items②">items</a></code> list.</p>
     <li data-md>
      <p>Let <var>clipboard-entry</var> be the sequence number of the current
clipboard content, or null if the OS clipboard does not support
sequence numbers</p>
     <li data-md>
      <p>Let <var>trusted</var> be <em>true</em> if the event is generated by the
user agent, <em>false</em> otherwise</p>
     <li data-md>
      <p>Let <var>target</var> be set as follows:</p>
      <ol>
       <li data-md>
        <p>If the context is editable, then</p>
        <ol>
         <li data-md>
          <p>Set <var>target</var> to be the element that contains the
start of the visible selection or cursor in document order,
or <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/dom.html#the-body-element-2" id="ref-for-the-body-element-2">the body element</a> if there is no visible selection or cursor.</p>
        </ol>
       <li data-md>
        <p>Else, if the context is not editable, then</p>
        <ol>
         <li data-md>
          <p>Set <var>target</var> to the focused node, or <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/dom.html#the-body-element-2" id="ref-for-the-body-element-2①">the body element</a> if no node
has focus.</p>
        </ol>
      </ol>
     <li data-md>
      <p>Process the event as follows:</p>
      <ol>
       <li data-md>
        <p>If <var>e</var> is "paste", then</p>
        <ol>
         <li data-md>
          <p>Set the <var>clipboard-event-data</var>’s
internal <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/interaction.html#drag-data-store-mode" id="ref-for-drag-data-store-mode①">drag data store mode</a> flag to <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/interaction.html#concept-dnd-ro" id="ref-for-concept-dnd-ro①">read-only</a>.</p>
         <li data-md>
          <p>If <var>trusted</var> is <em>true</em>, or the
implementation is configured to give script-generated events
read access to the OS clipboard</p>
          <ol>
           <li data-md>
            <p>For each <var>clipboard-part</var> on the OS clipboard, carry out these steps:</p>
            <ol>
             <li data-md>
              <p>If <var>clipboard-part</var> contains plain text, then</p>
              <ol>
               <li data-md>
                <p>Ensure the text is in the encoding the
scripting engine uses internally</p>
               <li data-md>
                <p>Let <var>new-data</var> be a new <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/dnd.html#datatransferitem" id="ref-for-datatransferitem">DataTransferItem</a></code> with <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/interaction.html#drag-data-item-kind" id="ref-for-drag-data-item-kind">drag data item kind</a> set to <em>string</em> and <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/interaction.html#drag-data-item-type-string" id="ref-for-drag-data-item-type-string">drag data item type string</a> set to <em>text/plain</em>.</p>
               <li data-md>
                <p>Set <var>new-data</var>’s data to the plain text.</p>
               <li data-md>
                <p>Add <var>new-data</var> to <var>clipboard-event-data</var>’s <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/dnd.html#dom-datatransfer-items" id="ref-for-dom-datatransfer-items③">items</a></code></p>
              </ol>
             <li data-md>
              <p>If <var>clipboard-part</var> represents file
references, then for each file reference:</p>
              <ol>
               <li data-md>
                <p>Determine MIME type of referenced file</p>
               <li data-md>
                <p>Let <var>new-data</var> be a new <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/dnd.html#datatransferitem" id="ref-for-datatransferitem①">DataTransferItem</a></code> with <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/interaction.html#drag-data-item-kind" id="ref-for-drag-data-item-kind①">drag data item kind</a> set to <em>file</em> and <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/interaction.html#drag-data-item-type-string" id="ref-for-drag-data-item-type-string①">drag data item type string</a> set to the
corresponding MIME type, or <code>application/octet-stream</code> if the
file’s type is unknown.</p>
               <li data-md>
                <p>Set <var>new-data</var>’s data to the file reference data.</p>
               <li data-md>
                <p>Add <var>new-data</var> to <var>clipboard-event-data</var>’s <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/dnd.html#dom-datatransfer-items" id="ref-for-dom-datatransfer-items④">items</a></code></p>
              </ol>
             <li data-md>
              <p>If <var>clipboard-part</var> contains HTML- or
XHTML-formatted text, according to the operating
system’s convention for describing such clipboard
formats, then</p>
              <ol>
               <li data-md>
                <p>If the implementation supports pasting HTML, then
the implementation <em>must</em> process the
markup by calling <a data-link-type="dfn" href="#process-an-html-paste-event" id="ref-for-process-an-html-paste-event">process an html paste event</a> with <var>clipboard-part</var> and <var>clipboard-event-data</var>.</p>
              </ol>
             <li data-md>
              <p>If <var>clipboard-part</var> contains data in
another supported binary or text-based format (see <a data-link-type="dfn" href="#mandatory-data-types" id="ref-for-mandatory-data-types⑥">mandatory data types</a>), then</p>
              <ol>
               <li data-md>
                <p>Determine the MIME type of the data</p>
               <li data-md>
                <p>Let <var>new-data</var> be a new <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/dnd.html#datatransferitem" id="ref-for-datatransferitem②">DataTransferItem</a></code> with <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/interaction.html#drag-data-item-kind" id="ref-for-drag-data-item-kind②">drag data item kind</a> set to <em>file</em>, <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/interaction.html#drag-data-item-type-string" id="ref-for-drag-data-item-type-string②">drag data item type string</a> set to the corresponding MIME type</p>
               <li data-md>
                <p>Set <var>new-data</var>’s data to be the binary or text-based data.</p>
               <li data-md>
                <p>Add <var>new-data</var> to <var>clipboard-event-data</var>’s <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/dnd.html#dom-datatransfer-items" id="ref-for-dom-datatransfer-items⑤">items</a></code></p>
              </ol>
            </ol>
          </ol>
         <li data-md>
          <p>Update <var>clipboard-event-data</var>’s <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/dnd.html#dom-datatransfer-files" id="ref-for-dom-datatransfer-files②">files</a></code> property to match
entries in <var>clipboard-event-data</var>’s <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/dnd.html#dom-datatransfer-items" id="ref-for-dom-datatransfer-items⑥">items</a></code>.</p>
         <li data-md>
          <p>Update <var>clipboard-event-data</var>’s <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/dnd.html#dom-datatransfer-types" id="ref-for-dom-datatransfer-types">types</a></code> property to match
entries in <var>clipboard-event-data</var>’s <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/dnd.html#dom-datatransfer-items" id="ref-for-dom-datatransfer-items⑦">items</a></code>.</p>
        </ol>
       <li data-md>
        <p>If <var>e</var> is "copy" or "cut", then</p>
        <ol>
         <li data-md>
          <p>Set the associated <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/dnd.html#datatransfer" id="ref-for-datatransfer①⓪">DataTransfer</a></code> object’s internal <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/interaction.html#drag-data-store-mode" id="ref-for-drag-data-store-mode②">drag data store mode</a> flag to <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/interaction.html#concept-dnd-rw" id="ref-for-concept-dnd-rw">read/write</a></p>
        </ol>
      </ol>
     <li data-md>
      <p>Set <var>e</var>’s <code class="idl"><a data-link-type="idl" href="#dom-clipboardevent-clipboarddata" id="ref-for-dom-clipboardevent-clipboarddata④">clipboardData</a></code> to <var>clipboard-event-data</var>.</p>
     <li data-md>
      <p>Set <var>e</var>’s <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#dom-event-istrusted" id="ref-for-dom-event-istrusted">isTrusted</a></code> to <var>trusted</var>.</p>
     <li data-md>
      <p>Set <var>e</var>’s <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#dom-event-composed" id="ref-for-dom-event-composed">composed</a></code> to true.</p>
     <li data-md>
      <p>Dispatch the event <var>e</var> which bubbles and is cancelable, and which
uses the <code class="idl"><a data-link-type="idl" href="#clipboardevent" id="ref-for-clipboardevent⑤">ClipboardEvent</a></code> interface, at <var>target</var>.</p>
      <p>Implementation requirements for access to data during event
dispatch are defined in <a data-link-type="biblio" href="#biblio-html" title="HTML Standard">[HTML]</a>. Some additional clipboard
event-specific processing rules are given below:</p>
      <p class="issue" id="issue-7d2ab940"><a class="self-link" href="#issue-7d2ab940"></a> Why here? Why not in the HTML spec?</p>
      <ol>
       <li data-md>
        <p>If a script calls <a data-link-type="functionish" href="https://html.spec.whatwg.org/multipage/dnd.html#dom-datatransfer-cleardata" id="ref-for-dom-datatransfer-cleardata">clearData()</a> or <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/dnd.html#dom-datatransferitemlist-clear" id="ref-for-dom-datatransferitemlist-clear">clear()</a></code> and the <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/dnd.html#datatransfer" id="ref-for-datatransfer①①">DataTransfer</a></code> object’s internal <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/interaction.html#drag-data-store-mode" id="ref-for-drag-data-store-mode③">drag data store mode</a> flag is <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/interaction.html#concept-dnd-rw" id="ref-for-concept-dnd-rw①">read/write</a>, then</p>
        <ol>
         <li data-md>
          <p>Set the <var>clear-was-called</var> flag to true. If an
argument is given, add the argument to the <var>types-to-clear</var> list.</p>
        </ol>
       <li data-md>
        <p>If a script calls <a data-link-type="functionish" href="https://html.spec.whatwg.org/multipage/dnd.html#dom-datatransfer-setdata" id="ref-for-dom-datatransfer-setdata②">setData()</a> or modifies items and the <var>clear-was-called</var> flag is true, then</p>
        <ol>
         <li data-md>
          <p>If the <var>types-to-clear</var> list is empty, then</p>
          <ol>
           <li data-md>
            <p>Set the <var>clear-was-called</var> flag to false, then</p>
          </ol>
         <li data-md>
          <p>Else, if <a data-link-type="functionish" href="https://html.spec.whatwg.org/multipage/dnd.html#dom-datatransfer-setdata" id="ref-for-dom-datatransfer-setdata③">setData()</a>’s <code>type</code> argument or
the new item’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/interaction.html#drag-data-item-type-string" id="ref-for-drag-data-item-type-string③">drag data item type string</a> is
found in the <var>types-to-clear</var> list, then</p>
          <ol>
           <li data-md>
            <p>Remove it from the list. If the list is now empty,
set the <var>clear-was-called</var> flag to false.</p>
          </ol>
        </ol>
       <li data-md>
        <p>If a script calls <a data-link-type="functionish" href="https://html.spec.whatwg.org/multipage/dnd.html#dom-datatransfer-getdata" id="ref-for-dom-datatransfer-getdata">getData()</a> or accesses items in the <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/dnd.html#datatransferitemlist" id="ref-for-datatransferitemlist⑤">DataTransferItemList</a></code> and <var>clipboard-entry</var> is
set, then</p>
        <ol>
         <li data-md>
          <p>Check that the clipboard data’s sequence number matches <var>clipboard-entry</var>. If the clipboard no longer
contains the same entry, set the <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/dnd.html#datatransferitemlist" id="ref-for-datatransferitemlist⑥">DataTransferItemList</a></code> object’s internal <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/interaction.html#drag-data-store-mode" id="ref-for-drag-data-store-mode④">drag data store mode</a> to <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/interaction.html#concept-dnd-p" id="ref-for-concept-dnd-p">protected</a>.</p>
        </ol>
      </ol>
      <p><strong class="advisement"> Warning! A malicious script listening to a paste event may set
up a never-ending loop in order to read what the user places on
the clipboard in the future. On platforms where a clipboard
sequence number is not available, other limitations should be
implemented.</strong></p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="process-an-html-paste-event">
    <h3 class="heading settled" id="to-process-html-paste-event"><span class="content"><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="process-an-html-paste-event">process an HTML paste event</dfn></span><a class="self-link" href="#to-process-html-paste-event"></a></h3>
    <dl>
     <dt data-md>Input
     <dd data-md>
      <p><var>clipboard-part</var>, the clipboard part to process</p>
     <dd data-md>
      <p><var>clipboard-event-data</var>, the <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/dnd.html#datatransfer" id="ref-for-datatransfer①②">DataTransfer</a></code> object for this event</p>
     <dt data-md>Output
     <dd data-md>
      <p>None</p>
    </dl>
    <ol>
     <li data-md>
      <p>Let <var>new-data</var> be a new <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/dnd.html#datatransferitem" id="ref-for-datatransferitem③">DataTransferItem</a></code> with <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/interaction.html#drag-data-item-kind" id="ref-for-drag-data-item-kind③">drag data item kind</a> set to <em>Plain Unicode string</em>, <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/interaction.html#drag-data-item-type-string" id="ref-for-drag-data-item-type-string④">drag data item type string</a> set to <em>text/html</em> or <em>application/xhtml+xml</em> accordingly.</p>
     <li data-md>
      <p>Extract the markup from <var>clipboard-part</var> and use the relevant parser to
construct a DOM tree.</p>
     <li data-md>
      <p>If the markup’s source URL is known, then resolve all relative URLs in
HREF and SRC attributes using the source URL as base URL, and set the
respective attributes to the resolved absolute URL.</p>
     <li data-md>
      <p>If the markup’s origin is from a local application, then check whether
there are references to local files and/or other parts of the OS
clipboard’s contents. If such references are found, references to
sub-parts <em>must</em> be replaced by content-id references using the
cid: URL scheme <a data-link-type="biblio" href="#biblio-rfc2392" title="Content-ID and Message-ID Uniform Resource Locators">[RFC2392]</a>. To do so, process each attribute
referencing a local file or clipboard part according to the following
steps:</p>
      <p class="issue" id="issue-096a5049"><a class="self-link" href="#issue-096a5049"></a> Are these steps necessary? Do we know about native (platform)
clipboard implementations that support multiple parts with internal
references?</p>
      <p class="issue" id="issue-6be1122f"><a class="self-link" href="#issue-6be1122f"></a> This feature is at risk because it’s unclear whether it is
required, and because it’s hard to test in a cross-platform way.</p>
      <ol>
       <li data-md>
        <p>If <var>clipboard-event-data</var>’s <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/dnd.html#dom-datatransfer-items" id="ref-for-dom-datatransfer-items⑧">items</a></code> already
contains an entry for the referenced file or clipboard part, then</p>
        <ol>
         <li data-md>
          <p>Set <var>itemNumber</var> to the index of the existing
entry.</p>
        </ol>
       <li data-md>
        <p>Else,</p>
        <ol>
         <li data-md>
          <p>Let <var>new-file-data</var> be a new <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/dnd.html#datatransferitem" id="ref-for-datatransferitem④">DataTransferItem</a></code> with <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/interaction.html#drag-data-item-kind" id="ref-for-drag-data-item-kind④">drag data item kind</a> set to "file", and <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/interaction.html#drag-data-item-type-string" id="ref-for-drag-data-item-type-string⑤">drag data item type string</a> set to the MIME type of
the file or clipboard part if known, or <code>application/octet-stream</code> if the
file’s type is unknown.</p>
         <li data-md>
          <p>Let <var>file-info</var> be a new <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/FileAPI/#dfn-file" id="ref-for-dfn-file">File</a></code> object with <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/FileAPI/#dfn-name" id="ref-for-dfn-name">name</a></code> set to the name part of the HTML attribute contents,
and <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/FileAPI/#dfn-lastModified" id="ref-for-dfn-lastModified">lastModified</a></code> set to the
timestamp of the referenced file or 0 if the entry
references a clipboard part.</p>
         <li data-md>
          <p>Set <var>new-file-data</var>’s internal <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/FileAPI/#dfn-file" id="ref-for-dfn-file①">File</a></code> object to <var>file-info</var>.</p>
         <li data-md>
          <p>Add <var>new-file-data</var> to <var>clipboard-event-data</var>’s <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/dnd.html#dom-datatransfer-items" id="ref-for-dom-datatransfer-items⑨">items</a></code> and let <var>itemNumber</var> be the index of this entry in the <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/dnd.html#datatransferitemlist" id="ref-for-datatransferitemlist⑦">DataTransferItemList</a></code>.</p>
        </ol>
       <li data-md>
        <p>Update the DOM attribute that referenced the local file or
clipboard part to contain the string 'cid:' followed by <var>itemNumber</var>.</p>
      </ol>
     <li data-md>
      <p>Serialize the processed DOM and update <var>new-data</var> with the resulting
HTML code.</p>
     <li data-md>
      <p>Add <var>new-data</var> to <var>clipboard-event-data</var>’s <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/dnd.html#dom-datatransfer-items" id="ref-for-dom-datatransfer-items①⓪">items</a></code>.</p>
    </ol>
   </div>
  </main>
  <div data-fill-with="conformance">
   <h2 class="no-ref no-num heading settled" id="w3c-conformance"><span class="content">Conformance</span><a class="self-link" href="#w3c-conformance"></a></h2>
   <h3 class="no-ref no-num heading settled" id="w3c-conventions"><span class="content">Document conventions</span><a class="self-link" href="#w3c-conventions"></a></h3>
   <p>Conformance requirements are expressed
    with a combination of descriptive assertions
    and RFC 2119 terminology.
    The key words “MUST”, “MUST NOT”, “REQUIRED”, “SHALL”, “SHALL NOT”, “SHOULD”, “SHOULD NOT”, “RECOMMENDED”, “MAY”, and “OPTIONAL”
    in the normative parts of this document
    are to be interpreted as described in RFC 2119.
    However, for readability,
    these words do not appear in all uppercase letters in this specification. </p>
   <p>All of the text of this specification is normative
    except sections explicitly marked as non-normative, examples, and notes. <a data-link-type="biblio" href="#biblio-rfc2119" title="Key words for use in RFCs to Indicate Requirement Levels">[RFC2119]</a> </p>
   <p>Examples in this specification are introduced with the words “for example”
    or are set apart from the normative text
    with <code>class="example"</code>,
    like this: </p>
   <div class="example" id="w3c-example">
    <a class="self-link" href="#w3c-example"></a> 
    <p>This is an example of an informative example. </p>
   </div>
   <p>Informative notes begin with the word “Note”
    and are set apart from the normative text
    with <code>class="note"</code>,
    like this: </p>
   <p class="note" role="note">Note, this is an informative note.</p>
   <section>
    <h3 class="no-ref no-num heading settled" id="w3c-conformant-algorithms"><span class="content">Conformant Algorithms</span><a class="self-link" href="#w3c-conformant-algorithms"></a></h3>
    <p>Requirements phrased in the imperative as part of algorithms
    (such as "strip any leading space characters"
    or "return false and abort these steps")
    are to be interpreted with the meaning of the key word
    ("must", "should", "may", etc)
    used in introducing the algorithm. </p>
    <p>Conformance requirements phrased as algorithms or specific steps
    can be implemented in any manner,
    so long as the end result is equivalent.
    In particular, the algorithms defined in this specification
    are intended to be easy to understand
    and are not intended to be performant.
    Implementers are encouraged to optimize. </p>
   </section>
  </div>
<script src="https://www.w3.org/scripts/TR/2021/fixup.js"></script>
  <h2 class="no-num no-ref heading settled" id="index"><span class="content">Index</span><a class="self-link" href="#index"></a></h2>
  <h3 class="no-num no-ref heading settled" id="index-defined-here"><span class="content">Terms defined by this specification</span><a class="self-link" href="#index-defined-here"></a></h3>
  <ul class="index">
   <li><a href="#allowed-to-modify-the-clipboard">allowed to modify the clipboard</a><span>, in § 5.3.1</span>
   <li><a href="#allowed-to-read-from-clipboard">allowed to read from clipboard</a><span>, in § 5.3.2</span>
   <li><a href="#dom-clipboardpermissiondescriptor-allowwithoutgesture">allowWithoutGesture</a><span>, in § 9</span>
   <li><a href="#dom-presentationstyle-attachment">"attachment"</a><span>, in § 7.2</span>
   <li><a href="#check-clipboard-read-permission">check clipboard read permission</a><span>, in § 9.1.1</span>
   <li><a href="#check-clipboard-write-permission">check clipboard write permission</a><span>, in § 9.2.1</span>
   <li><a href="#clipboard">Clipboard</a><span>, in § 7.3</span>
   <li>
    clipboard
    <ul>
     <li><a href="#dom-navigator-clipboard">attribute for Navigator</a><span>, in § 7.1</span>
     <li><a href="#navigator-clipboard">dfn for Navigator</a><span>, in § 7.1.1</span>
    </ul>
   <li><a href="#eventdef-documentandelementeventhandlers-clipboardchange">clipboardchange</a><span>, in § 5.2.1</span>
   <li>
    clipboardData
    <ul>
     <li><a href="#dom-clipboardevent-clipboarddata">attribute for ClipboardEvent</a><span>, in § 5.1</span>
     <li><a href="#clipboardevent-clipboarddata">dfn for ClipboardEvent</a><span>, in § 5.1</span>
     <li><a href="#clipboardeventinit-clipboarddata">dfn for ClipboardEventInit</a><span>, in § 5.1</span>
     <li><a href="#dom-clipboardeventinit-clipboarddata">dict-member for ClipboardEventInit</a><span>, in § 5.1</span>
    </ul>
   <li><a href="#clipboardevent">ClipboardEvent</a><span>, in § 5.1</span>
   <li><a href="#dictdef-clipboardeventinit">ClipboardEventInit</a><span>, in § 5.1</span>
   <li><a href="#dom-clipboardevent-clipboardevent">ClipboardEvent(type)</a><span>, in § 5.1</span>
   <li><a href="#dom-clipboardevent-clipboardevent">ClipboardEvent(type, eventInitDict)</a><span>, in § 5.1</span>
   <li>
    clipboard item
    <ul>
     <li><a href="#clipboard-item">definition of</a><span>, in § 7.2</span>
     <li><a href="#clipboarditem-clipboard-item">dfn for ClipboardItem</a><span>, in § 7.2</span>
    </ul>
   <li><a href="#clipboarditem">ClipboardItem</a><span>, in § 7.2</span>
   <li><a href="#typedefdef-clipboarditemdata">ClipboardItemData</a><span>, in § 7.2</span>
   <li><a href="#dom-clipboarditem-clipboarditem">ClipboardItem(items)</a><span>, in § 7.2</span>
   <li><a href="#dom-clipboarditem-clipboarditem">ClipboardItem(items, options)</a><span>, in § 7.2</span>
   <li><a href="#dictdef-clipboarditemoptions">ClipboardItemOptions</a><span>, in § 7.2</span>
   <li><a href="#clipboard-items">clipboard items</a><span>, in § 7.3</span>
   <li><a href="#typedefdef-clipboarditems">ClipboardItems</a><span>, in § 7.3</span>
   <li><a href="#dictdef-clipboardpermissiondescriptor">ClipboardPermissionDescriptor</a><span>, in § 9</span>
   <li><a href="#clipboard-task-source">clipboard task source</a><span>, in § 7.3</span>
   <li><a href="#dom-permissionname-clipboard-write">"clipboard-write"</a><span>, in § 9</span>
   <li><a href="#dom-clipboarditem-clipboarditem">constructor(items)</a><span>, in § 7.2</span>
   <li><a href="#dom-clipboarditem-clipboarditem">constructor(items, options)</a><span>, in § 7.2</span>
   <li><a href="#dom-clipboardevent-clipboardevent">constructor(type)</a><span>, in § 5.1</span>
   <li><a href="#dom-clipboardevent-clipboardevent">constructor(type, eventInitDict)</a><span>, in § 5.1</span>
   <li><a href="#eventdef-documentandelementeventhandlers-copy">copy</a><span>, in § 5.2.2</span>
   <li><a href="#create-a-clipboarditem-object">create a ClipboardItem object</a><span>, in § 7.2</span>
   <li><a href="#eventdef-documentandelementeventhandlers-cut">cut</a><span>, in § 5.2.3</span>
   <li>
    data
    <ul>
     <li><a href="#representation-data">dfn for representation</a><span>, in § 7.2</span>
     <li><a href="#system-clipboard-representation-data">dfn for system clipboard representation</a><span>, in § 4</span>
    </ul>
   <li><a href="#editable-context">editable context</a><span>, in § 3</span>
   <li><a href="#fire-a-clipboard-event">fire a clipboard event</a><span>, in § Unnumbered section</span>
   <li><a href="#dom-clipboarditem-gettype">getType(type)</a><span>, in § 7.2.2</span>
   <li><a href="#dom-presentationstyle-inline">"inline"</a><span>, in § 7.2</span>
   <li><a href="#representation-iscustom">isCustom</a><span>, in § 7.2</span>
   <li><a href="#list-of-representations">list of representations</a><span>, in § 7.2</span>
   <li><a href="#mandatory-data-types">Mandatory data types</a><span>, in § 6.4</span>
   <li><a href="#representation-mime-type">mime type</a><span>, in § 7.2</span>
   <li><a href="#system-clipboard-representation-name">name</a><span>, in § 4</span>
   <li><a href="#optional-data-types">Optional data types</a><span>, in § 6.5</span>
   <li><a href="#os-specific-custom-map-name">os specific custom map name</a><span>, in § Unnumbered section</span>
   <li><a href="#os-specific-custom-name">os specific custom name</a><span>, in § Unnumbered section</span>
   <li><a href="#os-specific-well-known-format">os specific well-known format</a><span>, in § Unnumbered section</span>
   <li><a href="#eventdef-documentandelementeventhandlers-paste">paste</a><span>, in § 5.2.4</span>
   <li><a href="#presentation-style">presentation style</a><span>, in § 7.2</span>
   <li><a href="#enumdef-presentationstyle">PresentationStyle</a><span>, in § 7.2</span>
   <li>
    presentationStyle
    <ul>
     <li><a href="#dom-clipboarditem-presentationstyle">attribute for ClipboardItem</a><span>, in § 7.2</span>
     <li><a href="#dom-clipboarditemoptions-presentationstyle">dict-member for ClipboardItemOptions</a><span>, in § 7.2</span>
    </ul>
   <li><a href="#process-an-html-paste-event">process an HTML paste event</a><span>, in § Unnumbered section</span>
   <li><a href="#dom-clipboard-read">read()</a><span>, in § 7.3</span>
   <li><a href="#dom-clipboard-readtext">readText()</a><span>, in § 7.3</span>
   <li><a href="#read-web-custom-format">read web custom format</a><span>, in § Unnumbered section</span>
   <li><a href="#representation">representation</a><span>, in § 7.2</span>
   <li><a href="#script-may-access-clipboard">script-may-access-clipboard</a><span>, in § 8</span>
   <li><a href="#script-triggered">script-triggered</a><span>, in § 8</span>
   <li><a href="#dom-clipboarditem-supports">supports(type)</a><span>, in § 7.2.3</span>
   <li><a href="#system-clipboard">system clipboard</a><span>, in § 4</span>
   <li><a href="#system-clipboard-data">system clipboard data</a><span>, in § 4</span>
   <li><a href="#system-clipboard-item">system clipboard item</a><span>, in § 4</span>
   <li><a href="#system-clipboard-representation">system clipboard representation</a><span>, in § 4</span>
   <li><a href="#dom-clipboarditem-types">types</a><span>, in § 7.2.1</span>
   <li><a href="#clipboarditem-types-array">types array</a><span>, in § 7.2</span>
   <li><a href="#dom-presentationstyle-unspecified">"unspecified"</a><span>, in § 7.2</span>
   <li><a href="#web-custom-format">web custom format</a><span>, in § 7.2</span>
   <li><a href="#well-known-mime-type-from-os-specific-format">well-known mime type from os specific format</a><span>, in § Unnumbered section</span>
   <li><a href="#write-blobs-and-option-to-the-clipboard">write blobs and option to the clipboard</a><span>, in § Unnumbered section</span>
   <li><a href="#write-content-to-the-clipboard">write content to the clipboard</a><span>, in § Unnumbered section</span>
   <li><a href="#dom-clipboard-write">write(data)</a><span>, in § 7.3</span>
   <li><a href="#dom-clipboard-writetext">writeText(data)</a><span>, in § 7.3</span>
   <li><a href="#write-web-custom-formats">write web custom formats</a><span>, in § Unnumbered section</span>
  </ul>
  <h3 class="no-num no-ref heading settled" id="index-defined-elsewhere"><span class="content">Terms defined by reference</span><a class="self-link" href="#index-defined-elsewhere"></a></h3>
  <ul class="index">
   <li>
    <a data-link-type="biblio">[]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="c176812b">allowed to show a popup</span>
     <li><span class="dfn-paneled" id="dc8f85df">concept dnd p</span>
     <li><span class="dfn-paneled" id="2ea8cccb">concept dnd ro</span>
     <li><span class="dfn-paneled" id="2551a9c6">concept dnd rw</span>
     <li><span class="dfn-paneled" id="a1ac87bf">constructing events</span>
     <li><span class="dfn-paneled" id="2cb28cb0">denied</span>
     <li><span class="dfn-paneled" id="c1f77abc">drag data item kind</span>
     <li><span class="dfn-paneled" id="a70adace">drag data item type string</span>
     <li><span class="dfn-paneled" id="b8912f12">drag data store mode</span>
     <li><span class="dfn-paneled" id="c4619dd3">editing host</span>
     <li><span class="dfn-paneled" id="fad8924f">focusable area</span>
     <li><span class="dfn-paneled" id="168f1b6e">global object</span>
     <li><span class="dfn-paneled" id="c6ce3c60">granted</span>
     <li><span class="dfn-paneled" id="70f2d597">permission task source</span>
     <li><span class="dfn-paneled" id="c51ad875">the body element</span>
    </ul>
   <li>
    <a data-link-type="biblio">[DOM]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="129bdae8">Event</span>
     <li><span class="dfn-paneled" id="44a7708c">EventInit</span>
     <li><span class="dfn-paneled" id="2bc0cdf4">EventTarget</span>
     <li><span class="dfn-paneled" id="8b547cc7">composed</span>
     <li><span class="dfn-paneled" id="838900a7">isTrusted</span>
     <li><span class="dfn-paneled" id="fefe0433">preventDefault()</span>
    </ul>
   <li>
    <a data-link-type="biblio">[ECMASCRIPT]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="7c9ab308">promise</span>
    </ul>
   <li>
    <a data-link-type="biblio">[ENCODING]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="b0fcb8d7">utf-8 decode</span>
     <li><span class="dfn-paneled" id="0303e8e5">utf-8 encode</span>
    </ul>
   <li>
    <a data-link-type="biblio">[FileAPI]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="b7d73f5b">Blob</span>
     <li><span class="dfn-paneled" id="cd028611">File</span>
     <li><span class="dfn-paneled" id="f9970195">lastModified</span>
     <li><span class="dfn-paneled" id="1441e3bf">name</span>
     <li><span class="dfn-paneled" id="e303c02d">type</span>
    </ul>
   <li>
    <a data-link-type="biblio">[HTML]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="2b83ae0c">DataTransfer</span>
     <li><span class="dfn-paneled" id="4ff66d05">DataTransferItem</span>
     <li><span class="dfn-paneled" id="707c843f">DataTransferItemList</span>
     <li><span class="dfn-paneled" id="be0c27b2">Navigator</span>
     <li><span class="dfn-paneled" id="5f5b7a0c">clear()</span>
     <li><span class="dfn-paneled" id="f62ad1e6">clearData(format)</span>
     <li><span class="dfn-paneled" id="1e280de0">files</span>
     <li><span class="dfn-paneled" id="d82f90d1">getData(format)</span>
     <li><span class="dfn-paneled" id="7c421916">has focus steps</span>
     <li><span class="dfn-paneled" id="a72449dd">in parallel</span>
     <li><span class="dfn-paneled" id="50eecf1d">items</span>
     <li><span class="dfn-paneled" id="48438eb3">queue a global task</span>
     <li><span class="dfn-paneled" id="e99bd18e">relevant global object</span>
     <li><span class="dfn-paneled" id="5991ccfb">relevant realm</span>
     <li><span class="dfn-paneled" id="beda2316">setData(format, data)</span>
     <li><span class="dfn-paneled" id="47fe679e">transient activation</span>
     <li><span class="dfn-paneled" id="f3fc35d3">types</span>
    </ul>
   <li>
    <a data-link-type="biblio">[INFRA]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="ae8def21">contain</span>
     <li><span class="dfn-paneled" id="0204d188">size</span>
    </ul>
   <li>
    <a data-link-type="biblio">[MIMESNIFF]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="7c195f8b">essence</span>
     <li><span class="dfn-paneled" id="16785ec4">mime type</span>
     <li><span class="dfn-paneled" id="d72dabca">parse a mime type</span>
     <li><span class="dfn-paneled" id="d6e5d5bd">serialize a mime type</span>
    </ul>
   <li>
    <a data-link-type="biblio">[PERMISSIONS]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="ebb01253">PermissionDescriptor</span>
     <li><span class="dfn-paneled" id="4b7ca52a">permission descriptor type</span>
     <li><span class="dfn-paneled" id="d124397f">permission state</span>
     <li><span class="dfn-paneled" id="6c2d7879">powerful feature</span>
     <li><span class="dfn-paneled" id="bcc085e3">request permission to use</span>
    </ul>
   <li>
    <a data-link-type="biblio">[WEBIDL]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="dca2de17">DOMException</span>
     <li><span class="dfn-paneled" id="8855a9aa">DOMString</span>
     <li><span class="dfn-paneled" id="889e932f">Exposed</span>
     <li><span class="dfn-paneled" id="dcf5fafa">FrozenArray</span>
     <li><span class="dfn-paneled" id="ba556545">NotAllowedError</span>
     <li><span class="dfn-paneled" id="9eda9b58">NotFoundError</span>
     <li><span class="dfn-paneled" id="bdbd19d1">Promise</span>
     <li><span class="dfn-paneled" id="a5c91173">SameObject</span>
     <li><span class="dfn-paneled" id="b75bb3bd">SecureContext</span>
     <li><span class="dfn-paneled" id="82ca3efc">TypeError</span>
     <li><span class="dfn-paneled" id="dacde8b5">a new promise</span>
     <li><span class="dfn-paneled" id="5372cca8">boolean</span>
     <li><span class="dfn-paneled" id="1641b9ef">create a frozen array</span>
     <li><span class="dfn-paneled" id="56f81a8e">new</span>
     <li><span class="dfn-paneled" id="750a2f08">react</span>
     <li><span class="dfn-paneled" id="7787d359">record</span>
     <li><span class="dfn-paneled" id="b262501e">reject</span>
     <li><span class="dfn-paneled" id="9cce47fd">sequence</span>
     <li><span class="dfn-paneled" id="4013a022">this</span>
     <li><span class="dfn-paneled" id="5f90bbfb">undefined</span>
    </ul>
  </ul>
  <h2 class="no-num no-ref heading settled" id="references"><span class="content">References</span><a class="self-link" href="#references"></a></h2>
  <h3 class="no-num no-ref heading settled" id="normative"><span class="content">Normative References</span><a class="self-link" href="#normative"></a></h3>
  <dl>
   <dt id="biblio-dom">[DOM]
   <dd>Anne van Kesteren. <a href="https://dom.spec.whatwg.org/"><cite>DOM Standard</cite></a>. Living Standard. URL: <a href="https://dom.spec.whatwg.org/">https://dom.spec.whatwg.org/</a>
   <dt id="biblio-encoding">[ENCODING]
   <dd>Anne van Kesteren. <a href="https://encoding.spec.whatwg.org/"><cite>Encoding Standard</cite></a>. Living Standard. URL: <a href="https://encoding.spec.whatwg.org/">https://encoding.spec.whatwg.org/</a>
   <dt id="biblio-fileapi">[FileAPI]
   <dd>Marijn Kruisselbrink. <a href="https://w3c.github.io/FileAPI/"><cite>File API</cite></a>. URL: <a href="https://w3c.github.io/FileAPI/">https://w3c.github.io/FileAPI/</a>
   <dt id="biblio-html">[HTML]
   <dd>Anne van Kesteren; et al. <a href="https://html.spec.whatwg.org/multipage/"><cite>HTML Standard</cite></a>. Living Standard. URL: <a href="https://html.spec.whatwg.org/multipage/">https://html.spec.whatwg.org/multipage/</a>
   <dt id="biblio-infra">[INFRA]
   <dd>Anne van Kesteren; Domenic Denicola. <a href="https://infra.spec.whatwg.org/"><cite>Infra Standard</cite></a>. Living Standard. URL: <a href="https://infra.spec.whatwg.org/">https://infra.spec.whatwg.org/</a>
   <dt id="biblio-mimesniff">[MIMESNIFF]
   <dd>Gordon P. Hemsley. <a href="https://mimesniff.spec.whatwg.org/"><cite>MIME Sniffing Standard</cite></a>. Living Standard. URL: <a href="https://mimesniff.spec.whatwg.org/">https://mimesniff.spec.whatwg.org/</a>
   <dt id="biblio-permissions">[PERMISSIONS]
   <dd>Marcos Caceres; Mike Taylor. <a href="https://w3c.github.io/permissions/"><cite>Permissions</cite></a>. URL: <a href="https://w3c.github.io/permissions/">https://w3c.github.io/permissions/</a>
   <dt id="biblio-rfc2119">[RFC2119]
   <dd>S. Bradner. <a href="https://datatracker.ietf.org/doc/html/rfc2119"><cite>Key words for use in RFCs to Indicate Requirement Levels</cite></a>. March 1997. Best Current Practice. URL: <a href="https://datatracker.ietf.org/doc/html/rfc2119">https://datatracker.ietf.org/doc/html/rfc2119</a>
   <dt id="biblio-rfc2392">[RFC2392]
   <dd>E. Levinson. <a href="https://www.rfc-editor.org/rfc/rfc2392"><cite>Content-ID and Message-ID Uniform Resource Locators</cite></a>. August 1998. Proposed Standard. URL: <a href="https://www.rfc-editor.org/rfc/rfc2392">https://www.rfc-editor.org/rfc/rfc2392</a>
   <dt id="biblio-webidl">[WEBIDL]
   <dd>Edgar Chen; Timothy Gu. <a href="https://webidl.spec.whatwg.org/"><cite>Web IDL Standard</cite></a>. Living Standard. URL: <a href="https://webidl.spec.whatwg.org/">https://webidl.spec.whatwg.org/</a>
  </dl>
  <h3 class="no-num no-ref heading settled" id="informative"><span class="content">Informative References</span><a class="self-link" href="#informative"></a></h3>
  <dl>
   <dt id="biblio-ecmascript">[ECMASCRIPT]
   <dd><a href="https://tc39.es/ecma262/multipage/"><cite>ECMAScript Language Specification</cite></a>. URL: <a href="https://tc39.es/ecma262/multipage/">https://tc39.es/ecma262/multipage/</a>
   <dt id="biblio-html5">[HTML5]
   <dd>Ian Hickson; et al. <a href="https://www.w3.org/html/wg/drafts/html/master/"><cite>HTML5</cite></a>. URL: <a href="https://www.w3.org/html/wg/drafts/html/master/">https://www.w3.org/html/wg/drafts/html/master/</a>
   <dt id="biblio-microsoft-clip-op">[MICROSOFT-CLIP-OP]
   <dd><a href="https://msdn.microsoft.com/en-us/ie/ms537658(v=vs.94)"><cite>About DHTML Data Transfer. Microsoft Developer Network.</cite></a>. URL: <a href="https://msdn.microsoft.com/en-us/ie/ms537658(v=vs.94)">https://msdn.microsoft.com/en-us/ie/ms537658(v=vs.94)</a>
   <dt id="biblio-svg11">[SVG11]
   <dd>Erik Dahlström; et al. <a href="https://www.w3.org/TR/SVG11/"><cite>Scalable Vector Graphics (SVG) 1.1 (Second Edition)</cite></a>. 16 August 2011. REC. URL: <a href="https://www.w3.org/TR/SVG11/">https://www.w3.org/TR/SVG11/</a>
  </dl>
  <h2 class="no-num no-ref heading settled" id="idl-index"><span class="content">IDL Index</span><a class="self-link" href="#idl-index"></a></h2>
<pre class="idl highlight def"><c- b>dictionary</c-> <a href="#dictdef-clipboardeventinit"><code><c- g>ClipboardEventInit</c-></code></a> : <a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#dictdef-eventinit"><c- n>EventInit</c-></a> {
  <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/dnd.html#datatransfer"><c- n>DataTransfer</c-></a>? <a data-default="null" data-type="DataTransfer? " href="#dom-clipboardeventinit-clipboarddata"><code><c- g>clipboardData</c-></code></a> = <c- b>null</c->;
};

[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed"><c- g>Exposed</c-></a>=<c- n>Window</c->]
<c- b>interface</c-> <a href="#clipboardevent"><code><c- g>ClipboardEvent</c-></code></a> : <a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#event"><c- n>Event</c-></a> {
  <a href="#dom-clipboardevent-clipboardevent"><code><c- g>constructor</c-></code></a>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a> <a href="#dom-clipboardevent-clipboardevent-type-eventinitdict-type"><code><c- g>type</c-></code></a>, <c- b>optional</c-> <a data-link-type="idl-name" href="#dictdef-clipboardeventinit"><c- n>ClipboardEventInit</c-></a> <a href="#dom-clipboardevent-clipboardevent-type-eventinitdict-eventinitdict"><code><c- g>eventInitDict</c-></code></a> = {});
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/dnd.html#datatransfer"><c- n>DataTransfer</c-></a>? <a data-readonly data-type="DataTransfer?" href="#dom-clipboardevent-clipboarddata"><code><c- g>clipboardData</c-></code></a>;
};

<c- b>partial</c-> <c- b>interface</c-> <a class="idl-code" data-link-type="interface" href="https://html.spec.whatwg.org/multipage/system-state.html#navigator"><c- g>Navigator</c-></a> {
  [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext"><c- g>SecureContext</c-></a>, <a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SameObject"><c- g>SameObject</c-></a>] <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#clipboard"><c- n>Clipboard</c-></a> <a data-readonly data-type="Clipboard" href="#dom-navigator-clipboard"><code><c- g>clipboard</c-></code></a>;
};

<c- b>typedef</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a> <c- b>or</c-> <a data-link-type="idl-name" href="https://w3c.github.io/FileAPI/#dfn-Blob"><c- n>Blob</c-></a>)> <a href="#typedefdef-clipboarditemdata"><code><c- g>ClipboardItemData</c-></code></a>;

[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext"><c- g>SecureContext</c-></a>, <a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed"><c- g>Exposed</c-></a>=<c- n>Window</c->]
<c- b>interface</c-> <a href="#clipboarditem"><code><c- g>ClipboardItem</c-></code></a> {
  <a class="idl-code" data-link-type="constructor" href="#dom-clipboarditem-clipboarditem"><c- g>constructor</c-></a>(<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-record"><c- b>record</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a>, <a data-link-type="idl-name" href="#typedefdef-clipboarditemdata"><c- n>ClipboardItemData</c-></a>> <a href="#dom-clipboarditem-clipboarditem-items-options-items"><code><c- g>items</c-></code></a>,
              <c- b>optional</c-> <a data-link-type="idl-name" href="#dictdef-clipboarditemoptions"><c- n>ClipboardItemOptions</c-></a> <a href="#dom-clipboarditem-clipboarditem-items-options-options"><code><c- g>options</c-></code></a> = {});

  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#enumdef-presentationstyle"><c- n>PresentationStyle</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="PresentationStyle" href="#dom-clipboarditem-presentationstyle"><c- g>presentationStyle</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-frozen-array"><c- b>FrozenArray</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a>> <a class="idl-code" data-link-type="attribute" data-readonly data-type="FrozenArray<DOMString>" href="#dom-clipboarditem-types"><c- g>types</c-></a>;

  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a data-link-type="idl-name" href="https://w3c.github.io/FileAPI/#dfn-Blob"><c- n>Blob</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-clipboarditem-gettype"><c- g>getType</c-></a>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a> <a href="#dom-clipboarditem-gettype-type-type"><code><c- g>type</c-></code></a>);

  <c- b>static</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean"><c- b>boolean</c-></a> <a class="idl-code" data-link-type="method" href="#dom-clipboarditem-supports"><c- g>supports</c-></a>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a> <a href="#dom-clipboarditem-supports-type-type"><code><c- g>type</c-></code></a>);
};

<c- b>enum</c-> <a href="#enumdef-presentationstyle"><code><c- g>PresentationStyle</c-></code></a> { <a href="#dom-presentationstyle-unspecified"><code><c- s>"unspecified"</c-></code></a>, <a href="#dom-presentationstyle-inline"><code><c- s>"inline"</c-></code></a>, <a href="#dom-presentationstyle-attachment"><code><c- s>"attachment"</c-></code></a> };

<c- b>dictionary</c-> <a href="#dictdef-clipboarditemoptions"><code><c- g>ClipboardItemOptions</c-></code></a> {
  <a data-link-type="idl-name" href="#enumdef-presentationstyle"><c- n>PresentationStyle</c-></a> <a data-default="&quot;unspecified&quot;" data-type="PresentationStyle " href="#dom-clipboarditemoptions-presentationstyle"><code><c- g>presentationStyle</c-></code></a> = "unspecified";
};

<c- b>typedef</c-> <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence"><c- b>sequence</c-></a>&lt;<a data-link-type="idl-name" href="#clipboarditem"><c- n>ClipboardItem</c-></a>> <a href="#typedefdef-clipboarditems"><code><c- g>ClipboardItems</c-></code></a>;

[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext"><c- g>SecureContext</c-></a>, <a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed"><c- g>Exposed</c-></a>=<c- n>Window</c->]
<c- b>interface</c-> <a href="#clipboard"><code><c- g>Clipboard</c-></code></a> : <a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#eventtarget"><c- n>EventTarget</c-></a> {
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a data-link-type="idl-name" href="#typedefdef-clipboarditems"><c- n>ClipboardItems</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-clipboard-read"><c- g>read</c-></a>();
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-clipboard-readtext"><c- g>readText</c-></a>();
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined"><c- b>undefined</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-clipboard-write"><c- g>write</c-></a>(<a data-link-type="idl-name" href="#typedefdef-clipboarditems"><c- n>ClipboardItems</c-></a> <a href="#dom-clipboard-write-data-data"><code><c- g>data</c-></code></a>);
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined"><c- b>undefined</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-clipboard-writetext"><c- g>writeText</c-></a>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a> <a href="#dom-clipboard-writetext-data-data"><code><c- g>data</c-></code></a>);
};

<c- b>dictionary</c-> <a href="#dictdef-clipboardpermissiondescriptor"><code><c- g>ClipboardPermissionDescriptor</c-></code></a> : <a data-link-type="idl-name" href="https://w3c.github.io/permissions/#dom-permissiondescriptor"><c- n>PermissionDescriptor</c-></a> {
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean"><c- b>boolean</c-></a> <a data-default="false" data-type="boolean " href="#dom-clipboardpermissiondescriptor-allowwithoutgesture"><code><c- g>allowWithoutGesture</c-></code></a> = <c- b>false</c->;
};

</pre>
  <h2 class="no-num no-ref heading settled" id="issues-index"><span class="content">Issues Index</span><a class="self-link" href="#issues-index"></a></h2>
  <div style="counter-reset:issue">
   <div class="issue"> Web developers might be interested in the underlying rejection reason. <a class="issue-return" href="#issue-2d83c5ad" title="Jump to section">↵</a></div>
   <div class="issue"> It should be possible to read the data asynchronously from the system clipboard after the author calls getType, however, this set of steps implies that data will be provided at the time of read. <a class="issue-return" href="#issue-0a41fcd5" title="Jump to section">↵</a></div>
   <div class="issue"> Some OSs contain multiple clipboard (e.g. Linux, "primary", "secondary", "selection"). Define from which of those data is read. <a class="issue-return" href="#issue-c148910f" title="Jump to section">↵</a></div>
   <div class="issue"> Add definition of sanitized copy. <a class="issue-return" href="#issue-1755f975" title="Jump to section">↵</a></div>
   <div class="issue"> clipboard-write was removed in https://github.com/w3c/clipboard-apis/pull/164. <a class="issue-return" href="#issue-1b338371" title="Jump to section">↵</a></div>
   <div class="issue"> when <var>data</var> contains multiple items and the operating system supports multiple native clipboard items, the current algorithm writes the items in sequence to the system clipboard instead of writing them collectively. <a class="issue-return" href="#issue-f23cf1e2" title="Jump to section">↵</a></div>
   <div class="issue"> Add definition of sanitized copy. <a class="issue-return" href="#issue-1755f975①" title="Jump to section">↵</a></div>
   <div class="issue"> clipboard-write was removed in https://github.com/w3c/clipboard-apis/pull/164. <a class="issue-return" href="#issue-1b338371①" title="Jump to section">↵</a></div>
   <div class="issue"> It’s not good to leave things up to the
implementation. What should happen here? <a class="issue-return" href="#issue-77e1973e" title="Jump to section">↵</a></div>
   <div class="issue"> The "remove specific types from clipboard" feature is
at risk. It doesn’t seem all that important, and it’s
unclear if it can be implemented easily across relevant
platforms. <a class="issue-return" href="#issue-0a3703dc" title="Jump to section">↵</a></div>
   <div class="issue"> some OSs contain multiple clipboard (e.g. Linux, "primary", "secondary", "selection"). Define to which of those data is written. <a class="issue-return" href="#issue-3887584b" title="Jump to section">↵</a></div>
   <div class="issue"> specify in more detail the process of reading a <var>webCustomFormatMap</var>. <a class="issue-return" href="#issue-97db4b5a" title="Jump to section">↵</a></div>
   <div class="issue"> Why here? Why not in the HTML spec? <a class="issue-return" href="#issue-7d2ab940" title="Jump to section">↵</a></div>
   <div class="issue"> Are these steps necessary? Do we know about native (platform)
clipboard implementations that support multiple parts with internal
references? <a class="issue-return" href="#issue-096a5049" title="Jump to section">↵</a></div>
   <div class="issue"> This feature is at risk because it’s unclear whether it is
required, and because it’s hard to test in a cross-platform way. <a class="issue-return" href="#issue-6be1122f" title="Jump to section">↵</a></div>
  </div>
  <details class="mdn-anno unpositioned" data-anno-for="dom-clipboard-read">
   <summary><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/Clipboard/read" title="The read() method of the Clipboard interface requests a copy of the clipboard&apos;s contents, delivering the data to the returned Promise when the promise is resolved. Unlike readText(), the read() method can return arbitrary data, such as images. This method can also return text.">Clipboard/read</a></p>
    <div class="support">
     <span class="firefox yes"><span>Firefox</span><span title="Requires setting a user preference or runtime flag.">🔰 90+</span></span><span class="safari yes"><span>Safari</span><span>13.1+</span></span><span class="chrome no"><span>Chrome</span><span>?</span></span>
     <hr>
     <span class="opera yes"><span>Opera</span><span>63+</span></span><span class="edge_blink no"><span>Edge</span><span>?</span></span>
     <hr>
     <span class="edge no"><span>Edge (Legacy)</span><span>None</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>?</span></span><span class="samsunginternet_android yes"><span>Samsung Internet</span><span>12.0+</span></span><span class="opera_android yes"><span>Opera Mobile</span><span>54+</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="dom-clipboard-readtext">
   <summary><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/Clipboard/readText" title="The Clipboard interface&apos;s readText() method returns a Promise which resolves with a copy of the textual contents of the system clipboard.">Clipboard/readText</a></p>
    <div class="support">
     <span class="firefox no"><span>Firefox</span><span>None</span></span><span class="safari yes"><span>Safari</span><span>13.1+</span></span><span class="chrome yes"><span>Chrome</span><span>66+</span></span>
     <hr>
     <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
     <hr>
     <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="dom-clipboard-write">
   <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/Clipboard/write" title="The Clipboard method write() writes arbitrary data, such as images, to the clipboard. This can be used to implement cut and copy functionality.">Clipboard/write</a></p>
    <p class="all-engines-text">In all current engines.</p>
    <div class="support">
     <span class="firefox yes"><span>Firefox</span><span>87+</span></span><span class="safari yes"><span>Safari</span><span>13.1+</span></span><span class="chrome yes"><span>Chrome</span><span>66+</span></span>
     <hr>
     <span class="opera yes"><span>Opera</span><span>63+</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
     <hr>
     <span class="edge no"><span>Edge (Legacy)</span><span>None</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android yes"><span>Chrome for Android</span><span>66+</span></span><span class="webview_android no"><span>Android WebView</span><span>?</span></span><span class="samsunginternet_android yes"><span>Samsung Internet</span><span>12.0+</span></span><span class="opera_android yes"><span>Opera Mobile</span><span>54+</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="dom-clipboard-writetext">
   <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/Clipboard/writeText" title="The Clipboard interface&apos;s writeText() property writes the specified text string to the system clipboard. Text may be read back using either read() or readText().">Clipboard/writeText</a></p>
    <p class="all-engines-text">In all current engines.</p>
    <div class="support">
     <span class="firefox yes"><span>Firefox</span><span>63+</span></span><span class="safari yes"><span>Safari</span><span>13.1+</span></span><span class="chrome yes"><span>Chrome</span><span>66+</span></span>
     <hr>
     <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
     <hr>
     <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="clipboard-interface">
   <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/Clipboard" title="The Clipboard interface implements the Clipboard API, providing—if the user grants permission—both read and write access to the contents of the system clipboard. The Clipboard API can be used to implement cut, copy, and paste features within a web application.">Clipboard</a></p>
    <p class="all-engines-text">In all current engines.</p>
    <div class="support">
     <span class="firefox yes"><span>Firefox</span><span>63+</span></span><span class="safari yes"><span>Safari</span><span>13.1+</span></span><span class="chrome yes"><span>Chrome</span><span>66+</span></span>
     <hr>
     <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
     <hr>
     <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="dom-clipboardevent-clipboardevent">
   <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/ClipboardEvent/ClipboardEvent" title="The ClipboardEvent() constructor returns a new ClipboardEvent, representing an event providing information related to modification of the clipboard, that is cut, copy, and paste events.">ClipboardEvent/ClipboardEvent</a></p>
    <p class="all-engines-text">In all current engines.</p>
    <div class="support">
     <span class="firefox yes"><span>Firefox</span><span>22+</span></span><span class="safari yes"><span>Safari</span><span>10.1+</span></span><span class="chrome yes"><span>Chrome</span><span>58+</span></span>
     <hr>
     <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
     <hr>
     <span class="edge yes"><span>Edge (Legacy)</span><span>17+</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="clipboardevent-clipboarddata">
   <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/ClipboardEvent/clipboardData" title="The ClipboardEvent.clipboardData property holds a DataTransfer object, which can be used:">ClipboardEvent/clipboardData</a></p>
    <p class="all-engines-text">In all current engines.</p>
    <div class="support">
     <span class="firefox yes"><span>Firefox</span><span>22+</span></span><span class="safari yes"><span>Safari</span><span>10.1+</span></span><span class="chrome yes"><span>Chrome</span><span>41+</span></span>
     <hr>
     <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
     <hr>
     <span class="edge yes"><span>Edge (Legacy)</span><span>12+</span></span><span class="ie yes"><span>IE</span><span>5+</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="clipboard-event-interfaces">
   <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/ClipboardEvent" title="The ClipboardEvent interface represents events providing information related to modification of the clipboard, that is cut, copy, and paste events.">ClipboardEvent</a></p>
    <p class="all-engines-text">In all current engines.</p>
    <div class="support">
     <span class="firefox yes"><span>Firefox</span><span>22+</span></span><span class="safari yes"><span>Safari</span><span>10.1+</span></span><span class="chrome yes"><span>Chrome</span><span>41+</span></span>
     <hr>
     <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
     <hr>
     <span class="edge yes"><span>Edge (Legacy)</span><span>12+</span></span><span class="ie yes"><span>IE</span><span>4+</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="dom-clipboarditem-clipboarditem">
   <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/ClipboardItem/ClipboardItem" title="The ClipboardItem() constructor of the Clipboard API creates a new ClipboardItem object which represents data to be stored or retrieved via the Clipboard API, that is clipboard.write() and clipboard.read() respectively.">ClipboardItem/ClipboardItem</a></p>
    <p class="all-engines-text">In all current engines.</p>
    <div class="support">
     <span class="firefox yes"><span>Firefox</span><span title="Requires setting a user preference or runtime flag.">🔰 87+</span></span><span class="safari yes"><span>Safari</span><span>13.1+</span></span><span class="chrome yes"><span>Chrome</span><span>98+</span></span>
     <hr>
     <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>98+</span></span>
     <hr>
     <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android yes"><span>Chrome for Android</span><span>98+</span></span><span class="webview_android no"><span>Android WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="dom-clipboarditem-gettype">
   <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/ClipboardItem/getType" title="The getType() method of the ClipboardItem interface returns a Promise that resolves with a Blob of the requested MIME type or an error if the MIME type is not found.">ClipboardItem/getType</a></p>
    <p class="all-engines-text">In all current engines.</p>
    <div class="support">
     <span class="firefox yes"><span>Firefox</span><span title="Requires setting a user preference or runtime flag.">🔰 87+</span></span><span class="safari yes"><span>Safari</span><span>13.1+</span></span><span class="chrome yes"><span>Chrome</span><span>76+</span></span>
     <hr>
     <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
     <hr>
     <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android yes"><span>Chrome for Android</span><span>84+</span></span><span class="webview_android no"><span>Android WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="dom-clipboarditem-presentationstyle">
   <summary><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/ClipboardItem/presentationStyle" title="The read-only presentationStyle property of the ClipboardItem interface returns a string indicating how an item should be presented.">ClipboardItem/presentationStyle</a></p>
    <div class="support">
     <span class="firefox yes"><span>Firefox</span><span title="Requires setting a user preference or runtime flag.">🔰 87+</span></span><span class="safari yes"><span>Safari</span><span>13.1+</span></span><span class="chrome no"><span>Chrome</span><span>None</span></span>
     <hr>
     <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink no"><span>Edge</span><span>None</span></span>
     <hr>
     <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="dom-clipboarditem-types">
   <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/ClipboardItem/types" title="The read-only types property of the ClipboardItem interface returns an Array of MIME types available within the ClipboardItem">ClipboardItem/types</a></p>
    <p class="all-engines-text">In all current engines.</p>
    <div class="support">
     <span class="firefox yes"><span>Firefox</span><span title="Requires setting a user preference or runtime flag.">🔰 87+</span></span><span class="safari yes"><span>Safari</span><span>13.1+</span></span><span class="chrome yes"><span>Chrome</span><span>76+</span></span>
     <hr>
     <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
     <hr>
     <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android yes"><span>Chrome for Android</span><span>84+</span></span><span class="webview_android no"><span>Android WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="clipboarditem">
   <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/ClipboardItem" title="The ClipboardItem interface of the Clipboard API represents a single item format, used when reading or writing data via the Clipboard API. That is clipboard.read() and clipboard.write() respectively.">ClipboardItem</a></p>
    <p class="all-engines-text">In all current engines.</p>
    <div class="support">
     <span class="firefox yes"><span>Firefox</span><span title="Requires setting a user preference or runtime flag.">🔰 87+</span></span><span class="safari yes"><span>Safari</span><span>13.1+</span></span><span class="chrome yes"><span>Chrome</span><span>76+</span></span>
     <hr>
     <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
     <hr>
     <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android yes"><span>Chrome for Android</span><span>84+</span></span><span class="webview_android no"><span>Android WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="clipboard-event-copy">
   <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/Element/copy_event" title="The copy event fires when the user initiates a copy action through the browser&apos;s user interface.">Element/copy_event</a></p>
    <p class="all-engines-text">In all current engines.</p>
    <div class="support">
     <span class="firefox yes"><span>Firefox</span><span>22+</span></span><span class="safari yes"><span>Safari</span><span>3+</span></span><span class="chrome yes"><span>Chrome</span><span>1+</span></span>
     <hr>
     <span class="opera yes"><span>Opera</span><span>12.1+</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
     <hr>
     <span class="edge yes"><span>Edge (Legacy)</span><span>12+</span></span><span class="ie yes"><span>IE</span><span>9+</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios yes"><span>iOS Safari</span><span>3+</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android yes"><span>Opera Mobile</span><span>12.1+</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="clipboard-event-cut">
   <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/Element/cut_event" title="The cut event is fired when the user has initiated a &quot;cut&quot; action through the browser&apos;s user interface.">Element/cut_event</a></p>
    <p class="all-engines-text">In all current engines.</p>
    <div class="support">
     <span class="firefox yes"><span>Firefox</span><span>22+</span></span><span class="safari yes"><span>Safari</span><span>3+</span></span><span class="chrome yes"><span>Chrome</span><span>1+</span></span>
     <hr>
     <span class="opera yes"><span>Opera</span><span>12.1+</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
     <hr>
     <span class="edge yes"><span>Edge (Legacy)</span><span>12+</span></span><span class="ie yes"><span>IE</span><span>9+</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios yes"><span>iOS Safari</span><span>3+</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android yes"><span>Opera Mobile</span><span>12.1+</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="clipboard-event-paste">
   <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/Element/paste_event" title="The paste event is fired when the user has initiated a &quot;paste&quot; action through the browser&apos;s user interface.">Element/paste_event</a></p>
    <p class="all-engines-text">In all current engines.</p>
    <div class="support">
     <span class="firefox yes"><span>Firefox</span><span>22+</span></span><span class="safari yes"><span>Safari</span><span>3+</span></span><span class="chrome yes"><span>Chrome</span><span>1+</span></span>
     <hr>
     <span class="opera yes"><span>Opera</span><span>12.1+</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
     <hr>
     <span class="edge yes"><span>Edge (Legacy)</span><span>12+</span></span><span class="ie yes"><span>IE</span><span>9+</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios yes"><span>iOS Safari</span><span>3+</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android yes"><span>Android WebView</span><span>37+</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android yes"><span>Opera Mobile</span><span>12.1+</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="navigator-clipboard">
   <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/Navigator/clipboard" title="The Clipboard API adds to the Navigator interface the read-only clipboard property, which returns the Clipboard object used to read and write the clipboard&apos;s contents.">Navigator/clipboard</a></p>
    <p class="all-engines-text">In all current engines.</p>
    <div class="support">
     <span class="firefox yes"><span>Firefox</span><span>63+</span></span><span class="safari yes"><span>Safari</span><span>13.1+</span></span><span class="chrome yes"><span>Chrome</span><span>66+</span></span>
     <hr>
     <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
     <hr>
     <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
<script>/* Boilerplate: script-dfn-panel */
"use strict";
{
    const dfnsJson = window.dfnsJson || {};

    function genDfnPanel({dfnID, url, dfnText, refSections, external}) {
        return mk.aside({
            class: "dfn-panel",
            id: `infopanel-for-${dfnID}`,
            "data-for": dfnID,
            "aria-labelled-by":`infopaneltitle-for-${dfnID}`,
            },
            mk.span({id:`infopaneltitle-for-${dfnID}`, style:"display:none"},
                `Info about the '${dfnText}' ${external?"external":""} reference.`),
            mk.a({href:url}, url),
            mk.b({}, "Referenced in:"),
            mk.ul({},
                ...refSections.map(section=>
                    mk.li({},
                        ...section.refs.map((ref, refI)=>
                            [
                                mk.a({
                                    href: `#${ref.id}`
                                    },
                                    (refI == 0) ? section.title : `(${refI + 1})`
                                ),
                                " ",
                            ]
                        ),
                    ),
                ),
            ),
        );
    }

    function genAllDfnPanels() {
        for(const panelData of Object.values(window.dfnpanelData)) {
            const dfnID = panelData.dfnID;
            const dfn = document.getElementById(dfnID);
            if(!dfn) {
                console.log(`Can't find dfn#${dfnID}.`, panelData);
            } else {
                const panel = genDfnPanel(panelData);
                append(document.body, panel);
                insertDfnPopupAction(dfn, panel)
            }
        }
    }

    document.addEventListener("DOMContentLoaded", ()=>{
        genAllDfnPanels();

        // Add popup behavior to all dfns to show the corresponding dfn-panel.
        var dfns = queryAll('.dfn-paneled');
        for(let dfn of dfns) { ; }

        document.body.addEventListener("click", (e) => {
            // If not handled already, just hide all dfn panels.
            hideAllDfnPanels();
        });
    })


    function hideAllDfnPanels() {
        // Turn off any currently "on" or "activated" panels.
        queryAll(".dfn-panel.on, .dfn-panel.activated").forEach(el=>hideDfnPanel(el));
    }

    function showDfnPanel(dfnPanel, dfn) {
        hideAllDfnPanels(); // Only display one at this time.
        dfn.setAttribute("aria-expanded", "true");
        dfnPanel.classList.add("on");
        dfnPanel.style.left = "5px";
        dfnPanel.style.top = "0px";
        const panelRect = dfnPanel.getBoundingClientRect();
        const panelWidth = panelRect.right - panelRect.left;
        if (panelRect.right > document.body.scrollWidth) {
            // Panel's overflowing the screen.
            // Just drop it below the dfn and flip it rightward instead.
            // This still wont' fix things if the screen is *really* wide,
            // but fixing that's a lot harder without 'anchor()'.
            dfnPanel.style.top = "1.5em";
            dfnPanel.style.left = "auto";
            dfnPanel.style.right = "0px";
        }
    }

    function pinDfnPanel(dfnPanel) {
        // Switch it to "activated" state, which pins it.
        dfnPanel.classList.add("activated");
        dfnPanel.style.left = null;
        dfnPanel.style.top = null;
    }

    function hideDfnPanel(dfnPanel, dfn) {
        if(!dfn) {
            dfn = document.getElementById(dfnPanel.getAttribute("data-for"));
        }
        dfn.setAttribute("aria-expanded", "false")
        dfnPanel.classList.remove("on");
        dfnPanel.classList.remove("activated");
    }

    function toggleDfnPanel(dfnPanel, dfn) {
        if(dfnPanel.classList.contains("on")) {
            hideDfnPanel(dfnPanel, dfn);
        } else {
            showDfnPanel(dfnPanel, dfn);
        }
    }

    function insertDfnPopupAction(dfn, dfnPanel) {
        // Find dfn panel
        const panelWrapper = document.createElement('span');
        panelWrapper.appendChild(dfnPanel);
        panelWrapper.style.position = "relative";
        panelWrapper.style.height = "0px";
        dfn.insertAdjacentElement("afterend", panelWrapper);
        dfn.setAttribute('role', 'button');
        dfn.setAttribute('aria-expanded', 'false')
        dfn.tabIndex = 0;
        dfn.classList.add('has-dfn-panel');
        dfn.addEventListener('click', (event) => {
            showDfnPanel(dfnPanel, dfn);
            event.stopPropagation();
        });
        dfn.addEventListener('keypress', (event) => {
            const kc = event.keyCode;
            // 32->Space, 13->Enter
            if(kc == 32 || kc == 13) {
                toggleDfnPanel(dfnPanel, dfn);
                event.stopPropagation();
                event.preventDefault();
            }
        });

        dfnPanel.addEventListener('click', (event) => {
            if (event.target.nodeName == 'A') {
                pinDfnPanel(dfnPanel);
            }
            event.stopPropagation();
        });

        dfnPanel.addEventListener('keydown', (event) => {
            if(event.keyCode == 27) { // Escape key
                hideDfnPanel(dfnPanel, dfn);
                event.stopPropagation();
                event.preventDefault();
            }
        })
    }
}
</script>
<script>/* Boilerplate: script-dfn-panel */
"use strict";
{
    const dfnsJson = window.dfnsJson || {};

    function genDfnPanel({dfnID, url, dfnText, refSections, external}) {
        return mk.aside({
            class: "dfn-panel",
            id: `infopanel-for-${dfnID}`,
            "data-for": dfnID,
            "aria-labelled-by":`infopaneltitle-for-${dfnID}`,
            },
            mk.span({id:`infopaneltitle-for-${dfnID}`, style:"display:none"},
                `Info about the '${dfnText}' ${external?"external":""} reference.`),
            mk.a({href:url}, url),
            mk.b({}, "Referenced in:"),
            mk.ul({},
                ...refSections.map(section=>
                    mk.li({},
                        ...section.refs.map((ref, refI)=>
                            [
                                mk.a({
                                    href: `#${ref.id}`
                                    },
                                    (refI == 0) ? section.title : `(${refI + 1})`
                                ),
                                " ",
                            ]
                        ),
                    ),
                ),
            ),
        );
    }

    function genAllDfnPanels() {
        for(const panelData of Object.values(window.dfnpanelData)) {
            const dfnID = panelData.dfnID;
            const dfn = document.getElementById(dfnID);
            if(!dfn) {
                console.log(`Can't find dfn#${dfnID}.`, panelData);
            } else {
                const panel = genDfnPanel(panelData);
                append(document.body, panel);
                insertDfnPopupAction(dfn, panel)
            }
        }
    }

    document.addEventListener("DOMContentLoaded", ()=>{
        genAllDfnPanels();

        // Add popup behavior to all dfns to show the corresponding dfn-panel.
        var dfns = queryAll('.dfn-paneled');
        for(let dfn of dfns) { ; }

        document.body.addEventListener("click", (e) => {
            // If not handled already, just hide all dfn panels.
            hideAllDfnPanels();
        });
    })


    function hideAllDfnPanels() {
        // Turn off any currently "on" or "activated" panels.
        queryAll(".dfn-panel.on, .dfn-panel.activated").forEach(el=>hideDfnPanel(el));
    }

    function showDfnPanel(dfnPanel, dfn) {
        hideAllDfnPanels(); // Only display one at this time.
        dfn.setAttribute("aria-expanded", "true");
        dfnPanel.classList.add("on");
        dfnPanel.style.left = "5px";
        dfnPanel.style.top = "0px";
        const panelRect = dfnPanel.getBoundingClientRect();
        const panelWidth = panelRect.right - panelRect.left;
        if (panelRect.right > document.body.scrollWidth) {
            // Panel's overflowing the screen.
            // Just drop it below the dfn and flip it rightward instead.
            // This still wont' fix things if the screen is *really* wide,
            // but fixing that's a lot harder without 'anchor()'.
            dfnPanel.style.top = "1.5em";
            dfnPanel.style.left = "auto";
            dfnPanel.style.right = "0px";
        }
    }

    function pinDfnPanel(dfnPanel) {
        // Switch it to "activated" state, which pins it.
        dfnPanel.classList.add("activated");
        dfnPanel.style.left = null;
        dfnPanel.style.top = null;
    }

    function hideDfnPanel(dfnPanel, dfn) {
        if(!dfn) {
            dfn = document.getElementById(dfnPanel.getAttribute("data-for"));
        }
        dfn.setAttribute("aria-expanded", "false")
        dfnPanel.classList.remove("on");
        dfnPanel.classList.remove("activated");
    }

    function toggleDfnPanel(dfnPanel, dfn) {
        if(dfnPanel.classList.contains("on")) {
            hideDfnPanel(dfnPanel, dfn);
        } else {
            showDfnPanel(dfnPanel, dfn);
        }
    }

    function insertDfnPopupAction(dfn, dfnPanel) {
        // Find dfn panel
        const panelWrapper = document.createElement('span');
        panelWrapper.appendChild(dfnPanel);
        panelWrapper.style.position = "relative";
        panelWrapper.style.height = "0px";
        dfn.insertAdjacentElement("afterend", panelWrapper);
        dfn.setAttribute('role', 'button');
        dfn.setAttribute('aria-expanded', 'false')
        dfn.tabIndex = 0;
        dfn.classList.add('has-dfn-panel');
        dfn.addEventListener('click', (event) => {
            showDfnPanel(dfnPanel, dfn);
            event.stopPropagation();
        });
        dfn.addEventListener('keypress', (event) => {
            const kc = event.keyCode;
            // 32->Space, 13->Enter
            if(kc == 32 || kc == 13) {
                toggleDfnPanel(dfnPanel, dfn);
                event.stopPropagation();
                event.preventDefault();
            }
        });

        dfnPanel.addEventListener('click', (event) => {
            if (event.target.nodeName == 'A') {
                pinDfnPanel(dfnPanel);
            }
            event.stopPropagation();
        });

        dfnPanel.addEventListener('keydown', (event) => {
            if(event.keyCode == 27) { // Escape key
                hideDfnPanel(dfnPanel, dfn);
                event.stopPropagation();
                event.preventDefault();
            }
        })
    }
}
</script>
<script>/* Boilerplate: script-dfn-panel-json */
window.dfnpanelData = {};
window.dfnpanelData['c176812b'] = {"dfnID": "c176812b", "url": "http://www.w3.org/TR/html5/browsers.html#allowed-to-show-a-popup", "dfnText": "allowed to show a popup", "refSections": [{"refs": [{"id": "ref-for-allowed-to-show-a-popup"}], "title": "5.3.1. Event handlers that are allowed to modify the clipboard"}], "external": true};
window.dfnpanelData['dc8f85df'] = {"dfnID": "dc8f85df", "url": "https://html.spec.whatwg.org/multipage/interaction.html#concept-dnd-p", "dfnText": "concept dnd p", "refSections": [{"refs": [{"id": "ref-for-concept-dnd-p"}], "title": "fire a clipboard event"}], "external": true};
window.dfnpanelData['2ea8cccb'] = {"dfnID": "2ea8cccb", "url": "https://html.spec.whatwg.org/multipage/interaction.html#concept-dnd-ro", "dfnText": "concept dnd ro", "refSections": [{"refs": [{"id": "ref-for-concept-dnd-ro"}], "title": "6.3. Overriding the paste event"}, {"refs": [{"id": "ref-for-concept-dnd-ro\u2460"}], "title": "fire a clipboard event"}], "external": true};
window.dfnpanelData['2551a9c6'] = {"dfnID": "2551a9c6", "url": "https://html.spec.whatwg.org/multipage/interaction.html#concept-dnd-rw", "dfnText": "concept dnd rw", "refSections": [{"refs": [{"id": "ref-for-concept-dnd-rw"}, {"id": "ref-for-concept-dnd-rw\u2460"}], "title": "fire a clipboard event"}], "external": true};
window.dfnpanelData['a1ac87bf'] = {"dfnID": "a1ac87bf", "url": "https://dom.spec.whatwg.org/#constructing-events", "dfnText": "constructing events", "refSections": [{"refs": [{"id": "ref-for-constructing-events"}], "title": "5.1. Clipboard event interfaces"}], "external": true};
window.dfnpanelData['2cb28cb0'] = {"dfnID": "2cb28cb0", "url": "https://w3c.github.io/permissions/#dom-permissionstate-denied", "dfnText": "denied", "refSections": [{"refs": [{"id": "ref-for-dom-permissionstate-denied"}], "title": "9. Permissions API Integration"}], "external": true};
window.dfnpanelData['c1f77abc'] = {"dfnID": "c1f77abc", "url": "https://html.spec.whatwg.org/multipage/interaction.html#drag-data-item-kind", "dfnText": "drag data item kind", "refSections": [{"refs": [{"id": "ref-for-drag-data-item-kind"}, {"id": "ref-for-drag-data-item-kind\u2460"}, {"id": "ref-for-drag-data-item-kind\u2461"}], "title": "fire a clipboard event"}, {"refs": [{"id": "ref-for-drag-data-item-kind\u2462"}, {"id": "ref-for-drag-data-item-kind\u2463"}], "title": "process an HTML paste event"}], "external": true};
window.dfnpanelData['a70adace'] = {"dfnID": "a70adace", "url": "https://html.spec.whatwg.org/multipage/interaction.html#drag-data-item-type-string", "dfnText": "drag data item type string", "refSections": [{"refs": [{"id": "ref-for-drag-data-item-type-string"}, {"id": "ref-for-drag-data-item-type-string\u2460"}, {"id": "ref-for-drag-data-item-type-string\u2461"}, {"id": "ref-for-drag-data-item-type-string\u2462"}], "title": "fire a clipboard event"}, {"refs": [{"id": "ref-for-drag-data-item-type-string\u2463"}, {"id": "ref-for-drag-data-item-type-string\u2464"}], "title": "process an HTML paste event"}], "external": true};
window.dfnpanelData['b8912f12'] = {"dfnID": "b8912f12", "url": "https://html.spec.whatwg.org/multipage/interaction.html#drag-data-store-mode", "dfnText": "drag data store mode", "refSections": [{"refs": [{"id": "ref-for-drag-data-store-mode"}], "title": "6.3. Overriding the paste event"}, {"refs": [{"id": "ref-for-drag-data-store-mode\u2460"}, {"id": "ref-for-drag-data-store-mode\u2461"}, {"id": "ref-for-drag-data-store-mode\u2462"}, {"id": "ref-for-drag-data-store-mode\u2463"}], "title": "fire a clipboard event"}], "external": true};
window.dfnpanelData['c4619dd3'] = {"dfnID": "c4619dd3", "url": "http://w3c.github.io/editing/contentEditable.html#dfn-editing-host", "dfnText": "editing host", "refSections": [{"refs": [{"id": "ref-for-dfn-editing-host"}], "title": "3. Terminology"}], "external": true};
window.dfnpanelData['fad8924f'] = {"dfnID": "fad8924f", "url": "https://html.spec.whatwg.org/multipage/interaction.html#focusable-area", "dfnText": "focusable area", "refSections": [{"refs": [{"id": "ref-for-focusable-area"}], "title": "5.3.5. Event listeners that modify selection or focus"}], "external": true};
window.dfnpanelData['168f1b6e'] = {"dfnID": "168f1b6e", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#concept-realm-global", "dfnText": "global object", "refSections": [{"refs": [{"id": "ref-for-concept-realm-global"}, {"id": "ref-for-concept-realm-global\u2460"}], "title": "7.3.1. read()"}, {"refs": [{"id": "ref-for-concept-realm-global\u2461"}, {"id": "ref-for-concept-realm-global\u2462"}], "title": "7.3.2. readText()"}, {"refs": [{"id": "ref-for-concept-realm-global\u2463"}, {"id": "ref-for-concept-realm-global\u2464"}], "title": "7.3.3. write(data)"}, {"refs": [{"id": "ref-for-concept-realm-global\u2465"}, {"id": "ref-for-concept-realm-global\u2466"}], "title": "7.3.4. writeText(data)"}], "external": true};
window.dfnpanelData['c6ce3c60'] = {"dfnID": "c6ce3c60", "url": "https://w3c.github.io/permissions/#dom-permissionstate-granted", "dfnText": "granted", "refSections": [{"refs": [{"id": "ref-for-dom-permissionstate-granted"}], "title": "9.2.1. check clipboard write permission"}], "external": true};
window.dfnpanelData['70f2d597'] = {"dfnID": "70f2d597", "url": "https://w3c.github.io/permissions/#permissions-task-source", "dfnText": "permission task source", "refSections": [{"refs": [{"id": "ref-for-permissions-task-source"}], "title": "7.3.1. read()"}, {"refs": [{"id": "ref-for-permissions-task-source\u2460"}], "title": "7.3.2. readText()"}, {"refs": [{"id": "ref-for-permissions-task-source\u2461"}], "title": "7.3.3. write(data)"}, {"refs": [{"id": "ref-for-permissions-task-source\u2462"}], "title": "7.3.4. writeText(data)"}], "external": true};
window.dfnpanelData['c51ad875'] = {"dfnID": "c51ad875", "url": "https://html.spec.whatwg.org/multipage/dom.html#the-body-element-2", "dfnText": "the body element", "refSections": [{"refs": [{"id": "ref-for-the-body-element-2"}, {"id": "ref-for-the-body-element-2\u2460"}], "title": "fire a clipboard event"}], "external": true};
window.dfnpanelData['129bdae8'] = {"dfnID": "129bdae8", "url": "https://dom.spec.whatwg.org/#event", "dfnText": "Event", "refSections": [{"refs": [{"id": "ref-for-event"}, {"id": "ref-for-event\u2460"}], "title": "5.1. Clipboard event interfaces"}], "external": true};
window.dfnpanelData['44a7708c'] = {"dfnID": "44a7708c", "url": "https://dom.spec.whatwg.org/#dictdef-eventinit", "dfnText": "EventInit", "refSections": [{"refs": [{"id": "ref-for-dictdef-eventinit"}], "title": "5.1. Clipboard event interfaces"}], "external": true};
window.dfnpanelData['2bc0cdf4'] = {"dfnID": "2bc0cdf4", "url": "https://dom.spec.whatwg.org/#eventtarget", "dfnText": "EventTarget", "refSections": [{"refs": [{"id": "ref-for-eventtarget"}], "title": "7.3. Clipboard Interface"}], "external": true};
window.dfnpanelData['8b547cc7'] = {"dfnID": "8b547cc7", "url": "https://dom.spec.whatwg.org/#dom-event-composed", "dfnText": "composed", "refSections": [{"refs": [{"id": "ref-for-dom-event-composed"}], "title": "fire a clipboard event"}], "external": true};
window.dfnpanelData['838900a7'] = {"dfnID": "838900a7", "url": "https://dom.spec.whatwg.org/#dom-event-istrusted", "dfnText": "isTrusted", "refSections": [{"refs": [{"id": "ref-for-dom-event-istrusted"}], "title": "fire a clipboard event"}], "external": true};
window.dfnpanelData['fefe0433'] = {"dfnID": "fefe0433", "url": "https://dom.spec.whatwg.org/#dom-event-preventdefault", "dfnText": "preventDefault()", "refSections": [{"refs": [{"id": "ref-for-dom-event-preventdefault"}], "title": "6.1. Overriding the copy event"}, {"refs": [{"id": "ref-for-dom-event-preventdefault\u2460"}], "title": "6.2. Overriding the cut event"}, {"refs": [{"id": "ref-for-dom-event-preventdefault\u2461"}], "title": "6.3. Overriding the paste event"}], "external": true};
window.dfnpanelData['7c9ab308'] = {"dfnID": "7c9ab308", "url": "http://tc39.github.io/ecma262/#sec-promise-objects", "dfnText": "promise", "refSections": [{"refs": [{"id": "ref-for-sec-promise-objects"}, {"id": "ref-for-sec-promise-objects\u2460"}], "title": "7.2. ClipboardItem Interface"}, {"refs": [{"id": "ref-for-sec-promise-objects\u2461"}], "title": "7.3. Clipboard Interface"}], "external": true};
window.dfnpanelData['b0fcb8d7'] = {"dfnID": "b0fcb8d7", "url": "https://encoding.spec.whatwg.org/#utf-8-decode", "dfnText": "utf-8 decode", "refSections": [{"refs": [{"id": "ref-for-utf-8-decode"}], "title": "7.3.2. readText()"}, {"refs": [{"id": "ref-for-utf-8-decode\u2460"}], "title": "write blobs and option to the clipboard"}], "external": true};
window.dfnpanelData['0303e8e5'] = {"dfnID": "0303e8e5", "url": "https://encoding.spec.whatwg.org/#utf-8-encode", "dfnText": "utf-8 encode", "refSections": [{"refs": [{"id": "ref-for-utf-8-encode"}], "title": "7.2.3. getType(type)"}, {"refs": [{"id": "ref-for-utf-8-encode\u2460"}], "title": "7.3.3. write(data)"}, {"refs": [{"id": "ref-for-utf-8-encode\u2461"}], "title": "7.3.4. writeText(data)"}], "external": true};
window.dfnpanelData['b7d73f5b'] = {"dfnID": "b7d73f5b", "url": "https://w3c.github.io/FileAPI/#dfn-Blob", "dfnText": "Blob", "refSections": [{"refs": [{"id": "ref-for-dfn-Blob"}, {"id": "ref-for-dfn-Blob\u2460"}, {"id": "ref-for-dfn-Blob\u2461"}, {"id": "ref-for-dfn-Blob\u2462"}], "title": "7.2. ClipboardItem Interface"}, {"refs": [{"id": "ref-for-dfn-Blob\u2463"}, {"id": "ref-for-dfn-Blob\u2464"}], "title": "7.2.3. getType(type)"}, {"refs": [{"id": "ref-for-dfn-Blob\u2465"}], "title": "7.3.2. readText()"}, {"refs": [{"id": "ref-for-dfn-Blob\u2466"}, {"id": "ref-for-dfn-Blob\u2467"}, {"id": "ref-for-dfn-Blob\u2468"}], "title": "7.3.3. write(data)"}, {"refs": [{"id": "ref-for-dfn-Blob\u2460\u24ea"}, {"id": "ref-for-dfn-Blob\u2460\u2460"}], "title": "7.3.4. writeText(data)"}, {"refs": [{"id": "ref-for-dfn-Blob\u2460\u2461"}, {"id": "ref-for-dfn-Blob\u2460\u2462"}], "title": "write blobs and option to the clipboard"}, {"refs": [{"id": "ref-for-dfn-Blob\u2460\u2463"}], "title": "write web custom formats"}], "external": true};
window.dfnpanelData['cd028611'] = {"dfnID": "cd028611", "url": "https://w3c.github.io/FileAPI/#dfn-file", "dfnText": "File", "refSections": [{"refs": [{"id": "ref-for-dfn-file"}, {"id": "ref-for-dfn-file\u2460"}], "title": "process an HTML paste event"}], "external": true};
window.dfnpanelData['f9970195'] = {"dfnID": "f9970195", "url": "https://w3c.github.io/FileAPI/#dfn-lastModified", "dfnText": "lastModified", "refSections": [{"refs": [{"id": "ref-for-dfn-lastModified"}], "title": "process an HTML paste event"}], "external": true};
window.dfnpanelData['1441e3bf'] = {"dfnID": "1441e3bf", "url": "https://w3c.github.io/FileAPI/#dfn-name", "dfnText": "name", "refSections": [{"refs": [{"id": "ref-for-dfn-name"}], "title": "process an HTML paste event"}], "external": true};
window.dfnpanelData['e303c02d'] = {"dfnID": "e303c02d", "url": "https://w3c.github.io/FileAPI/#dfn-type", "dfnText": "type", "refSections": [{"refs": [{"id": "ref-for-dfn-type"}], "title": "7.2.3. getType(type)"}, {"refs": [{"id": "ref-for-dfn-type\u2460"}, {"id": "ref-for-dfn-type\u2461"}], "title": "7.3.3. write(data)"}, {"refs": [{"id": "ref-for-dfn-type\u2462"}], "title": "7.3.4. writeText(data)"}, {"refs": [{"id": "ref-for-dfn-type\u2463"}, {"id": "ref-for-dfn-type\u2464"}, {"id": "ref-for-dfn-type\u2465"}, {"id": "ref-for-dfn-type\u2466"}, {"id": "ref-for-dfn-type\u2467"}], "title": "write blobs and option to the clipboard"}, {"refs": [{"id": "ref-for-dfn-type\u2468"}], "title": "os specific well-known format"}, {"refs": [{"id": "ref-for-dfn-type\u2460\u24ea"}], "title": "write web custom formats"}], "external": true};
window.dfnpanelData['2b83ae0c'] = {"dfnID": "2b83ae0c", "url": "https://html.spec.whatwg.org/multipage/dnd.html#datatransfer", "dfnText": "DataTransfer", "refSections": [{"refs": [{"id": "ref-for-datatransfer"}, {"id": "ref-for-datatransfer\u2460"}, {"id": "ref-for-datatransfer\u2461"}, {"id": "ref-for-datatransfer\u2462"}], "title": "5.1. Clipboard event interfaces"}, {"refs": [{"id": "ref-for-datatransfer\u2463"}], "title": "6. Clipboard Event API"}, {"refs": [{"id": "ref-for-datatransfer\u2464"}], "title": "6.4.2. Writing to the clipboard"}, {"refs": [{"id": "ref-for-datatransfer\u2465"}], "title": "10.4. Nuisance considerations"}, {"refs": [{"id": "ref-for-datatransfer\u2466"}, {"id": "ref-for-datatransfer\u2467"}], "title": "11.1. Privacy and the Clipboard Event API"}, {"refs": [{"id": "ref-for-datatransfer\u2468"}, {"id": "ref-for-datatransfer\u2460\u24ea"}, {"id": "ref-for-datatransfer\u2460\u2460"}], "title": "fire a clipboard event"}, {"refs": [{"id": "ref-for-datatransfer\u2460\u2461"}], "title": "process an HTML paste event"}], "external": true};
window.dfnpanelData['4ff66d05'] = {"dfnID": "4ff66d05", "url": "https://html.spec.whatwg.org/multipage/dnd.html#datatransferitem", "dfnText": "DataTransferItem", "refSections": [{"refs": [{"id": "ref-for-datatransferitem"}, {"id": "ref-for-datatransferitem\u2460"}, {"id": "ref-for-datatransferitem\u2461"}], "title": "fire a clipboard event"}, {"refs": [{"id": "ref-for-datatransferitem\u2462"}, {"id": "ref-for-datatransferitem\u2463"}], "title": "process an HTML paste event"}], "external": true};
window.dfnpanelData['707c843f'] = {"dfnID": "707c843f", "url": "https://html.spec.whatwg.org/multipage/dnd.html#datatransferitemlist", "dfnText": "DataTransferItemList", "refSections": [{"refs": [{"id": "ref-for-datatransferitemlist"}], "title": "6.4. Mandatory data types"}, {"refs": [{"id": "ref-for-datatransferitemlist\u2460"}], "title": "8.1. The copy action"}, {"refs": [{"id": "ref-for-datatransferitemlist\u2461"}], "title": "8.2. The cut action"}, {"refs": [{"id": "ref-for-datatransferitemlist\u2462"}], "title": "10.2. General security policies"}, {"refs": [{"id": "ref-for-datatransferitemlist\u2463"}], "title": "write content to the clipboard"}, {"refs": [{"id": "ref-for-datatransferitemlist\u2464"}, {"id": "ref-for-datatransferitemlist\u2465"}], "title": "fire a clipboard event"}, {"refs": [{"id": "ref-for-datatransferitemlist\u2466"}], "title": "process an HTML paste event"}], "external": true};
window.dfnpanelData['be0c27b2'] = {"dfnID": "be0c27b2", "url": "https://html.spec.whatwg.org/multipage/system-state.html#navigator", "dfnText": "Navigator", "refSections": [{"refs": [{"id": "ref-for-navigator"}], "title": "7.1. Navigator Interface"}], "external": true};
window.dfnpanelData['5f5b7a0c'] = {"dfnID": "5f5b7a0c", "url": "https://html.spec.whatwg.org/multipage/dnd.html#dom-datatransferitemlist-clear", "dfnText": "clear()", "refSections": [{"refs": [{"id": "ref-for-dom-datatransferitemlist-clear"}], "title": "fire a clipboard event"}], "external": true};
window.dfnpanelData['f62ad1e6'] = {"dfnID": "f62ad1e6", "url": "https://html.spec.whatwg.org/multipage/dnd.html#dom-datatransfer-cleardata", "dfnText": "clearData(format)", "refSections": [{"refs": [{"id": "ref-for-dom-datatransfer-cleardata"}], "title": "fire a clipboard event"}], "external": true};
window.dfnpanelData['1e280de0'] = {"dfnID": "1e280de0", "url": "https://html.spec.whatwg.org/multipage/dnd.html#dom-datatransfer-files", "dfnText": "files", "refSections": [{"refs": [{"id": "ref-for-dom-datatransfer-files"}], "title": "5.1. Clipboard event interfaces"}, {"refs": [{"id": "ref-for-dom-datatransfer-files\u2460"}], "title": "10.2. General security policies"}, {"refs": [{"id": "ref-for-dom-datatransfer-files\u2461"}], "title": "fire a clipboard event"}], "external": true};
window.dfnpanelData['d82f90d1'] = {"dfnID": "d82f90d1", "url": "https://html.spec.whatwg.org/multipage/dnd.html#dom-datatransfer-getdata", "dfnText": "getData(format)", "refSections": [{"refs": [{"id": "ref-for-dom-datatransfer-getdata"}], "title": "fire a clipboard event"}], "external": true};
window.dfnpanelData['7c421916'] = {"dfnID": "7c421916", "url": "https://html.spec.whatwg.org/multipage/interaction.html#has-focus-steps", "dfnText": "has focus steps", "refSections": [{"refs": [{"id": "ref-for-has-focus-steps"}], "title": "11.2. Privacy and the Asychronous Clipboard API"}], "external": true};
window.dfnpanelData['a72449dd'] = {"dfnID": "a72449dd", "url": "https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel", "dfnText": "in parallel", "refSections": [{"refs": [{"id": "ref-for-in-parallel"}], "title": "7.3.1. read()"}, {"refs": [{"id": "ref-for-in-parallel\u2460"}], "title": "7.3.2. readText()"}, {"refs": [{"id": "ref-for-in-parallel\u2461"}], "title": "7.3.3. write(data)"}, {"refs": [{"id": "ref-for-in-parallel\u2462"}], "title": "7.3.4. writeText(data)"}], "external": true};
window.dfnpanelData['50eecf1d'] = {"dfnID": "50eecf1d", "url": "https://html.spec.whatwg.org/multipage/dnd.html#dom-datatransfer-items", "dfnText": "items", "refSections": [{"refs": [{"id": "ref-for-dom-datatransfer-items"}], "title": "5.1. Clipboard event interfaces"}, {"refs": [{"id": "ref-for-dom-datatransfer-items\u2460"}], "title": "6. Clipboard Event API"}, {"refs": [{"id": "ref-for-dom-datatransfer-items\u2461"}, {"id": "ref-for-dom-datatransfer-items\u2462"}, {"id": "ref-for-dom-datatransfer-items\u2463"}, {"id": "ref-for-dom-datatransfer-items\u2464"}, {"id": "ref-for-dom-datatransfer-items\u2465"}, {"id": "ref-for-dom-datatransfer-items\u2466"}], "title": "fire a clipboard event"}, {"refs": [{"id": "ref-for-dom-datatransfer-items\u2467"}, {"id": "ref-for-dom-datatransfer-items\u2468"}, {"id": "ref-for-dom-datatransfer-items\u2460\u24ea"}], "title": "process an HTML paste event"}], "external": true};
window.dfnpanelData['48438eb3'] = {"dfnID": "48438eb3", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-global-task", "dfnText": "queue a global task", "refSections": [{"refs": [{"id": "ref-for-queue-a-global-task"}, {"id": "ref-for-queue-a-global-task\u2460"}], "title": "7.3.1. read()"}, {"refs": [{"id": "ref-for-queue-a-global-task\u2461"}, {"id": "ref-for-queue-a-global-task\u2462"}], "title": "7.3.2. readText()"}, {"refs": [{"id": "ref-for-queue-a-global-task\u2463"}, {"id": "ref-for-queue-a-global-task\u2464"}], "title": "7.3.3. write(data)"}, {"refs": [{"id": "ref-for-queue-a-global-task\u2465"}, {"id": "ref-for-queue-a-global-task\u2466"}], "title": "7.3.4. writeText(data)"}], "external": true};
window.dfnpanelData['e99bd18e'] = {"dfnID": "e99bd18e", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global", "dfnText": "relevant global object", "refSections": [{"refs": [{"id": "ref-for-concept-relevant-global"}], "title": "9.1.1. check clipboard read permission"}, {"refs": [{"id": "ref-for-concept-relevant-global\u2460"}], "title": "9.2.1. check clipboard write permission"}], "external": true};
window.dfnpanelData['5991ccfb'] = {"dfnID": "5991ccfb", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-realm", "dfnText": "relevant realm", "refSections": [{"refs": [{"id": "ref-for-concept-relevant-realm"}], "title": "7.2.3. getType(type)"}, {"refs": [{"id": "ref-for-concept-relevant-realm\u2460"}], "title": "7.3.1. read()"}, {"refs": [{"id": "ref-for-concept-relevant-realm\u2461"}], "title": "7.3.2. readText()"}, {"refs": [{"id": "ref-for-concept-relevant-realm\u2462"}], "title": "7.3.3. write(data)"}, {"refs": [{"id": "ref-for-concept-relevant-realm\u2463"}], "title": "7.3.4. writeText(data)"}], "external": true};
window.dfnpanelData['beda2316'] = {"dfnID": "beda2316", "url": "https://html.spec.whatwg.org/multipage/dnd.html#dom-datatransfer-setdata", "dfnText": "setData(format, data)", "refSections": [{"refs": [{"id": "ref-for-dom-datatransfer-setdata"}], "title": "6.3. Overriding the paste event"}, {"refs": [{"id": "ref-for-dom-datatransfer-setdata\u2460"}], "title": "write content to the clipboard"}, {"refs": [{"id": "ref-for-dom-datatransfer-setdata\u2461"}, {"id": "ref-for-dom-datatransfer-setdata\u2462"}], "title": "fire a clipboard event"}], "external": true};
window.dfnpanelData['47fe679e'] = {"dfnID": "47fe679e", "url": "https://html.spec.whatwg.org/multipage/interaction.html#transient-activation", "dfnText": "transient activation", "refSections": [{"refs": [{"id": "ref-for-transient-activation"}], "title": "9.1.1. check clipboard read permission"}, {"refs": [{"id": "ref-for-transient-activation\u2460"}], "title": "9.2.1. check clipboard write permission"}], "external": true};
window.dfnpanelData['f3fc35d3'] = {"dfnID": "f3fc35d3", "url": "https://html.spec.whatwg.org/multipage/dnd.html#dom-datatransfer-types", "dfnText": "types", "refSections": [{"refs": [{"id": "ref-for-dom-datatransfer-types"}], "title": "fire a clipboard event"}], "external": true};
window.dfnpanelData['ae8def21'] = {"dfnID": "ae8def21", "url": "https://infra.spec.whatwg.org/#list-contain", "dfnText": "contain", "refSections": [{"refs": [{"id": "ref-for-list-contain"}], "title": "7.2. ClipboardItem Interface"}], "external": true};
window.dfnpanelData['0204d188'] = {"dfnID": "0204d188", "url": "https://infra.spec.whatwg.org/#list-size", "dfnText": "size", "refSections": [{"refs": [{"id": "ref-for-list-size"}], "title": "7.3.3. write(data)"}], "external": true};
window.dfnpanelData['7c195f8b'] = {"dfnID": "7c195f8b", "url": "https://mimesniff.spec.whatwg.org/#mime-type-essence", "dfnText": "essence", "refSections": [{"refs": [{"id": "ref-for-mime-type-essence"}], "title": "7.3.2. readText()"}, {"refs": [{"id": "ref-for-mime-type-essence\u2460"}], "title": "write blobs and option to the clipboard"}, {"refs": [{"id": "ref-for-mime-type-essence\u2461"}, {"id": "ref-for-mime-type-essence\u2462"}, {"id": "ref-for-mime-type-essence\u2463"}], "title": "os specific well-known format"}], "external": true};
window.dfnpanelData['16785ec4'] = {"dfnID": "16785ec4", "url": "https://mimesniff.spec.whatwg.org/#mime-type", "dfnText": "mime type", "refSections": [{"refs": [{"id": "ref-for-mime-type"}, {"id": "ref-for-mime-type\u2460"}, {"id": "ref-for-mime-type\u2461"}], "title": "7.2. ClipboardItem Interface"}, {"refs": [{"id": "ref-for-mime-type\u2462"}], "title": "well-known mime type from os specific format"}], "external": true};
window.dfnpanelData['d72dabca'] = {"dfnID": "d72dabca", "url": "https://mimesniff.spec.whatwg.org/#parse-a-mime-type", "dfnText": "parse a mime type", "refSections": [{"refs": [{"id": "ref-for-parse-a-mime-type"}], "title": "7.2. ClipboardItem Interface"}, {"refs": [{"id": "ref-for-parse-a-mime-type\u2460"}], "title": "7.2.3. getType(type)"}, {"refs": [{"id": "ref-for-parse-a-mime-type\u2461"}], "title": "well-known mime type from os specific format"}, {"refs": [{"id": "ref-for-parse-a-mime-type\u2462"}], "title": "read web custom format"}], "external": true};
window.dfnpanelData['d6e5d5bd'] = {"dfnID": "d6e5d5bd", "url": "https://mimesniff.spec.whatwg.org/#serialize-a-mime-type", "dfnText": "serialize a mime type", "refSections": [{"refs": [{"id": "ref-for-serialize-a-mime-type"}], "title": "7.2. ClipboardItem Interface"}, {"refs": [{"id": "ref-for-serialize-a-mime-type\u2460"}], "title": "7.2.3. getType(type)"}], "external": true};
window.dfnpanelData['ebb01253'] = {"dfnID": "ebb01253", "url": "https://w3c.github.io/permissions/#dom-permissiondescriptor", "dfnText": "PermissionDescriptor", "refSections": [{"refs": [{"id": "ref-for-dom-permissiondescriptor"}], "title": "9. Permissions API Integration"}], "external": true};
window.dfnpanelData['4b7ca52a'] = {"dfnID": "4b7ca52a", "url": "https://w3c.github.io/permissions/#dfn-permission-descriptor-type", "dfnText": "permission descriptor type", "refSections": [{"refs": [{"id": "ref-for-dfn-permission-descriptor-type"}], "title": "9. Permissions API Integration"}], "external": true};
window.dfnpanelData['d124397f'] = {"dfnID": "d124397f", "url": "https://w3c.github.io/permissions/#dfn-permission-state", "dfnText": "permission state", "refSections": [{"refs": [{"id": "ref-for-dfn-permission-state"}], "title": "9.2.1. check clipboard write permission"}], "external": true};
window.dfnpanelData['6c2d7879'] = {"dfnID": "6c2d7879", "url": "https://w3c.github.io/permissions/#dfn-powerful-feature", "dfnText": "powerful feature", "refSections": [{"refs": [{"id": "ref-for-dfn-powerful-feature"}], "title": "1. Introduction"}, {"refs": [{"id": "ref-for-dfn-powerful-feature\u2460"}, {"id": "ref-for-dfn-powerful-feature\u2461"}], "title": "9. Permissions API Integration"}], "external": true};
window.dfnpanelData['bcc085e3'] = {"dfnID": "bcc085e3", "url": "https://w3c.github.io/permissions/#dfn-request-permission-to-use", "dfnText": "request permission to use", "refSections": [{"refs": [{"id": "ref-for-dfn-request-permission-to-use"}, {"id": "ref-for-dfn-request-permission-to-use\u2460"}], "title": "9.2.1. check clipboard write permission"}], "external": true};
window.dfnpanelData['dca2de17'] = {"dfnID": "dca2de17", "url": "https://webidl.spec.whatwg.org/#idl-DOMException", "dfnText": "DOMException", "refSections": [{"refs": [{"id": "ref-for-idl-DOMException"}, {"id": "ref-for-idl-DOMException\u2460"}], "title": "7.2.3. getType(type)"}, {"refs": [{"id": "ref-for-idl-DOMException\u2461"}], "title": "7.3.1. read()"}, {"refs": [{"id": "ref-for-idl-DOMException\u2462"}, {"id": "ref-for-idl-DOMException\u2463"}, {"id": "ref-for-idl-DOMException\u2464"}], "title": "7.3.2. readText()"}, {"refs": [{"id": "ref-for-idl-DOMException\u2465"}, {"id": "ref-for-idl-DOMException\u2466"}, {"id": "ref-for-idl-DOMException\u2467"}], "title": "7.3.3. write(data)"}], "external": true};
window.dfnpanelData['8855a9aa'] = {"dfnID": "8855a9aa", "url": "https://webidl.spec.whatwg.org/#idl-DOMString", "dfnText": "DOMString", "refSections": [{"refs": [{"id": "ref-for-idl-DOMString"}], "title": "5.1. Clipboard event interfaces"}, {"refs": [{"id": "ref-for-idl-DOMString\u2460"}, {"id": "ref-for-idl-DOMString\u2461"}, {"id": "ref-for-idl-DOMString\u2462"}, {"id": "ref-for-idl-DOMString\u2463"}, {"id": "ref-for-idl-DOMString\u2464"}, {"id": "ref-for-idl-DOMString\u2465"}, {"id": "ref-for-idl-DOMString\u2466"}, {"id": "ref-for-idl-DOMString\u2467"}], "title": "7.2. ClipboardItem Interface"}, {"refs": [{"id": "ref-for-idl-DOMString\u2468"}], "title": "7.2.3. getType(type)"}, {"refs": [{"id": "ref-for-idl-DOMString\u2460\u24ea"}, {"id": "ref-for-idl-DOMString\u2460\u2460"}], "title": "7.3. Clipboard Interface"}, {"refs": [{"id": "ref-for-idl-DOMString\u2460\u2461"}], "title": "7.3.2. readText()"}, {"refs": [{"id": "ref-for-idl-DOMString\u2460\u2462"}], "title": "7.3.3. write(data)"}], "external": true};
window.dfnpanelData['889e932f'] = {"dfnID": "889e932f", "url": "https://webidl.spec.whatwg.org/#Exposed", "dfnText": "Exposed", "refSections": [{"refs": [{"id": "ref-for-Exposed"}], "title": "5.1. Clipboard event interfaces"}, {"refs": [{"id": "ref-for-Exposed\u2460"}], "title": "7.2. ClipboardItem Interface"}, {"refs": [{"id": "ref-for-Exposed\u2461"}], "title": "7.3. Clipboard Interface"}], "external": true};
window.dfnpanelData['dcf5fafa'] = {"dfnID": "dcf5fafa", "url": "https://webidl.spec.whatwg.org/#idl-frozen-array", "dfnText": "FrozenArray", "refSections": [{"refs": [{"id": "ref-for-idl-frozen-array"}, {"id": "ref-for-idl-frozen-array\u2460"}], "title": "7.2. ClipboardItem Interface"}], "external": true};
window.dfnpanelData['ba556545'] = {"dfnID": "ba556545", "url": "https://webidl.spec.whatwg.org/#notallowederror", "dfnText": "NotAllowedError", "refSections": [{"refs": [{"id": "ref-for-notallowederror"}], "title": "7.3.1. read()"}, {"refs": [{"id": "ref-for-notallowederror\u2460"}], "title": "7.3.2. readText()"}, {"refs": [{"id": "ref-for-notallowederror\u2461"}, {"id": "ref-for-notallowederror\u2462"}, {"id": "ref-for-notallowederror\u2463"}, {"id": "ref-for-notallowederror\u2464"}], "title": "7.3.3. write(data)"}, {"refs": [{"id": "ref-for-notallowederror\u2465"}], "title": "7.3.4. writeText(data)"}], "external": true};
window.dfnpanelData['9eda9b58'] = {"dfnID": "9eda9b58", "url": "https://webidl.spec.whatwg.org/#notfounderror", "dfnText": "NotFoundError", "refSections": [{"refs": [{"id": "ref-for-notfounderror"}, {"id": "ref-for-notfounderror\u2460"}], "title": "7.2.3. getType(type)"}, {"refs": [{"id": "ref-for-notfounderror\u2461"}, {"id": "ref-for-notfounderror\u2462"}], "title": "7.3.2. readText()"}], "external": true};
window.dfnpanelData['bdbd19d1'] = {"dfnID": "bdbd19d1", "url": "https://webidl.spec.whatwg.org/#idl-promise", "dfnText": "Promise", "refSections": [{"refs": [{"id": "ref-for-idl-promise"}, {"id": "ref-for-idl-promise\u2460"}], "title": "7.2. ClipboardItem Interface"}, {"refs": [{"id": "ref-for-idl-promise\u2461"}, {"id": "ref-for-idl-promise\u2462"}, {"id": "ref-for-idl-promise\u2463"}, {"id": "ref-for-idl-promise\u2464"}], "title": "7.3. Clipboard Interface"}], "external": true};
window.dfnpanelData['a5c91173'] = {"dfnID": "a5c91173", "url": "https://webidl.spec.whatwg.org/#SameObject", "dfnText": "SameObject", "refSections": [{"refs": [{"id": "ref-for-SameObject"}], "title": "7.1. Navigator Interface"}], "external": true};
window.dfnpanelData['b75bb3bd'] = {"dfnID": "b75bb3bd", "url": "https://webidl.spec.whatwg.org/#SecureContext", "dfnText": "SecureContext", "refSections": [{"refs": [{"id": "ref-for-SecureContext"}], "title": "7.1. Navigator Interface"}, {"refs": [{"id": "ref-for-SecureContext\u2460"}], "title": "7.2. ClipboardItem Interface"}, {"refs": [{"id": "ref-for-SecureContext\u2461"}], "title": "7.3. Clipboard Interface"}], "external": true};
window.dfnpanelData['82ca3efc'] = {"dfnID": "82ca3efc", "url": "https://webidl.spec.whatwg.org/#exceptiondef-typeerror", "dfnText": "TypeError", "refSections": [{"refs": [{"id": "ref-for-exceptiondef-typeerror"}, {"id": "ref-for-exceptiondef-typeerror\u2460"}, {"id": "ref-for-exceptiondef-typeerror\u2461"}], "title": "7.2. ClipboardItem Interface"}, {"refs": [{"id": "ref-for-exceptiondef-typeerror\u2462"}], "title": "7.2.3. getType(type)"}], "external": true};
window.dfnpanelData['dacde8b5'] = {"dfnID": "dacde8b5", "url": "https://webidl.spec.whatwg.org/#a-new-promise", "dfnText": "a new promise", "refSections": [{"refs": [{"id": "ref-for-a-new-promise"}], "title": "7.2.3. getType(type)"}, {"refs": [{"id": "ref-for-a-new-promise\u2460"}], "title": "7.3.1. read()"}, {"refs": [{"id": "ref-for-a-new-promise\u2461"}], "title": "7.3.2. readText()"}, {"refs": [{"id": "ref-for-a-new-promise\u2462"}], "title": "7.3.3. write(data)"}, {"refs": [{"id": "ref-for-a-new-promise\u2463"}], "title": "7.3.4. writeText(data)"}], "external": true};
window.dfnpanelData['5372cca8'] = {"dfnID": "5372cca8", "url": "https://webidl.spec.whatwg.org/#idl-boolean", "dfnText": "boolean", "refSections": [{"refs": [{"id": "ref-for-idl-boolean"}], "title": "7.2. ClipboardItem Interface"}, {"refs": [{"id": "ref-for-idl-boolean\u2460"}], "title": "9. Permissions API Integration"}], "external": true};
window.dfnpanelData['1641b9ef'] = {"dfnID": "1641b9ef", "url": "https://webidl.spec.whatwg.org/#dfn-create-frozen-array", "dfnText": "create a frozen array", "refSections": [{"refs": [{"id": "ref-for-dfn-create-frozen-array"}], "title": "7.2. ClipboardItem Interface"}], "external": true};
window.dfnpanelData['56f81a8e'] = {"dfnID": "56f81a8e", "url": "https://webidl.spec.whatwg.org/#new", "dfnText": "new", "refSections": [{"refs": [{"id": "ref-for-new"}], "title": "7.2. ClipboardItem Interface"}], "external": true};
window.dfnpanelData['750a2f08'] = {"dfnID": "750a2f08", "url": "https://webidl.spec.whatwg.org/#dfn-perform-steps-once-promise-is-settled", "dfnText": "react", "refSections": [{"refs": [{"id": "ref-for-dfn-perform-steps-once-promise-is-settled"}], "title": "7.2.3. getType(type)"}, {"refs": [{"id": "ref-for-dfn-perform-steps-once-promise-is-settled\u2460"}], "title": "7.3.2. readText()"}, {"refs": [{"id": "ref-for-dfn-perform-steps-once-promise-is-settled\u2461"}], "title": "7.3.3. write(data)"}], "external": true};
window.dfnpanelData['7787d359'] = {"dfnID": "7787d359", "url": "https://webidl.spec.whatwg.org/#idl-record", "dfnText": "record", "refSections": [{"refs": [{"id": "ref-for-idl-record"}], "title": "7.2. ClipboardItem Interface"}], "external": true};
window.dfnpanelData['b262501e'] = {"dfnID": "b262501e", "url": "https://webidl.spec.whatwg.org/#reject", "dfnText": "reject", "refSections": [{"refs": [{"id": "ref-for-reject"}, {"id": "ref-for-reject\u2460"}], "title": "7.2.3. getType(type)"}, {"refs": [{"id": "ref-for-reject\u2461"}], "title": "7.3.1. read()"}, {"refs": [{"id": "ref-for-reject\u2462"}, {"id": "ref-for-reject\u2463"}, {"id": "ref-for-reject\u2464"}], "title": "7.3.2. readText()"}, {"refs": [{"id": "ref-for-reject\u2465"}, {"id": "ref-for-reject\u2466"}, {"id": "ref-for-reject\u2467"}, {"id": "ref-for-reject\u2468"}], "title": "7.3.3. write(data)"}, {"refs": [{"id": "ref-for-reject\u2460\u24ea"}], "title": "7.3.4. writeText(data)"}], "external": true};
window.dfnpanelData['9cce47fd'] = {"dfnID": "9cce47fd", "url": "https://webidl.spec.whatwg.org/#idl-sequence", "dfnText": "sequence", "refSections": [{"refs": [{"id": "ref-for-idl-sequence"}, {"id": "ref-for-idl-sequence\u2460"}], "title": "7.3. Clipboard Interface"}, {"refs": [{"id": "ref-for-idl-sequence\u2461"}, {"id": "ref-for-idl-sequence\u2462"}], "title": "7.3.1. read()"}, {"refs": [{"id": "ref-for-idl-sequence\u2463"}, {"id": "ref-for-idl-sequence\u2464"}], "title": "7.3.3. write(data)"}, {"refs": [{"id": "ref-for-idl-sequence\u2465"}], "title": "7.3.4. writeText(data)"}, {"refs": [{"id": "ref-for-idl-sequence\u2466"}, {"id": "ref-for-idl-sequence\u2467"}], "title": "write blobs and option to the clipboard"}, {"refs": [{"id": "ref-for-idl-sequence\u2468"}], "title": "write web custom formats"}], "external": true};
window.dfnpanelData['4013a022'] = {"dfnID": "4013a022", "url": "https://webidl.spec.whatwg.org/#this", "dfnText": "this", "refSections": [{"refs": [{"id": "ref-for-this"}], "title": "7.1.1. clipboard"}, {"refs": [{"id": "ref-for-this\u2460"}, {"id": "ref-for-this\u2461"}, {"id": "ref-for-this\u2462"}, {"id": "ref-for-this\u2463"}, {"id": "ref-for-this\u2464"}], "title": "7.2. ClipboardItem Interface"}, {"refs": [{"id": "ref-for-this\u2465"}], "title": "7.2.1. presentationStyle"}, {"refs": [{"id": "ref-for-this\u2466"}], "title": "7.2.2. types"}, {"refs": [{"id": "ref-for-this\u2467"}, {"id": "ref-for-this\u2468"}], "title": "7.2.3. getType(type)"}, {"refs": [{"id": "ref-for-this\u2460\u24ea"}], "title": "7.3.1. read()"}, {"refs": [{"id": "ref-for-this\u2460\u2460"}], "title": "7.3.2. readText()"}, {"refs": [{"id": "ref-for-this\u2460\u2461"}], "title": "7.3.3. write(data)"}, {"refs": [{"id": "ref-for-this\u2460\u2462"}], "title": "7.3.4. writeText(data)"}, {"refs": [{"id": "ref-for-this\u2460\u2463"}], "title": "9.1.1. check clipboard read permission"}, {"refs": [{"id": "ref-for-this\u2460\u2464"}], "title": "9.2.1. check clipboard write permission"}], "external": true};
window.dfnpanelData['5f90bbfb'] = {"dfnID": "5f90bbfb", "url": "https://webidl.spec.whatwg.org/#idl-undefined", "dfnText": "undefined", "refSections": [{"refs": [{"id": "ref-for-idl-undefined"}, {"id": "ref-for-idl-undefined\u2460"}], "title": "7.3. Clipboard Interface"}], "external": true};
window.dfnpanelData['editable-context'] = {"dfnID": "editable-context", "url": "#editable-context", "dfnText": "editable context", "refSections": [{"refs": [{"id": "ref-for-editable-context"}, {"id": "ref-for-editable-context\u2460"}], "title": "5.2.3. The cut event"}, {"refs": [{"id": "ref-for-editable-context\u2461"}, {"id": "ref-for-editable-context\u2462"}], "title": "5.2.4. The paste event"}, {"refs": [{"id": "ref-for-editable-context\u2463"}], "title": "8.2. The cut action"}, {"refs": [{"id": "ref-for-editable-context\u2464"}], "title": "8.3. The paste action"}], "external": false};
window.dfnpanelData['system-clipboard'] = {"dfnID": "system-clipboard", "url": "#system-clipboard", "dfnText": "system clipboard", "refSections": [{"refs": [{"id": "ref-for-system-clipboard"}], "title": "4. Model"}, {"refs": [{"id": "ref-for-system-clipboard\u2460"}, {"id": "ref-for-system-clipboard\u2461"}], "title": "5.2.1. The clipboardchange event"}, {"refs": [{"id": "ref-for-system-clipboard\u2462"}, {"id": "ref-for-system-clipboard\u2463"}], "title": "5.2.2. The copy event"}, {"refs": [{"id": "ref-for-system-clipboard\u2464"}, {"id": "ref-for-system-clipboard\u2465"}], "title": "5.2.3. The cut event"}, {"refs": [{"id": "ref-for-system-clipboard\u2466"}], "title": "6.1. Overriding the copy event"}, {"refs": [{"id": "ref-for-system-clipboard\u2467"}], "title": "6.2. Overriding the cut event"}, {"refs": [{"id": "ref-for-system-clipboard\u2468"}], "title": "6.3. Overriding the paste event"}, {"refs": [{"id": "ref-for-system-clipboard\u2460\u24ea"}], "title": "7.1.1. clipboard"}, {"refs": [{"id": "ref-for-system-clipboard\u2460\u2460"}, {"id": "ref-for-system-clipboard\u2460\u2461"}, {"id": "ref-for-system-clipboard\u2460\u2462"}], "title": "7.2. ClipboardItem Interface"}, {"refs": [{"id": "ref-for-system-clipboard\u2460\u2463"}], "title": "7.3. Clipboard Interface"}, {"refs": [{"id": "ref-for-system-clipboard\u2460\u2464"}], "title": "7.3.3. write(data)"}, {"refs": [{"id": "ref-for-system-clipboard\u2460\u2465"}], "title": "write blobs and option to the clipboard"}, {"refs": [{"id": "ref-for-system-clipboard\u2460\u2466"}, {"id": "ref-for-system-clipboard\u2460\u2467"}, {"id": "ref-for-system-clipboard\u2460\u2468"}], "title": "read web custom format"}, {"refs": [{"id": "ref-for-system-clipboard\u2461\u24ea"}, {"id": "ref-for-system-clipboard\u2461\u2460"}], "title": "write web custom formats"}], "external": false};
window.dfnpanelData['system-clipboard-data'] = {"dfnID": "system-clipboard-data", "url": "#system-clipboard-data", "dfnText": "system clipboard data", "refSections": [{"refs": [{"id": "ref-for-system-clipboard-data"}, {"id": "ref-for-system-clipboard-data\u2460"}], "title": "7.3. Clipboard Interface"}, {"refs": [{"id": "ref-for-system-clipboard-data\u2461"}], "title": "7.3.1. read()"}, {"refs": [{"id": "ref-for-system-clipboard-data\u2462"}], "title": "7.3.2. readText()"}], "external": false};
window.dfnpanelData['system-clipboard-item'] = {"dfnID": "system-clipboard-item", "url": "#system-clipboard-item", "dfnText": "system clipboard item", "refSections": [{"refs": [{"id": "ref-for-system-clipboard-item"}], "title": "4. Model"}], "external": false};
window.dfnpanelData['system-clipboard-representation'] = {"dfnID": "system-clipboard-representation", "url": "#system-clipboard-representation", "dfnText": "system clipboard representation", "refSections": [{"refs": [{"id": "ref-for-system-clipboard-representation"}], "title": "4. Model"}], "external": false};
window.dfnpanelData['system-clipboard-representation-name'] = {"dfnID": "system-clipboard-representation-name", "url": "#system-clipboard-representation-name", "dfnText": "name", "refSections": [{"refs": [{"id": "ref-for-system-clipboard-representation-name"}], "title": "7.3.1. read()"}, {"refs": [{"id": "ref-for-system-clipboard-representation-name\u2460"}], "title": "7.3.2. readText()"}], "external": false};
window.dfnpanelData['system-clipboard-representation-data'] = {"dfnID": "system-clipboard-representation-data", "url": "#system-clipboard-representation-data", "dfnText": "data", "refSections": [{"refs": [{"id": "ref-for-system-clipboard-representation-data"}], "title": "7.3.1. read()"}], "external": false};
window.dfnpanelData['dictdef-clipboardeventinit'] = {"dfnID": "dictdef-clipboardeventinit", "url": "#dictdef-clipboardeventinit", "dfnText": "ClipboardEventInit", "refSections": [{"refs": [{"id": "ref-for-dictdef-clipboardeventinit"}], "title": "5.1. Clipboard event interfaces"}], "external": false};
window.dfnpanelData['clipboardevent'] = {"dfnID": "clipboardevent", "url": "#clipboardevent", "dfnText": "ClipboardEvent", "refSections": [{"refs": [{"id": "ref-for-clipboardevent"}, {"id": "ref-for-clipboardevent\u2460"}], "title": "6. Clipboard Event API"}, {"refs": [{"id": "ref-for-clipboardevent\u2461"}], "title": "6.1. Overriding the copy event"}, {"refs": [{"id": "ref-for-clipboardevent\u2462"}], "title": "6.2. Overriding the cut event"}, {"refs": [{"id": "ref-for-clipboardevent\u2463"}, {"id": "ref-for-clipboardevent\u2464"}], "title": "fire a clipboard event"}], "external": false};
window.dfnpanelData['dom-clipboardevent-clipboarddata'] = {"dfnID": "dom-clipboardevent-clipboarddata", "url": "#dom-clipboardevent-clipboarddata", "dfnText": "clipboardData", "refSections": [{"refs": [{"id": "ref-for-dom-clipboardevent-clipboarddata"}], "title": "5.2.3. The cut event"}, {"refs": [{"id": "ref-for-dom-clipboardevent-clipboarddata\u2460"}], "title": "6. Clipboard Event API"}, {"refs": [{"id": "ref-for-dom-clipboardevent-clipboarddata\u2461"}], "title": "6.1. Overriding the copy event"}, {"refs": [{"id": "ref-for-dom-clipboardevent-clipboarddata\u2462"}], "title": "6.2. Overriding the cut event"}, {"refs": [{"id": "ref-for-dom-clipboardevent-clipboarddata\u2463"}], "title": "fire a clipboard event"}], "external": false};
window.dfnpanelData['eventdef-documentandelementeventhandlers-clipboardchange'] = {"dfnID": "eventdef-documentandelementeventhandlers-clipboardchange", "url": "#eventdef-documentandelementeventhandlers-clipboardchange", "dfnText": "clipboardchange", "refSections": [{"refs": [{"id": "ref-for-eventdef-documentandelementeventhandlers-clipboardchange"}], "title": "2.2. Remote Clipboard Synchronization"}, {"refs": [{"id": "ref-for-eventdef-documentandelementeventhandlers-clipboardchange\u2460"}, {"id": "ref-for-eventdef-documentandelementeventhandlers-clipboardchange\u2461"}], "title": "5.2.1. The clipboardchange event"}, {"refs": [{"id": "ref-for-eventdef-documentandelementeventhandlers-clipboardchange\u2462"}], "title": "8.1. The copy action"}, {"refs": [{"id": "ref-for-eventdef-documentandelementeventhandlers-clipboardchange\u2463"}, {"id": "ref-for-eventdef-documentandelementeventhandlers-clipboardchange\u2464"}], "title": "8.2. The cut action"}], "external": false};
window.dfnpanelData['eventdef-documentandelementeventhandlers-copy'] = {"dfnID": "eventdef-documentandelementeventhandlers-copy", "url": "#eventdef-documentandelementeventhandlers-copy", "dfnText": "copy", "refSections": [{"refs": [{"id": "ref-for-eventdef-documentandelementeventhandlers-copy"}], "title": "5.2.1. The clipboardchange event"}, {"refs": [{"id": "ref-for-eventdef-documentandelementeventhandlers-copy\u2460"}, {"id": "ref-for-eventdef-documentandelementeventhandlers-copy\u2461"}, {"id": "ref-for-eventdef-documentandelementeventhandlers-copy\u2462"}], "title": "5.2.2. The copy event"}, {"refs": [{"id": "ref-for-eventdef-documentandelementeventhandlers-copy\u2463"}], "title": "5.3.1. Event handlers that are allowed to modify the clipboard"}, {"refs": [{"id": "ref-for-eventdef-documentandelementeventhandlers-copy\u2464"}, {"id": "ref-for-eventdef-documentandelementeventhandlers-copy\u2465"}], "title": "6.1. Overriding the copy event"}, {"refs": [{"id": "ref-for-eventdef-documentandelementeventhandlers-copy\u2466"}], "title": "8.1. The copy action"}], "external": false};
window.dfnpanelData['eventdef-documentandelementeventhandlers-cut'] = {"dfnID": "eventdef-documentandelementeventhandlers-cut", "url": "#eventdef-documentandelementeventhandlers-cut", "dfnText": "cut", "refSections": [{"refs": [{"id": "ref-for-eventdef-documentandelementeventhandlers-cut"}], "title": "5.2.1. The clipboardchange event"}, {"refs": [{"id": "ref-for-eventdef-documentandelementeventhandlers-cut\u2460"}, {"id": "ref-for-eventdef-documentandelementeventhandlers-cut\u2461"}, {"id": "ref-for-eventdef-documentandelementeventhandlers-cut\u2462"}, {"id": "ref-for-eventdef-documentandelementeventhandlers-cut\u2463"}, {"id": "ref-for-eventdef-documentandelementeventhandlers-cut\u2464"}], "title": "5.2.3. The cut event"}, {"refs": [{"id": "ref-for-eventdef-documentandelementeventhandlers-cut\u2465"}], "title": "5.3.1. Event handlers that are allowed to modify the clipboard"}, {"refs": [{"id": "ref-for-eventdef-documentandelementeventhandlers-cut\u2466"}, {"id": "ref-for-eventdef-documentandelementeventhandlers-cut\u2467"}, {"id": "ref-for-eventdef-documentandelementeventhandlers-cut\u2468"}], "title": "6.2. Overriding the cut event"}, {"refs": [{"id": "ref-for-eventdef-documentandelementeventhandlers-cut\u2460\u24ea"}], "title": "8.2. The cut action"}], "external": false};
window.dfnpanelData['eventdef-documentandelementeventhandlers-paste'] = {"dfnID": "eventdef-documentandelementeventhandlers-paste", "url": "#eventdef-documentandelementeventhandlers-paste", "dfnText": "paste", "refSections": [{"refs": [{"id": "ref-for-eventdef-documentandelementeventhandlers-paste"}, {"id": "ref-for-eventdef-documentandelementeventhandlers-paste\u2460"}, {"id": "ref-for-eventdef-documentandelementeventhandlers-paste\u2461"}, {"id": "ref-for-eventdef-documentandelementeventhandlers-paste\u2462"}], "title": "5.2.4. The paste event"}, {"refs": [{"id": "ref-for-eventdef-documentandelementeventhandlers-paste\u2463"}], "title": "5.3.2. Event handlers that are allowed to read from clipboard"}, {"refs": [{"id": "ref-for-eventdef-documentandelementeventhandlers-paste\u2464"}, {"id": "ref-for-eventdef-documentandelementeventhandlers-paste\u2465"}, {"id": "ref-for-eventdef-documentandelementeventhandlers-paste\u2466"}, {"id": "ref-for-eventdef-documentandelementeventhandlers-paste\u2467"}], "title": "6.3. Overriding the paste event"}, {"refs": [{"id": "ref-for-eventdef-documentandelementeventhandlers-paste\u2468"}], "title": "8.3. The paste action"}], "external": false};
window.dfnpanelData['allowed-to-modify-the-clipboard'] = {"dfnID": "allowed-to-modify-the-clipboard", "url": "#allowed-to-modify-the-clipboard", "dfnText": "allowed to modify the clipboard", "refSections": [{"refs": [{"id": "ref-for-allowed-to-modify-the-clipboard"}], "title": "8. Clipboard Actions"}], "external": false};
window.dfnpanelData['allowed-to-read-from-clipboard'] = {"dfnID": "allowed-to-read-from-clipboard", "url": "#allowed-to-read-from-clipboard", "dfnText": "allowed to read from clipboard", "refSections": [{"refs": [{"id": "ref-for-allowed-to-read-from-clipboard"}], "title": "8. Clipboard Actions"}], "external": false};
window.dfnpanelData['mandatory-data-types'] = {"dfnID": "mandatory-data-types", "url": "#mandatory-data-types", "dfnText": "Mandatory data types", "refSections": [{"refs": [{"id": "ref-for-mandatory-data-types"}], "title": "5.1. Clipboard event interfaces"}, {"refs": [{"id": "ref-for-mandatory-data-types\u2460"}], "title": "7.2. ClipboardItem Interface"}, {"refs": [{"id": "ref-for-mandatory-data-types\u2461"}], "title": "7.2.4. supports(type)"}, {"refs": [{"id": "ref-for-mandatory-data-types\u2462"}], "title": "7.3.3. write(data)"}, {"refs": [{"id": "ref-for-mandatory-data-types\u2463"}, {"id": "ref-for-mandatory-data-types\u2464"}], "title": "write content to the clipboard"}, {"refs": [{"id": "ref-for-mandatory-data-types\u2465"}], "title": "fire a clipboard event"}], "external": false};
window.dfnpanelData['optional-data-types'] = {"dfnID": "optional-data-types", "url": "#optional-data-types", "dfnText": "Optional data types", "refSections": [{"refs": [{"id": "ref-for-optional-data-types"}], "title": "7.2. ClipboardItem Interface"}, {"refs": [{"id": "ref-for-optional-data-types\u2460"}], "title": "7.2.4. supports(type)"}, {"refs": [{"id": "ref-for-optional-data-types\u2461"}], "title": "7.3.3. write(data)"}], "external": false};
window.dfnpanelData['dom-navigator-clipboard'] = {"dfnID": "dom-navigator-clipboard", "url": "#dom-navigator-clipboard", "dfnText": "clipboard", "refSections": [{"refs": [{"id": "ref-for-dom-navigator-clipboard"}], "title": "7.1.1. clipboard"}], "external": false};
window.dfnpanelData['navigator-clipboard'] = {"dfnID": "navigator-clipboard", "url": "#navigator-clipboard", "dfnText": "clipboard", "refSections": [{"refs": [{"id": "ref-for-navigator-clipboard"}], "title": "7.1.1. clipboard"}, {"refs": [{"id": "ref-for-navigator-clipboard\u2460"}], "title": "7.2. ClipboardItem Interface"}], "external": false};
window.dfnpanelData['typedefdef-clipboarditemdata'] = {"dfnID": "typedefdef-clipboarditemdata", "url": "#typedefdef-clipboarditemdata", "dfnText": "ClipboardItemData", "refSections": [{"refs": [{"id": "ref-for-typedefdef-clipboarditemdata"}, {"id": "ref-for-typedefdef-clipboarditemdata\u2460"}], "title": "7.2. ClipboardItem Interface"}], "external": false};
window.dfnpanelData['clipboarditem'] = {"dfnID": "clipboarditem", "url": "#clipboarditem", "dfnText": "ClipboardItem", "refSections": [{"refs": [{"id": "ref-for-clipboarditem"}], "title": "6.4. Mandatory data types"}, {"refs": [{"id": "ref-for-clipboarditem\u2460"}], "title": "6.5. Optional data types"}, {"refs": [{"id": "ref-for-clipboarditem\u2461"}, {"id": "ref-for-clipboarditem\u2462"}, {"id": "ref-for-clipboarditem\u2463"}, {"id": "ref-for-clipboarditem\u2464"}, {"id": "ref-for-clipboarditem\u2465"}, {"id": "ref-for-clipboarditem\u2466"}], "title": "7.2. ClipboardItem Interface"}, {"refs": [{"id": "ref-for-clipboarditem\u2467"}, {"id": "ref-for-clipboarditem\u2468"}, {"id": "ref-for-clipboarditem\u2460\u24ea"}, {"id": "ref-for-clipboarditem\u2460\u2460"}], "title": "7.3. Clipboard Interface"}, {"refs": [{"id": "ref-for-clipboarditem\u2460\u2461"}], "title": "7.3.1. read()"}, {"refs": [{"id": "ref-for-clipboarditem\u2460\u2462"}], "title": "7.3.3. write(data)"}], "external": false};
window.dfnpanelData['enumdef-presentationstyle'] = {"dfnID": "enumdef-presentationstyle", "url": "#enumdef-presentationstyle", "dfnText": "PresentationStyle", "refSections": [{"refs": [{"id": "ref-for-enumdef-presentationstyle"}, {"id": "ref-for-enumdef-presentationstyle\u2460"}, {"id": "ref-for-enumdef-presentationstyle\u2461"}], "title": "7.2. ClipboardItem Interface"}], "external": false};
window.dfnpanelData['dictdef-clipboarditemoptions'] = {"dfnID": "dictdef-clipboarditemoptions", "url": "#dictdef-clipboarditemoptions", "dfnText": "ClipboardItemOptions", "refSections": [{"refs": [{"id": "ref-for-dictdef-clipboarditemoptions"}, {"id": "ref-for-dictdef-clipboarditemoptions\u2460"}], "title": "7.2. ClipboardItem Interface"}], "external": false};
window.dfnpanelData['dom-clipboarditemoptions-presentationstyle'] = {"dfnID": "dom-clipboarditemoptions-presentationstyle", "url": "#dom-clipboarditemoptions-presentationstyle", "dfnText": "presentationStyle", "refSections": [{"refs": [{"id": "ref-for-dom-clipboarditemoptions-presentationstyle"}], "title": "7.2. ClipboardItem Interface"}], "external": false};
window.dfnpanelData['clipboard-item'] = {"dfnID": "clipboard-item", "url": "#clipboard-item", "dfnText": "clipboard item", "refSections": [{"refs": [{"id": "ref-for-clipboard-item"}, {"id": "ref-for-clipboard-item\u2460"}, {"id": "ref-for-clipboard-item\u2461"}, {"id": "ref-for-clipboard-item\u2462"}, {"id": "ref-for-clipboard-item\u2463"}, {"id": "ref-for-clipboard-item\u2464"}, {"id": "ref-for-clipboard-item\u2465"}, {"id": "ref-for-clipboard-item\u2466"}, {"id": "ref-for-clipboard-item\u2467"}, {"id": "ref-for-clipboard-item\u2468"}, {"id": "ref-for-clipboard-item\u2460\u24ea"}, {"id": "ref-for-clipboard-item\u2460\u2460"}, {"id": "ref-for-clipboard-item\u2460\u2461"}, {"id": "ref-for-clipboard-item\u2460\u2462"}, {"id": "ref-for-clipboard-item\u2460\u2463"}, {"id": "ref-for-clipboard-item\u2460\u2464"}, {"id": "ref-for-clipboard-item\u2460\u2465"}, {"id": "ref-for-clipboard-item\u2460\u2466"}, {"id": "ref-for-clipboard-item\u2460\u2467"}, {"id": "ref-for-clipboard-item\u2460\u2468"}, {"id": "ref-for-clipboard-item\u2461\u24ea"}, {"id": "ref-for-clipboard-item\u2461\u2460"}], "title": "7.2. ClipboardItem Interface"}, {"refs": [{"id": "ref-for-clipboard-item\u2461\u2461"}, {"id": "ref-for-clipboard-item\u2461\u2462"}], "title": "7.3. Clipboard Interface"}, {"refs": [{"id": "ref-for-clipboard-item\u2461\u2463"}, {"id": "ref-for-clipboard-item\u2461\u2464"}, {"id": "ref-for-clipboard-item\u2461\u2465"}, {"id": "ref-for-clipboard-item\u2461\u2466"}], "title": "7.3.1. read()"}, {"refs": [{"id": "ref-for-clipboard-item\u2461\u2467"}], "title": "read web custom format"}], "external": false};
window.dfnpanelData['list-of-representations'] = {"dfnID": "list-of-representations", "url": "#list-of-representations", "dfnText": "list of representations", "refSections": [{"refs": [{"id": "ref-for-list-of-representations"}, {"id": "ref-for-list-of-representations\u2460"}, {"id": "ref-for-list-of-representations\u2461"}], "title": "7.2. ClipboardItem Interface"}, {"refs": [{"id": "ref-for-list-of-representations\u2462"}], "title": "7.2.3. getType(type)"}, {"refs": [{"id": "ref-for-list-of-representations\u2463"}, {"id": "ref-for-list-of-representations\u2464"}, {"id": "ref-for-list-of-representations\u2465"}], "title": "7.3.1. read()"}, {"refs": [{"id": "ref-for-list-of-representations\u2466"}], "title": "7.3.3. write(data)"}, {"refs": [{"id": "ref-for-list-of-representations\u2467"}], "title": "read web custom format"}], "external": false};
window.dfnpanelData['representation'] = {"dfnID": "representation", "url": "#representation", "dfnText": "representation", "refSections": [{"refs": [{"id": "ref-for-representation"}, {"id": "ref-for-representation\u2460"}, {"id": "ref-for-representation\u2461"}, {"id": "ref-for-representation\u2462"}, {"id": "ref-for-representation\u2463"}, {"id": "ref-for-representation\u2464"}], "title": "7.2. ClipboardItem Interface"}, {"refs": [{"id": "ref-for-representation\u2465"}], "title": "7.3.1. read()"}, {"refs": [{"id": "ref-for-representation\u2466"}], "title": "7.3.2. readText()"}, {"refs": [{"id": "ref-for-representation\u2467"}], "title": "read web custom format"}], "external": false};
window.dfnpanelData['representation-mime-type'] = {"dfnID": "representation-mime-type", "url": "#representation-mime-type", "dfnText": "mime type", "refSections": [{"refs": [{"id": "ref-for-representation-mime-type"}, {"id": "ref-for-representation-mime-type\u2460"}, {"id": "ref-for-representation-mime-type\u2461"}, {"id": "ref-for-representation-mime-type\u2462"}, {"id": "ref-for-representation-mime-type\u2463"}, {"id": "ref-for-representation-mime-type\u2464"}], "title": "7.2. ClipboardItem Interface"}, {"refs": [{"id": "ref-for-representation-mime-type\u2465"}], "title": "7.2.3. getType(type)"}, {"refs": [{"id": "ref-for-representation-mime-type\u2466"}, {"id": "ref-for-representation-mime-type\u2467"}], "title": "7.3.1. read()"}, {"refs": [{"id": "ref-for-representation-mime-type\u2468"}, {"id": "ref-for-representation-mime-type\u2460\u24ea"}], "title": "7.3.2. readText()"}, {"refs": [{"id": "ref-for-representation-mime-type\u2460\u2460"}], "title": "7.3.3. write(data)"}, {"refs": [{"id": "ref-for-representation-mime-type\u2460\u2461"}], "title": "read web custom format"}], "external": false};
window.dfnpanelData['representation-iscustom'] = {"dfnID": "representation-iscustom", "url": "#representation-iscustom", "dfnText": "isCustom", "refSections": [{"refs": [{"id": "ref-for-representation-iscustom"}, {"id": "ref-for-representation-iscustom\u2460"}], "title": "7.2. ClipboardItem Interface"}, {"refs": [{"id": "ref-for-representation-iscustom\u2461"}], "title": "7.2.3. getType(type)"}, {"refs": [{"id": "ref-for-representation-iscustom\u2462"}], "title": "read web custom format"}], "external": false};
window.dfnpanelData['representation-data'] = {"dfnID": "representation-data", "url": "#representation-data", "dfnText": "data", "refSections": [{"refs": [{"id": "ref-for-representation-data"}], "title": "7.2. ClipboardItem Interface"}, {"refs": [{"id": "ref-for-representation-data\u2460"}], "title": "7.2.3. getType(type)"}, {"refs": [{"id": "ref-for-representation-data\u2461"}, {"id": "ref-for-representation-data\u2462"}], "title": "7.3.1. read()"}, {"refs": [{"id": "ref-for-representation-data\u2463"}], "title": "7.3.2. readText()"}, {"refs": [{"id": "ref-for-representation-data\u2464"}], "title": "7.3.3. write(data)"}, {"refs": [{"id": "ref-for-representation-data\u2465"}], "title": "read web custom format"}], "external": false};
window.dfnpanelData['web-custom-format'] = {"dfnID": "web-custom-format", "url": "#web-custom-format", "dfnText": "web custom format", "refSections": [{"refs": [{"id": "ref-for-web-custom-format"}], "title": "7.2. ClipboardItem Interface"}], "external": false};
window.dfnpanelData['presentation-style'] = {"dfnID": "presentation-style", "url": "#presentation-style", "dfnText": "presentation style", "refSections": [{"refs": [{"id": "ref-for-presentation-style"}], "title": "7.2. ClipboardItem Interface"}, {"refs": [{"id": "ref-for-presentation-style\u2460"}], "title": "7.2.1. presentationStyle"}, {"refs": [{"id": "ref-for-presentation-style\u2461"}], "title": "7.3.3. write(data)"}, {"refs": [{"id": "ref-for-presentation-style\u2462"}], "title": "write blobs and option to the clipboard"}], "external": false};
window.dfnpanelData['clipboarditem-clipboard-item'] = {"dfnID": "clipboarditem-clipboard-item", "url": "#clipboarditem-clipboard-item", "dfnText": "clipboard item", "refSections": [{"refs": [{"id": "ref-for-clipboarditem-clipboard-item"}, {"id": "ref-for-clipboarditem-clipboard-item\u2460"}, {"id": "ref-for-clipboarditem-clipboard-item\u2461"}, {"id": "ref-for-clipboarditem-clipboard-item\u2462"}], "title": "7.2. ClipboardItem Interface"}, {"refs": [{"id": "ref-for-clipboarditem-clipboard-item\u2463"}], "title": "7.2.1. presentationStyle"}, {"refs": [{"id": "ref-for-clipboarditem-clipboard-item\u2464"}], "title": "7.2.3. getType(type)"}, {"refs": [{"id": "ref-for-clipboarditem-clipboard-item\u2465"}, {"id": "ref-for-clipboarditem-clipboard-item\u2466"}], "title": "7.3.3. write(data)"}, {"refs": [{"id": "ref-for-clipboarditem-clipboard-item\u2467"}], "title": "write blobs and option to the clipboard"}], "external": false};
window.dfnpanelData['clipboarditem-types-array'] = {"dfnID": "clipboarditem-types-array", "url": "#clipboarditem-types-array", "dfnText": "types array", "refSections": [{"refs": [{"id": "ref-for-clipboarditem-types-array"}], "title": "7.2. ClipboardItem Interface"}, {"refs": [{"id": "ref-for-clipboarditem-types-array\u2460"}], "title": "7.2.2. types"}], "external": false};
window.dfnpanelData['create-a-clipboarditem-object'] = {"dfnID": "create-a-clipboarditem-object", "url": "#create-a-clipboarditem-object", "dfnText": "create a ClipboardItem object", "refSections": [{"refs": [{"id": "ref-for-create-a-clipboarditem-object"}], "title": "7.3.1. read()"}], "external": false};
window.dfnpanelData['dom-clipboarditem-clipboarditem'] = {"dfnID": "dom-clipboarditem-clipboarditem", "url": "#dom-clipboarditem-clipboarditem", "dfnText": "new ClipboardItem(items, options)", "refSections": [{"refs": [{"id": "ref-for-dom-clipboarditem-clipboarditem"}], "title": "7.2. ClipboardItem Interface"}], "external": false};
window.dfnpanelData['dom-clipboarditem-presentationstyle'] = {"dfnID": "dom-clipboarditem-presentationstyle", "url": "#dom-clipboarditem-presentationstyle", "dfnText": "7.2.1. presentationStyle", "refSections": [{"refs": [{"id": "ref-for-dom-clipboarditem-presentationstyle"}], "title": "7.2. ClipboardItem Interface"}, {"refs": [{"id": "ref-for-dom-clipboarditem-presentationstyle"}, {"id": "ref-for-dom-clipboarditem-presentationstyle\u2460"}], "title": "7.2.1. presentationStyle"}], "external": false};
window.dfnpanelData['dom-clipboarditem-types'] = {"dfnID": "dom-clipboarditem-types", "url": "#dom-clipboarditem-types", "dfnText": "7.2.2. types", "refSections": [{"refs": [{"id": "ref-for-dom-clipboarditem-types"}], "title": "7.2. ClipboardItem Interface"}, {"refs": [{"id": "ref-for-dom-clipboarditem-types"}, {"id": "ref-for-dom-clipboarditem-types\u2460"}], "title": "7.2.2. types"}], "external": false};
window.dfnpanelData['dom-clipboarditem-gettype'] = {"dfnID": "dom-clipboarditem-gettype", "url": "#dom-clipboarditem-gettype", "dfnText": "7.2.3. getType(type)", "refSections": [{"refs": [{"id": "ref-for-dom-clipboarditem-gettype"}], "title": "7.2. ClipboardItem Interface"}, {"refs": [{"id": "ref-for-dom-clipboarditem-gettype"}], "title": "7.2.3. getType(type)"}], "external": false};
window.dfnpanelData['dom-clipboarditem-supports'] = {"dfnID": "dom-clipboarditem-supports", "url": "#dom-clipboarditem-supports", "dfnText": "7.2.4. supports(type)", "refSections": [{"refs": [{"id": "ref-for-dom-clipboarditem-supports"}], "title": "7.2. ClipboardItem Interface"}, {"refs": [{"id": "ref-for-dom-clipboarditem-supports"}], "title": "7.2.4. supports(type)"}], "external": false};
window.dfnpanelData['typedefdef-clipboarditems'] = {"dfnID": "typedefdef-clipboarditems", "url": "#typedefdef-clipboarditems", "dfnText": "ClipboardItems", "refSections": [{"refs": [{"id": "ref-for-typedefdef-clipboarditems"}, {"id": "ref-for-typedefdef-clipboarditems\u2460"}], "title": "7.3. Clipboard Interface"}], "external": false};
window.dfnpanelData['clipboard'] = {"dfnID": "clipboard", "url": "#clipboard", "dfnText": "Clipboard", "refSections": [{"refs": [{"id": "ref-for-clipboard"}], "title": "7.1. Navigator Interface"}, {"refs": [{"id": "ref-for-clipboard\u2460"}], "title": "7.3. Clipboard Interface"}], "external": false};
window.dfnpanelData['clipboard-items'] = {"dfnID": "clipboard-items", "url": "#clipboard-items", "dfnText": "clipboard items", "refSections": [{"refs": [{"id": "ref-for-clipboard-items"}], "title": "7.3. Clipboard Interface"}], "external": false};
window.dfnpanelData['clipboard-task-source'] = {"dfnID": "clipboard-task-source", "url": "#clipboard-task-source", "dfnText": "clipboard task source", "refSections": [{"refs": [{"id": "ref-for-clipboard-task-source"}], "title": "7.3.1. read()"}, {"refs": [{"id": "ref-for-clipboard-task-source\u2460"}], "title": "7.3.2. readText()"}, {"refs": [{"id": "ref-for-clipboard-task-source\u2461"}], "title": "7.3.3. write(data)"}, {"refs": [{"id": "ref-for-clipboard-task-source\u2462"}], "title": "7.3.4. writeText(data)"}], "external": false};
window.dfnpanelData['dom-clipboard-read'] = {"dfnID": "dom-clipboard-read", "url": "#dom-clipboard-read", "dfnText": "7.3.1. read()", "refSections": [{"refs": [{"id": "ref-for-dom-clipboard-read"}], "title": "2.2. Remote Clipboard Synchronization"}, {"refs": [{"id": "ref-for-dom-clipboard-read\u2460"}, {"id": "ref-for-dom-clipboard-read\u2461"}, {"id": "ref-for-dom-clipboard-read\u2462"}], "title": "7.3. Clipboard Interface"}, {"refs": [{"id": "ref-for-dom-clipboard-read"}, {"id": "ref-for-dom-clipboard-read\u2463"}], "title": "7.3.1. read()"}], "external": false};
window.dfnpanelData['dom-clipboard-readtext'] = {"dfnID": "dom-clipboard-readtext", "url": "#dom-clipboard-readtext", "dfnText": "7.3.2. readText()", "refSections": [{"refs": [{"id": "ref-for-dom-clipboard-readtext"}, {"id": "ref-for-dom-clipboard-readtext\u2460"}], "title": "7.3. Clipboard Interface"}, {"refs": [{"id": "ref-for-dom-clipboard-readtext"}, {"id": "ref-for-dom-clipboard-readtext\u2461"}], "title": "7.3.2. readText()"}], "external": false};
window.dfnpanelData['dom-clipboard-write'] = {"dfnID": "dom-clipboard-write", "url": "#dom-clipboard-write", "dfnText": "7.3.3. write(data)", "refSections": [{"refs": [{"id": "ref-for-dom-clipboard-write"}], "title": "2.2. Remote Clipboard Synchronization"}, {"refs": [{"id": "ref-for-dom-clipboard-write\u2460"}], "title": "7.2. ClipboardItem Interface"}, {"refs": [{"id": "ref-for-dom-clipboard-write\u2461"}, {"id": "ref-for-dom-clipboard-write\u2462"}, {"id": "ref-for-dom-clipboard-write\u2463"}], "title": "7.3. Clipboard Interface"}, {"refs": [{"id": "ref-for-dom-clipboard-write"}, {"id": "ref-for-dom-clipboard-write\u2464"}], "title": "7.3.3. write(data)"}], "external": false};
window.dfnpanelData['dom-clipboard-writetext'] = {"dfnID": "dom-clipboard-writetext", "url": "#dom-clipboard-writetext", "dfnText": "7.3.4. writeText(data)", "refSections": [{"refs": [{"id": "ref-for-dom-clipboard-writetext"}], "title": "7.3. Clipboard Interface"}, {"refs": [{"id": "ref-for-dom-clipboard-writetext"}, {"id": "ref-for-dom-clipboard-writetext\u2460"}], "title": "7.3.4. writeText(data)"}], "external": false};
window.dfnpanelData['script-triggered'] = {"dfnID": "script-triggered", "url": "#script-triggered", "dfnText": "script-triggered", "refSections": [{"refs": [{"id": "ref-for-script-triggered"}, {"id": "ref-for-script-triggered\u2460"}], "title": "8. Clipboard Actions"}, {"refs": [{"id": "ref-for-script-triggered\u2461"}], "title": "8.1. The copy action"}, {"refs": [{"id": "ref-for-script-triggered\u2462"}], "title": "8.2. The cut action"}, {"refs": [{"id": "ref-for-script-triggered\u2463"}], "title": "8.3. The paste action"}], "external": false};
window.dfnpanelData['script-may-access-clipboard'] = {"dfnID": "script-may-access-clipboard", "url": "#script-may-access-clipboard", "dfnText": "script-may-access-clipboard", "refSections": [{"refs": [{"id": "ref-for-script-may-access-clipboard"}, {"id": "ref-for-script-may-access-clipboard\u2460"}, {"id": "ref-for-script-may-access-clipboard\u2461"}], "title": "8. Clipboard Actions"}, {"refs": [{"id": "ref-for-script-may-access-clipboard\u2462"}], "title": "8.1. The copy action"}, {"refs": [{"id": "ref-for-script-may-access-clipboard\u2463"}], "title": "8.2. The cut action"}, {"refs": [{"id": "ref-for-script-may-access-clipboard\u2464"}, {"id": "ref-for-script-may-access-clipboard\u2465"}], "title": "8.3. The paste action"}], "external": false};
window.dfnpanelData['dictdef-clipboardpermissiondescriptor'] = {"dfnID": "dictdef-clipboardpermissiondescriptor", "url": "#dictdef-clipboardpermissiondescriptor", "dfnText": "ClipboardPermissionDescriptor", "refSections": [{"refs": [{"id": "ref-for-dictdef-clipboardpermissiondescriptor"}], "title": "9. Permissions API Integration"}], "external": false};
window.dfnpanelData['check-clipboard-read-permission'] = {"dfnID": "check-clipboard-read-permission", "url": "#check-clipboard-read-permission", "dfnText": "check clipboard read permission", "refSections": [{"refs": [{"id": "ref-for-check-clipboard-read-permission"}], "title": "7.3.1. read()"}, {"refs": [{"id": "ref-for-check-clipboard-read-permission\u2460"}], "title": "7.3.2. readText()"}], "external": false};
window.dfnpanelData['check-clipboard-write-permission'] = {"dfnID": "check-clipboard-write-permission", "url": "#check-clipboard-write-permission", "dfnText": "check clipboard write permission", "refSections": [{"refs": [{"id": "ref-for-check-clipboard-write-permission"}], "title": "7.3.3. write(data)"}, {"refs": [{"id": "ref-for-check-clipboard-write-permission\u2460"}], "title": "7.3.4. writeText(data)"}], "external": false};
window.dfnpanelData['write-content-to-the-clipboard'] = {"dfnID": "write-content-to-the-clipboard", "url": "#write-content-to-the-clipboard", "dfnText": "write content to the clipboard", "refSections": [{"refs": [{"id": "ref-for-write-content-to-the-clipboard"}], "title": "8.1. The copy action"}, {"refs": [{"id": "ref-for-write-content-to-the-clipboard\u2460"}], "title": "8.2. The cut action"}], "external": false};
window.dfnpanelData['write-blobs-and-option-to-the-clipboard'] = {"dfnID": "write-blobs-and-option-to-the-clipboard", "url": "#write-blobs-and-option-to-the-clipboard", "dfnText": "write blobs and option to the clipboard", "refSections": [{"refs": [{"id": "ref-for-write-blobs-and-option-to-the-clipboard"}], "title": "7.3.3. write(data)"}, {"refs": [{"id": "ref-for-write-blobs-and-option-to-the-clipboard\u2460"}], "title": "7.3.4. writeText(data)"}], "external": false};
window.dfnpanelData['os-specific-well-known-format'] = {"dfnID": "os-specific-well-known-format", "url": "#os-specific-well-known-format", "dfnText": "os specific well-known format", "refSections": [{"refs": [{"id": "ref-for-os-specific-well-known-format"}], "title": "write blobs and option to the clipboard"}], "external": false};
window.dfnpanelData['well-known-mime-type-from-os-specific-format'] = {"dfnID": "well-known-mime-type-from-os-specific-format", "url": "#well-known-mime-type-from-os-specific-format", "dfnText": "well-known mime type from os specific format", "refSections": [{"refs": [{"id": "ref-for-well-known-mime-type-from-os-specific-format"}], "title": "7.3.1. read()"}, {"refs": [{"id": "ref-for-well-known-mime-type-from-os-specific-format\u2460"}], "title": "7.3.2. readText()"}], "external": false};
window.dfnpanelData['read-web-custom-format'] = {"dfnID": "read-web-custom-format", "url": "#read-web-custom-format", "dfnText": "read web custom format", "refSections": [{"refs": [{"id": "ref-for-read-web-custom-format"}, {"id": "ref-for-read-web-custom-format\u2460"}], "title": "7.3.1. read()"}], "external": false};
window.dfnpanelData['write-web-custom-formats'] = {"dfnID": "write-web-custom-formats", "url": "#write-web-custom-formats", "dfnText": "write web custom formats", "refSections": [{"refs": [{"id": "ref-for-write-web-custom-formats"}], "title": "write blobs and option to the clipboard"}], "external": false};
window.dfnpanelData['os-specific-custom-map-name'] = {"dfnID": "os-specific-custom-map-name", "url": "#os-specific-custom-map-name", "dfnText": "os specific custom map name", "refSections": [{"refs": [{"id": "ref-for-os-specific-custom-map-name"}], "title": "read web custom format"}, {"refs": [{"id": "ref-for-os-specific-custom-map-name\u2460"}], "title": "write web custom formats"}], "external": false};
window.dfnpanelData['os-specific-custom-name'] = {"dfnID": "os-specific-custom-name", "url": "#os-specific-custom-name", "dfnText": "os specific custom name", "refSections": [{"refs": [{"id": "ref-for-os-specific-custom-name"}], "title": "write web custom formats"}], "external": false};
window.dfnpanelData['fire-a-clipboard-event'] = {"dfnID": "fire-a-clipboard-event", "url": "#fire-a-clipboard-event", "dfnText": "fire a clipboard event", "refSections": [{"refs": [{"id": "ref-for-fire-a-clipboard-event"}], "title": "5.2.2. The copy event"}, {"refs": [{"id": "ref-for-fire-a-clipboard-event\u2460"}], "title": "5.2.3. The cut event"}, {"refs": [{"id": "ref-for-fire-a-clipboard-event\u2461"}], "title": "5.2.4. The paste event"}, {"refs": [{"id": "ref-for-fire-a-clipboard-event\u2462"}, {"id": "ref-for-fire-a-clipboard-event\u2463"}], "title": "8.1. The copy action"}, {"refs": [{"id": "ref-for-fire-a-clipboard-event\u2464"}, {"id": "ref-for-fire-a-clipboard-event\u2465"}, {"id": "ref-for-fire-a-clipboard-event\u2466"}], "title": "8.2. The cut action"}, {"refs": [{"id": "ref-for-fire-a-clipboard-event"}], "title": "8.3. The paste action"}], "external": false};
window.dfnpanelData['process-an-html-paste-event'] = {"dfnID": "process-an-html-paste-event", "url": "#process-an-html-paste-event", "dfnText": "process an HTML paste event", "refSections": [{"refs": [{"id": "ref-for-process-an-html-paste-event"}], "title": "fire a clipboard event"}], "external": false};
</script>
<script>/* Boilerplate: script-dom-helper */
function query(sel) { return document.querySelector(sel); }

function queryAll(sel) { return [...document.querySelectorAll(sel)]; }

function iter(obj) {
	if(!obj) return [];
	var it = obj[Symbol.iterator];
	if(it) return it;
	return Object.entries(obj);
}

function mk(tagname, attrs, ...children) {
	const el = document.createElement(tagname);
	for(const [k,v] of iter(attrs)) {
		if(k.slice(0,3) == "_on") {
			const eventName = k.slice(3);
			el.addEventListener(eventName, v);
		} else if(k[0] == "_") {
			// property, not attribute
			el[k.slice(1)] = v;
		} else {
			if(v === false || v == null) {
        continue;
      } else if(v === true) {
        el.setAttribute(k, "");
        continue;
      } else {
  			el.setAttribute(k, v);
      }
		}
	}
	append(el, children);
	return el;
}

/* Create shortcuts for every known HTML element */
[
  "a",
  "abbr",
  "acronym",
  "address",
  "applet",
  "area",
  "article",
  "aside",
  "audio",
  "b",
  "base",
  "basefont",
  "bdo",
  "big",
  "blockquote",
  "body",
  "br",
  "button",
  "canvas",
  "caption",
  "center",
  "cite",
  "code",
  "col",
  "colgroup",
  "datalist",
  "dd",
  "del",
  "details",
  "dfn",
  "dialog",
  "div",
  "dl",
  "dt",
  "em",
  "embed",
  "fieldset",
  "figcaption",
  "figure",
  "font",
  "footer",
  "form",
  "frame",
  "frameset",
  "head",
  "header",
  "h1",
  "h2",
  "h3",
  "h4",
  "h5",
  "h6",
  "hr",
  "html",
  "i",
  "iframe",
  "img",
  "input",
  "ins",
  "kbd",
  "label",
  "legend",
  "li",
  "link",
  "main",
  "map",
  "mark",
  "meta",
  "meter",
  "nav",
  "nobr",
  "noscript",
  "object",
  "ol",
  "optgroup",
  "option",
  "output",
  "p",
  "param",
  "pre",
  "progress",
  "q",
  "s",
  "samp",
  "script",
  "section",
  "select",
  "small",
  "source",
  "span",
  "strike",
  "strong",
  "style",
  "sub",
  "summary",
  "sup",
  "table",
  "tbody",
  "td",
  "template",
  "textarea",
  "tfoot",
  "th",
  "thead",
  "time",
  "title",
  "tr",
  "u",
  "ul",
  "var",
  "video",
  "wbr",
  "xmp",
].forEach(tagname=>{
	mk[tagname] = (...args) => mk(tagname, ...args);
});

function* nodesFromChildList(children) {
	for(const child of children.flat(Infinity)) {
		if(child instanceof Node) {
			yield child;
		} else {
			yield new Text(child);
		}
	}
}
function append(el, ...children) {
	for(const child of nodesFromChildList(children)) {
		if(el instanceof Node) el.appendChild(child);
		else el.push(child);
	}
	return el;
}

function insertAfter(el, ...children) {
	for(const child of nodesFromChildList(children)) {
		el.parentNode.insertBefore(child, el.nextSibling);
	}
	return el;
}

function clearContents(el) {
	el.innerHTML = "";
	return el;
}

function parseHTML(markup) {
	if(markup.toLowerCase().trim().indexOf('<!doctype') === 0) {
		const doc = document.implementation.createHTMLDocument("");
		doc.documentElement.innerHTML = markup;
		return doc;
	} else {
		const el = mk.template({});
		el.innerHTML = markup;
		return el.content;
	}
}
</script>
<script>/* Boilerplate: script-position-annos */
"use strict";
{

function repositionAnnoPanels(){
    const panels = [...document.querySelectorAll("[data-anno-for]")];
    const main = document.querySelector("main");
    let mainRect;
    if(main) mainRect = main.getBoundingClientRect();
    for(const panel of panels) {
        const dfn = document.getElementById(panel.getAttribute("data-anno-for"));
        if(!dfn) {
            console.log("Can't find the annotation panel target:", panel);
            continue;
        }
        const rect = dfn.getBoundingClientRect();
        const top = window.scrollY + rect.top
        panel.style.top = top + "px";
        panel.top = top;
        panel.height = rect.height;
        panel.classList.remove("unpositioned");
        const panelRect = panel.getBoundingClientRect()
        if(main) {
            panel.classList.toggle("overlapping-main", panelRect.left < mainRect.right)
        }
    }
    let vSoFar = 0;
    for(const panel of panels.sort(cmpTops)) {
        if(panel.top < vSoFar) {
            panel.top = vSoFar;
            panel.style.top = vSoFar + "px";
        }
        vSoFar = panel.top + panel.height + 15;
    }
}

function cmpTops(a,b) {
    return a.top - b.top;
}

window.addEventListener("load", repositionAnnoPanels);
window.addEventListener("resize", repositionAnnoPanels);
}
</script>
<script>/* Boilerplate: script-var-click-highlighting */
/*
Color-choosing design:

Colors are ordered by goodness.
Each color has a usage count (initially zero).
Each variable has a last-used color.

* If the var has a last-used color, and that color's usage is 0,
    return that color.
* Otherwise, return the lowest-indexed color with the lowest usage.
    Increment the color's usage and set it as the last-used color
    for that var.
* On unclicking, decrement usage of the color.
*/
"use strict";
{
    document.addEventListener("click", e=>{
        if(e.target.nodeName == "VAR") {
            highlightSameAlgoVars(e.target);
        }
    });
    const indexCounts = new Map();
    const indexNames = new Map();
    function highlightSameAlgoVars(v) {
        // Find the algorithm container.
        let algoContainer = null;
        let searchEl = v;
        while(algoContainer == null && searchEl != document.body) {
            searchEl = searchEl.parentNode;
            if(searchEl.hasAttribute("data-algorithm")) {
                algoContainer = searchEl;
            }
        }

        // Not highlighting document-global vars,
        // too likely to be unrelated.
        if(algoContainer == null) return;

        const algoName = algoContainer.getAttribute("data-algorithm");
        const varName = getVarName(v);
        const addClass = !v.classList.contains("selected");
        let highlightClass = null;
        if(addClass) {
            const index = chooseHighlightIndex(algoName, varName);
            indexCounts.get(algoName)[index] += 1;
            indexNames.set(algoName+"///"+varName, index);
            highlightClass = nameFromIndex(index);
        } else {
            const index = previousHighlightIndex(algoName, varName);
            indexCounts.get(algoName)[index] -= 1;
            highlightClass = nameFromIndex(index);
        }

        // Find all same-name vars, and toggle their class appropriately.
        for(const el of algoContainer.querySelectorAll("var")) {
            if(getVarName(el) == varName) {
                el.classList.toggle("selected", addClass);
                el.classList.toggle(highlightClass, addClass);
            }
        }
    }
    function getVarName(el) {
        return el.textContent.replace(/(\s|\xa0)+/, " ").trim();
    }
    function chooseHighlightIndex(algoName, varName) {
        let indexes = null;
        if(indexCounts.has(algoName)) {
            indexes = indexCounts.get(algoName);
        } else {
            // 7 classes right now
            indexes = [0,0,0,0,0,0,0];
            indexCounts.set(algoName, indexes);
        }

        // If the element was recently unclicked,
        // *and* that color is still unclaimed,
        // give it back the same color.
        const lastIndex = previousHighlightIndex(algoName, varName);
        if(indexes[lastIndex] === 0) return lastIndex;

        // Find the earliest index with the lowest count.
        const minCount = Math.min.apply(null, indexes);
        let index = null;
        for(var i = 0; i < indexes.length; i++) {
            if(indexes[i] == minCount) {
                return i;
            }
        }
    }
    function previousHighlightIndex(algoName, varName) {
        return indexNames.get(algoName+"///"+varName);
    }
    function nameFromIndex(index) {
        return "selected" + index;
    }
}
</script>